<!DOCTYPE html>
<html lang="en-US">
<head>
<title>ERDDAP - Changes</title>
<meta charset="UTF-8">
<link rel="shortcut icon" href="https://coastwatch.pfeg.noaa.gov/erddap/images/favicon.ico">
<link href="../images/erddap2.css" rel="stylesheet" type="text/css">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body> 
<table class="compact nowrap" style="width:100%; background-color:#128CB5;"> 
  <tr> 
    <td style="text-align:center; width:80px;"><a rel="bookmark"
      href="https://www.noaa.gov/"><img 
      title="National Oceanic and Atmospheric Administration" 
      src="../images/noaab.png" alt="NOAA"
      style="vertical-align:middle;"></a></td> 
    <td style="text-align:left; font-size:x-large; color:#FFFFFF; ">
      <strong>ERDDAP</strong>
      <br><small><small><small>Easier access to scientific data</small></small></small>
      </td> 
    <td style="text-align:right; font-size:small;"> 
      &nbsp; &nbsp;
      <br>Brought to you by 
      <a title="National Oceanic and Atmospheric Administration" rel="bookmark"
      href="https://www.noaa.gov">NOAA</a>  
      <a title="National Marine Fisheries Service" rel="bookmark"
      href="https://www.fisheries.noaa.gov">NMFS</a>  
      <a title="Southwest Fisheries Science Center" rel="bookmark"
      href="https://swfsc.noaa.gov">SWFSC</a> 
      <a title="Environmental Research Division" rel="bookmark"
      href="https://swfsc.noaa.gov/textblock.aspx?Division=ERD&amp;id=1315&amp;ParentMenuId=200">ERD</a>  
      &nbsp; &nbsp;
      </td> 
  </tr> 
</table>

<div class="standard_width"> 

&nbsp;

<h1 style="text-align:center;">ERDDAP Changes</h1>

<p>ERDDAP is a great example of 
<a rel="bookmark" href="https://en.wikipedia.org/wiki/User_innovation">User-Driven Innovation<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>,
where product innovation often comes from consumers (ERDDAP users), not just the producers (ERDDAP developers).
Over the years, most of the ideas for new features and changes in ERDDAP have come from users.
Those users are credited below for their great ideas. Thank you! Please keep
those great suggestions coming!

<p>Here are the changes associated with each ERDDAP release.


<!--  

<li> FLAWED! Announce after fixed.
    New data file type: Users can now request gridded and tabular data 
    in the Igor .itx format.  (Flawed intro in v1.74.)

<li> In .nc files written by ERDDAP, 
  char variables to be interpreted as individual chars have the attribute
  "charset"="ISO-8859-1".
  In .nc files read by ERDDAP, char variables with ... will be interpreted
  with the specified charset.

-->

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes2.01" href="#changes2.01" rel="bookmark">Changes</a> 
in ERDDAP version 2.01 (released 2019-07-02)</h2>
<ul>
<li><strong>New Features and Changes (for users):</strong> 
  <ul>
  <li>None.
  </ul>
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>BUG FIX: A bug in the code which generates the Data Access Form for tabledap datasets 
    caused that web page to be blank for some datasets.
    Also, I improved the handling of unexpected errors on all HTML pages so they 
    will (usually) display an error message.
    Thanks to Marco Alba.
  <li>CHANGE: GenerateDatasetsXml no longer prints a lengthy warning at the top of the output. 
    Instead, please see 
    <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EditingGDXOutput"
        >Editing GenerateDatasetsXml Output</a>.
    Thanks to Steven Baum.
  <li>CHANGE: GenerateDatasetsXml now makes slightly different recommendations 
    in different situations for &lt;updateEveryNMillis&gt; for EDD...From...Files datasets.
    Also, GenerateDatasetsXml now discourages the original "extract" system for EDDTableFromFiles datasets.
  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes2.00" href="#changes2.00" rel="bookmark">Changes</a> 
in ERDDAP version 2.00 (released 2019-06-26)</h2>
<ul>
<li><strong>ERDDAP v2.00 is finally here! Yea!</strong> 
    <br>&nbsp;
  <ul>
  <li>We apologize for the long delay needed to finish this version. 
    <br>Thank you for your patience.
    <br>&nbsp;
  <li>The good news is that the extra time was used to add more of the features that users had requested.
     The bad news is that even with the delay, not all requested features were added.
     We're sorry, but it seemed more important to get this release out
     than to delay more (forever?) continually adding new features.
     We promise to return to more frequent releases in the future.
    <br>&nbsp;
  <li>"Version 2?! Are there big changes and incompatibilities?" 
    <br>Big new features? Yes. 
    <br>Big incompatibilities or changes for administrators or users? No.
    <br>We jumped from v1.82 to v2.00:
    <ul>
    <li>partly to celebrate 10 years (now 11) since the
      first public release of ERDDAP (v1.00 on 2008-05-06, which outwardly looked
      remarkably like v2.00). In that time, ERDDAP has gone from one installation 
      to almost 100 installations in at least 10 countries 
      (Australia, Canada, France, Ireland, Italy, South Africa, Spain, Thailand, UK, USA).
    <li>partly to mark a major addition in an entirely new direction:
      ERDDAP now has a data ingest system
      to go with the existing data server services
      (see <a rel="help" href="#EDDTableFromHttpGet">EDDTableFromHttpGet</a>),
    <li>and partly because it wasn't a big jump from 1.82 to 2.00 numerically,
      so this seemed like the right time.
      <br>&nbsp;
    </ul>
  <li>The other good news is that there are now two other groups contributing code    
    to ERDDAP (in this version and with indications they will continue):
    Rob Fuller and Adam Leadbetter of Ireland's Marine Institute,
    and Roland Schweitzer of PMEL and Weathertop Consulting.
    Thank you very much. It's true that they are working on projects of their own
    choosing, but that's the classic open-source development model --
    groups contribute code for the features that they would most like to see added.
    The added benefit to contributors: they get to use the new features as soon 
    as they were finished; they didn't have to wait for the next release of ERDDAP.
    Your group is welcome to contribute, too! See the 
    <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#programmersGuide"
        >ERDDAP Programmer's Guide</a>.
    <br>&nbsp;
  <li>We hope you like ERDDAP v2.00. We look forward to the next 10 years of
    ERDDAP development and ever more use around the world. 
    <br>&nbsp;
  </ul>

<li><strong>New Features and Changes (for users):</strong> 
  <br>&nbsp;
  <ul>
  <li>NEW: orderByMean filter
    <br>for tabledap datasets will calculate the means
    for the specified groups. 
    Also, all of the orderBy options now support an additional way of defining groups:
    <i>numericVariable[/number[timeUnits][:offset]]</i>, e.g., time/1day or depth/10:5.
    For example, <kbd>stationID,time,waterTemp&amp;orderByMean("stationID,time/1day")</kbd>
    would sort the results by stationID and time, then calculate and return the mean 
    of waterTemp for each stationID for each day.
    These are remarkably useful and powerful new features.
    The new code for these features and the changes to the old code were contributed 
    by Rob Fuller and Adam Leadbetter of 
    Ireland's Marine Institute and submitted via Git. Thank you, Rob and Adam!
    <br>&nbsp;
  <li>NEW: output file type for tabular datasets: 
    <a rel="help" href="https://developers.google.com/chart/interactive/docs/reference#dataparam"
        >.dataTable</a>, 
    <br>a JSON file formatted for use with the Google Visualization client library
    (Google Charts).
    The code for this was contributed by Roland Schweitzer and submitted via Git. 
    Thank you, Roland!
    <br>&nbsp;
  <li>NEW: output file type for tabular datasets:
    <a rel="help" href="http://jsonlines.org/examples/"
        >.jsonlCSV1</a>,
    <br>which is like the existing .jsonlCSV option, but with
        column names on the first line.
    Thanks to Eugene Burger.
    <br>&nbsp;
  <li>NEW: If the administrator enables it, users can now log in with their 
    <a rel="bookmark" href="https://orcid.org">ORCID<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>
    account. 
    <br>It is an OAuth 2.0 authentication system, much like Google authentication. 
    ORCID is widely used by researchers to uniquely identify themselves.
    ORCID accounts are free and don't have the privacy issues that Google accounts have.
    See ERDDAP's <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#authenticationOrcid"
        >Orcid authentication instructions</a>.
    Thanks to BCO-DMO (Adam Shepard, Danie Kinkade, etc.).
    <br>&nbsp;
  <li>NEW: A new URL converter converts out-of-date URLs into up-to-date URLs.
    <br>See .../erddap/convert/urls.html    
    on any ERDDAP installation, e.g., 
    <br><a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/convert/urls.html"
        >this link to the converter in the ERD ERDDAP</a>.
    This should be useful to data managers.
    This is also used internally by GenerateDatasetsXml.
    Thanks to Bob Simons and Sharon Mesick.
    <br>&nbsp;
  <li>IMPROVED: The <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html"
        >Time Converter</a> now has options to 
    convert any common string time into an ISO8601 string time,
    or convert a UDUNITS-like time units string into a proper UDUNITS time units string.
    This should also be useful to ERDDAP administrators who need to 
    know what format to specify for the "units" attribute for string time variables.
    This is also used internally by GenerateDatasetsXml and 
    the standardizeWhat feature of EDDTableFromFiles.
    Thanks to Bob Simons.
    <br>&nbsp;
  <li>NEW: The <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html"
        >Units Converter</a> has a new "Standardize UDUnits" option.
    <br>For example, "deg_C/m" and "degrees_C meters-1" are both converted to 
    <br>"degree_C m-1".
    This feature is also used by the standardizeWhat feature of EDDTableFromFiles.    
    Thanks to Bob Simons.
    <br>&nbsp;
  <li>NEW: For graphs (other than surface graphs) on griddap's and tabledap's 
    Make A Graph web pages, when the x axis isn't a time axis,
    if only a subset of the x axis variable's range is visible,
    there are now buttons above the graph to shift the X Axis leftwards or rightwards.
    Thanks to Carrie Wall Bell / the Hydrophone project.
    <br>&nbsp;
  <li>NEW: For graphs, the X and/or Y axis can now use a Log scale.
    <br>Users can control the Y Axis Scale via a new drop-down widget on the griddap 
    and tabledap Make A Graph web pages.
    See the 
    <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#xRange"
        >.xRange and .yRange documentation</a>.
    Thanks to Carrie Wall Bell / the Hydrophone project.
    <br>&nbsp;
  <li>CHANGE: ERDDAP now makes better use of various HTTP error codes 
    and now returns an (OPeN)DAPv2.0-formatted error message payload.
    See <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#Errors"
        >the details</a>.
      Thanks to Antoine Queric and Aurelie Briand.
    <br>&nbsp;
  <li>CHANGE: Don't use Netcdf-java/c or other software tools to connect to 
    .nc or .hdf files served by ERDDAP's /files/ system as if they were local files. 
    ERDDAP now refuses these requests.
    It is horribly inefficient and often causes other problems. 
    Instead:
    <ul>
    <li>Use (OPeN)DAP client software to connect to ERDDAP's DAP services for the dataset
      (which have /griddap/ or /tabledap/ in the URL). That's what DAP is for and does so well.
    <li>Or, use the dataset's Data Access Form to request a subset of data.
    <li>Or, if you need the entire file or repeated access over a long period of time,
      use curl, wget, or your browser to download the entire file,
      then access the data from your local copy of the file.
    </ul>
    <br>&nbsp;
  <li>CHANGE: On the ERDDAP homepage, Full Text Search is now
    above "View a List of All Datasets" since it is the best starting point for most users.
    Thanks to Didier Mallarino and Maurice Libes.
    <br>&nbsp;
  <li>CHANGE: On DataProviderForm3.html there are now dropdown lists of common standard_names.
    Thanks to someone at the IOOS DMAC meeting.
    <br>&nbsp;
  <li>CHANGE: On the /files/ web pages, there is now a link to the new
    "What can I do with these files?" section of the /files/ documentation.
    That section describes various file types and gives suggestions for how to 
    work with them.
    Thanks to Maurice Libes.
    <br>&nbsp;
  <li>CHANGE: Almost every request to ERDDAP should be at least a little bit faster,
    and sometimes a lot faster.
    <br>&nbsp;
  <li>BUG FIX: Under some circumstances, when an EDDTable dataset saved data in some
    types of .nc files, the global "id" attribute was set to the file's suggested name,
    which includes a hash to make it unique to that request.
    Now "id" is properly left unchanged (if specified) or set to the dataset's datasetID
    (if not specified).
    Thanks to John Maurer.
    <br>&nbsp;
  </ul>
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <br>&nbsp;
  <ul>
  <li>TO DO: This release will take some time and work from you. Please be
    patient and plan on taking a few hours to do the required changes
    and a few more hours to experiment with new features. 
    <br>&nbsp;

  <li>TO DO: For safety, make a backup copy of your current setup.xml and datasets.xml files
    so that you can revert to them in the unlikely case where you need to revert
    to ERDDAP v1.82.
    <br>&nbsp;

  <li>TO DO: The recommended Java is now AdoptOpenJDK's OpenJDK 8 (LTS) + HotSpot.
    <br>This is an open source variant of Java that has no restrictions on its use
    (unlike Oracle's Java distribution). 
    It is derived from Oracle's Java in an on-going way, with Oracle's blessing.
    For security reasons, it is important to keep your Java version up-to-date.
    See ERDDAP's
      <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#java"
        >Java installation instructions</a>.
    <br>&nbsp;

  <li>TO DO: AdoptOpenJDK's Java needs a small addition to your Tomcat installation:
     see the <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#ResourcesCache"
        >Resources Cache instructions</a>. I think that this is a replacement for
        the -XX:MaxPermSize setting, which (Adopt)OpenJDK no longer supports.
    <br>&nbsp;
  <li>TO DO: The new default and recommend &lt;fontFamily&gt; setting in setup.xml is
      <br><kbd>DejaVu Sans</kbd> which are built into AdoptOpenJDK's Java. See the 
    <br><a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#fonts"
        >revised font installation instructions</a>.
    <br>&nbsp;
  <li>TO DO: Many tags are moving from setup.xml to datasets.xml.
    The advantage is that you can change their values
    while ERDDAP is running, without restarting ERDDAP. 
    Notably, you can easily change &lt;startBodyHtml5&gt; 
      to display a temporary message on the ERDDAP home page 
      (e.g., "Check out the new JPL MUR SST v4.1 dataset ..." or
      "This ERDDAP will be offline for maintenance 2019-05-08T17:00:00 PDT
      through 2019-05-08T20:00:00 PDT.").
    If/when you change these tags in datasets.xml, 
    the changes will take effect the next time ERDDAP reads datasets.xml.
    <br>&nbsp;
    <ol>  
    <li>Copy this content into your datasets.xml file (anywhere near the start of the file, after &lt;erddapDatasets&gt;):
<pre>
&lt;!-- The tags below are described in setupDatasetsXml.html.
     The defaults listed below are as of ERDDAP v2.00. --&gt;
&lt;cacheMinutes&gt;&lt;/cacheMinutes&gt;                                     &lt;!-- default=60 --&gt; 
&lt;decompressedCacheMaxGB&gt;&lt;/decompressedCacheMaxGB&gt;                 &lt;!-- default=10 --&gt; 
&lt;decompressedCacheMaxMinutesOld&gt;&lt;/decompressedCacheMaxMinutesOld&gt; &lt;!-- default=15 --&gt; 
&lt;drawLandMask&gt;&lt;/drawLandMask&gt;                                     &lt;!-- "over" or "under" (default) --&gt;
&lt;graphBackgroundColor&gt;&lt;/graphBackgroundColor&gt;                     &lt;!-- 0xAARRGGBB, default is 0xffccccff --&gt;
&lt;loadDatasetsMinMinutes&gt;&lt;/loadDatasetsMinMinutes&gt;                 &lt;!-- usually=default=15 --&gt;
&lt;loadDatasetsMaxMinutes&gt;&lt;/loadDatasetsMaxMinutes&gt;                 &lt;!-- default=60 --&gt;
&lt;logLevel&gt;&lt;/logLevel&gt; &lt;!-- "warning" (fewest messages), "info" (default), or "all" (most messages) --&gt;
&lt;nGridThreads&gt;&lt;/nGridThreads&gt;                                     &lt;!-- default=1 --&gt;
&lt;nTableThreads&gt;&lt;/nTableThreads&gt;                                   &lt;!-- default=1 --&gt;
&lt;partialRequestMaxBytes&gt;&lt;/partialRequestMaxBytes&gt;                 &lt;!-- default=490000000 --&gt;
&lt;partialRequestMaxCells&gt;&lt;/partialRequestMaxCells&gt;                 &lt;!-- default=10000000 --&gt;
&lt;slowDownTroubleMillis&gt;&lt;/slowDownTroubleMillis&gt;                   &lt;!-- default=1000 --&gt;
&lt;unusualActivity&gt;&lt;/unusualActivity&gt;                               &lt;!-- default=10000 --&gt;
&lt;!-- The defaults for the following tags are in messages.xml. --&gt;
&lt;startHeadHtml5&gt;&lt;/startHeadHtml5&gt;                                
&lt;startBodyHtml5&gt;&lt;/startBodyHtml5&gt;                                 &lt;!-- This is often customized. --&gt;
&lt;theShortDescriptionHtml&gt;&lt;/theShortDescriptionHtml&gt;               &lt;!-- This is often customized. --&gt;
&lt;endBodyHtml5&gt;&lt;/endBodyHtml5&gt;
&lt;standardLicense&gt;&lt;/standardLicense&gt;
&lt;standardContact&gt;&lt;/standardContact&gt;
&lt;standardDataLicenses&gt;&lt;/standardDataLicenses&gt;
&lt;standardDisclaimerOfEndorsement&gt;&lt;/standardDisclaimerOfEndorsement&gt;
&lt;standardDisclaimerOfExternalLinks&gt;&lt;/standardDisclaimerOfExternalLinks&gt;
&lt;standardGeneralDisclaimer&gt;&lt;/standardGeneralDisclaimer&gt;
&lt;standardPrivacyPolicy&gt;&lt;/standardPrivacyPolicy&gt;
</pre>
    <li>One-by-one, copy the value (if any) for each of those tags from your setup.xml
      file into the new tag that you just pasted (above) in datasets.xml.
      For example, if you had used a value of 30 for &lt;cacheMinutes&gt; in setup.xml,
      you should copy that value into the new &lt;cacheMinutes&gt; tag in datasets.xml
      (although if the value is the same as the new default value, it is best to just
      leave the tag in datasets.xml blank).
      
      <p>If your value is different from the new suggested default
      (other than for &lt;startBodyHtml5&gt; and &lt;theShortDescriptionHtml&gt;,
      which are useful for customizing your ERDDAP installation), 
      please consider switching to the new default values.
      This is particularly true of &lt;partialRequestMaxBytes&gt; and &lt;partialRequestMaxCells&gt;,
      where the default/suggested value has changed significantly over the years.

      <p>After you copy each value, delete the tag and its description 
      from setup.xml.
      It is better to have these tags in datasets.xml. And there are now better descriptions in 
      <a rel="help" 
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#basicStructure"
        >setupDatasetsXml.html</a>.
    </ol>
  
    <p>A quirk of the new system is that the very first web page when you start up ERDDAP
      will be the default ERDDAP web page. Every subsequent, web page will use the ...Html content
      you specify in datasets.xml.

  <li>WARNING: The first time you run ERDDAP v2.0, datasets based on local data files
    will load <strong>very</strong> slowly because ERDDAP needs to recreate
    its database of files in a slightly different format. 
    After the slow initial reload, they will load quickly, as before. Please be patient.
    <br>&nbsp;

  <li><a class="selfLink" id="EDDTableFromHttpGet" href="#EDDTableFromHttpGet" rel="bookmark"
    >BIG NEW FEATURE: EDDTableFromHttpGet</a>
    <br>Until now, ERDDAP just read data and made it available to users.
    Now, ERDDAP has a simple, efficient system
    for ingesting real time data from sensors. 
    Among other features, this dataset offers fine-grained versioning:
    it remembers every change made to the dataset, when it was made, and by whom.
    Usually, users will just want the latest version of the dataset, with all
    changes applied. But there is the option for users to request data from the 
    dataset as it was at any point in time. This facilitates reproducible science.
    Thus, unlike most other near-real-time datasets, these datasets are eligible for 
    <a rel="bookmark" href="https://en.wikipedia.org/wiki/Digital_object_identifier"
        >DOIs<img src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>. 
    because they meet the DOI requirement
    that the dataset by unchanging, except by aggregation. 
    See 
    <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromHttpGet"
        >EDDTableFromHttpGet</a>.
    Thanks to OOI (from long ago and now) for talking about the need for this
    and Eugene Burger for the reminder about working on what is important.
    <br>&nbsp;

  <li>BIG NEW FEATURE: ERDDAP can now serve data directly from externally-compressed data files,
    including .tgz, .tar.gz, .tar.gzip, .gz, .gzip, .zip, .bz2, or .Z.
    Datasets may include a mix of externally-compressed files (perhaps the older data files?)
    and non-externally-compressed files, and you can compress/decompress a file at any time.
    <p>This works great! 
    <br>In most cases, the slowdown related to decompressing the
    files is minor. We strongly encourage you to try this, notably for datasets 
    and/or data files that are infrequently used.
    <p>This may save you $30,000 or more!
    <br>This is one of the few ERDDAP features that can save you lots of money --
    if you compress a lot of data files, you will need far fewer RAIDs/hard drives
    to store the data, or conversely, you can serve far more data (up to 10x) with the
    RAIDs you already have. If this feature saves you from buying another RAID,
    then it has saved you about $30,000.

    <p>See the <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#ExternallyCompressedFiles"
        >Externally Compressed Files documentation</a>.
    Thanks to Benoit Perrimond and Paloma Delavallee.

  <li>BIG NEW FEATURE: All EDDGridFromFiles and all EDDTableFromFiles datasets support a
    <kbd>&lt;cacheFromUrl&gt;</kbd> tag and a <kbd>&lt;cacheSizeGB&gt;</kbd> tag.
    If cacheSizeGB isn't specified, this will download and maintain a complete copy of a 
    remote dataset's files.
    If cacheSizeGB is specified and is &gt;0, 
    this will download files from the remote dataset, as needed,
    into a local cache with a limited size, 
    which is useful when working with cloud-based (e.g., S3) data files.
    See the 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#cacheFromUrl" rel="bookmark"
    >cacheFromUrl documentation</a> for details.
    Thanks to Bob Simons and Roy Mendelssohn (who for years have been writing scripts
    to handle making local copies of remote dataset files), Eugene Burger, 
    Conor Delaney (when he was at Amazon Web Services), and the Google Cloud Platform.
    <br>&nbsp;

  <li>NEW: The new EDDTableFromJsonlCSV class can read tabular data from
    <br><a rel="bookmark"
        href="http://jsonlines.org/examples/"
             >JSON Lines CSV files<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>
        ("Better than CSV").
    Thanks to the people at the Marine Institute of Ireland for telling me about this format
    and to Eugene Burger and PMEL for the request to support it as an input type.    
    <br>&nbsp;

  <li>NEW: All EDDGrid and all EDDTableFromFiles datasets support an <kbd>&lt;nThreads&gt;</kbd> setting,
    which tells ERDDAP how many threads to use when responding to a request.
    <p>Rule of Thumb: 
    For most datasets on most systems, use nThreads=1, the default.
    If you have a powerful computer (lots of CPU cores, lots of memory), 
    then consider setting nThreads to 2, 3, or 4 for datasets that will benefit the most,
    notably datasets where something causes a lag before a chunk of data can actually 
    be processed. For example:
        <ul>
        <li>Datasets with 
            <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#ExternallyCompressedFiles"
            >externally-compressed (e.g., .gz)</a>     
            binary (e.g., .nc) files, because ERDDAP has to decompress the whole file
            before it can start to read the file.
        <li>Datasets that use 
            <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#cacheFromUrl" rel="bookmark"
            >cacheFromUrl and cacheSizeGB</a>,
            because ERDDAP often has to download the file before it can read it.
        <li>Datasets with data files stored on a high-bandwidth parallel file system,
            because it can deliver more data, faster, when requested. Examples of
            parallel file systems include JBOD, pNFS, GlusterFS, 
            Amazon S3, and Google Cloud Storage.
        </ul>
    Warning: When using nThreads&gt;1, keep an eye on ERDDAP's memory use, thread use, and overall responsiveness
    (see <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#statusPage"
    >ERDDAP's status page</a>).
    See the 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#nThreads" rel="bookmark">nThreads</a> 
    documentation for details.
    Thanks to Rob Bochenek of Axiom Data Science, Eugene Burger, 
    Conor Delaney (when he was at Amazon Web Services), and Google Cloud Platform.
    <br>&nbsp;

  <li>NEW standardizeWhat for all EDDTableFromFiles subclasses -
    <br>Previously, if for a given variable, the values of the important attributes (e.g., 
    scale_factor, add_offset, missing_value, _FillValue, units) weren't consistent, 
    EDDTableFromFiles would pick one value for each attribute to be "valid" 
    and mark files with other attribute values as "Bad Files".
    Now, there is a system to standardize the files as soon as EDDTableFromFiles
    reads the files. 
    See 
    <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromFiles_standardizeWhat"
        >EDDTableFromFile's standardizeWhat</a>.
    One of ERDDAP's main goals is to make data files and datasets accessible
    in a consistent way. standardizeWhat is an important new tool to make that a reality.    
    Thanks to Marco Alba, Margaret O'Brien (and other EML users), BCO-DMO,
    and InPort users.
    <br>&nbsp;

  <li>NEW EDDTableFromInvalidCRAFiles allows you to make a dataset from a collection 
    of NetCDF (v3 or v4) .nc files which use 
    a specific, invalid, variant of the CF DSG Contiguous Ragged Array (CRA) files.
    Sample files for this dataset type can be found at 
    <a rel="bookmark"
        href="https://data.nodc.noaa.gov/thredds/catalog/ncei/wod/"
             >https://data.nodc.noaa.gov/thredds/catalog/ncei/wod/<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>. 
    Although ERDDAP supports this file type, it is an invalid file type 
    that no one should start using. Groups that currently use this file type are 
    strongly encouraged to use ERDDAP to generate valid CF DSG CRA files
    and stop using these files. Thanks to Ajay Krishnan and Tim Boyer.
    <br>&nbsp;

  <li>EDDTableFromThreddsFiles and EDDTableFromHyraxFiles are now deprecated.
    Please switch to EDDTableFromNcFiles (or a variant) plus &lt;cacheFromUrl&gt;.
    If that doesn't work for some reason, email bob.simons at noaa.gov.
    If there are no complaints before 2020, these dataset types may be removed.
    <br>&nbsp;

  <li>IMPROVED -- The system for automatically converting non-ISO 8601 times
    into ISO 8601 times (introduced in v1.82) has been greatly expanded
    to deal with a large number of additional formats. 
    This affects GenerateDatasetsXml and ERDDAP's handling of source metadata.
    <br>&nbsp;

  <li>IMPROVED -- With its third major revision of the String time parsing system 
    (and hopefully the last), 
    ERDDAP no longer uses Java's DateTimeFormatter because of bugs 
    which sometimes affect extreme times (years &lt;=0000). 
    ERDDAP now uses its own system for parsing time strings.
    <br>&nbsp;

  <li>WARNING: The new String time parsing system is somewhat stricter. 
    If one of your datasets suddenly has only missing values for time values,
    the cause is almost certainly that the time format string is slightly wrong.
    There should be error messages in log.txt related to time values that
    didn't match the time format -- that should help you fix the time format string
    for that dataset. If you need help, use the option in ERDDAP's Time Converter
    which "Convert[s] any common string time into an ISO 8601 string time" --
    it indicates the format that the converter used to parse the source string.    
    <br>&nbsp;

  <li>RECOMMENDATION: The quickest, easiest, and cheapest way to speed up ERDDAP's
    access to tabular data is to put the data files on a Solid State Drive (SSD).
    Most tabular datasets are relatively small, so a 1 or 2 TB SSD is probably
    sufficient to hold all of the data files for all of your tabular datasets.
    SSD's eventually wear out if you write data to a cell, delete it, 
    and write new data to that cell too many times.
    Instead, I recommend that (as much as possible) you just use your SSD to write the data once 
    and read it many times. Then,
    even a consumer-grade SSD should last a very long time, probably much longer
    than any Hard Disk Drive (HDD).
    Consumer-grade SSD's are now cheap (in 2018, ~$200 for 1 TB or ~$400 for 2 TB)
    and prices are still falling fast.
    When ERDDAP accesses a data file, an SSD offers both 
    <ul>
    <li>shorter latency (~0.1ms, versus ~3ms for an HDD, versus ~10(?)ms for a RAID, versus ~55ms for Amazon S3), and
    <li>higher throughput (~500 MB/S, versus ~75 MB/s for an HDD versus ~500 MB/s for a RAID).
    </ul>So you can get up to a ~10X performance boost (vs a HDD) for $200!
    Compared to most other possible changes to your system 
    (a new server for $10,000? a new RAID for $35,000? a new network switch for $5,000? etc.),
    this is by far the best Return On Investment (ROI).
    If your server isn't loaded with memory, additional memory for your server 
    is also a great and relatively inexpensive way to speed up all aspects of ERDDAP.
    <br>[SSD's would be great for gridded data, too, but most gridded datasets are 
    much larger, making the SSD very expensive.]
    <br>&nbsp;
  <li>NEW: Everyone who is logged in gets role=[anyoneLoggedIn], even if there
    is no &lt;user&gt; tag for them in datasets.xml.
    If you set dataset's &lt;accessibleTo&gt; to <kbd>[anyoneLoggedIn]</kbd>, 
    then anyone who has logged in to ERDDAP (e.g., via their Gmail or Orcid account) 
    will be authorized to access the dataset, 
    even if you haven't specified a &lt;user&gt; tag for them in datasets.xml.
    Thanks to Maurice Libes.
    <br>&nbsp;
  <li>IMPROVED: The UDUNITS/UCUM units converter was extensively improved.
    <br>It handles invalid units strings better (starting with an emphasis 
    on preserving information, rather than enforcing validity).
    Also, the results now have a standardized syntax.
    <br>&nbsp;
  <li>NEW: The UDUNITS/UCUM units converter has a new option to standardize a UDUNITS string. 
    <br>This works well for valid UDUNITS strings 
    and reasonably well for non-standard / invalid UDUNITS strings.
    For example, For example,
    UDUNITS="meters per second", "meter/second", "m.s^-1", and "m s-1" will all
    return "m.s-1".
    This was needed for the new standardizeWhat system described above.
    Thanks to Marco Alba, Margaret O'Brien (and other EML users), BCO-DMO,
    and InPort users.
    <br>&nbsp;
  <li>NEW: EDDTableFromMultidimNcFiles now has a 
    <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#treatDimensionsAs"
        >treatDimensionsAs</a> option, that tells ERDDAP to treat certain
     dimensions (e.g., LAT and LON) as if they were other dimensions (e.g., TIME).
     This is useful for some incorrect files that use different dimensions for
     different variables when they should have used just one dimension (e.g., TIME).
     Thanks to Marco Alba and Maurice Libes.
    <br>&nbsp;
  <li>NEW: Now, all EDDGridFrom...Files datasets support a new special axis sourceName
    which tells ERDDAP to extract information from the fileName (just filename.ext)
    and use the value to <strong>replace</strong> the existing leftmost axis value.
    The format is 
    <br><kbd>***replaceFromFileName,<i>dataType</i>,<i>extractRegex</i>,<i>captureGroupNumber</i></kbd>
    <br>See <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromFiles_AggregationViaFileNames"
        >this documentation</a>.
    Thanks to the NOAA Pathfinder Daily aggregation dataset.
    <br>&nbsp;
  <li>NEW: Now, all EDDGridFrom...Files datasets support a new special axis sourceName
    which tells ERDDAP to extract information from the file's pathName (directories + filename.ext)
    <br><kbd>***pathName,<i>dataType</i>,<i>extractRegex</i>,<i>captureGroupNumber</i></kbd>
    <br>For this, the path name always uses '/' as the directory separator character, never '\'.
    <br>See <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromFiles_AggregationViaFileNames"
        >this documentation</a>.
    Thanks to Paloma Delavallee.
    <br>&nbsp;
  <li>NEW: Now, all EDDTableFrom...Files datasets support additional pseudo variable sourceNames
    which extract information from the file's fileName (just filename.ext)
    (see <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#fileNameSourceNames"
        >***fileName</a>)
    or from the file's full pathName (/dir1/dir2/filename.ext)
    (see <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#pathNameSourceNames"
        >***pathName</a>).
    Thanks to Paloma Delavallee.
    <br>&nbsp;
  <li>NEW: If an EDDGrid dataset has one or more very large dimensions (e.g., millions of values) 
    which take up a lot of memory, you can set the new 
    <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#dimensionValuesInMemory"
        >&lt;dimensionValuesInMemory&gt;</a>
    setting to <kbd>false</kbd> (the default is <kbd>true</kbd>),
    which causes the dataset to store the values on disk and retrieve them when needed.
    Thanks to David Rodriguez and Rich Signell (re: EDDGridFromAudioFiles).
    <br>&nbsp;
  <li>IMPROVED: Previously, if you reordered the dataVariables for a EDDTableFromFiles 
    dataset and reloaded the dataset, EDDTableFromFiles would reread all of the 
    datafiles. Now, it can deal with the reordering without rereading all of the data files.
    Thanks to Roland Schweitzer.
    <br>&nbsp;
  <li>IMPROVED: Now, when ERDDAP reads ASCII, NCCSV, and JSON Lines CSV tabular data files, 
    if it finds an error 
    on a given line (e.g., incorrect number of items), it logs a warning message 
    ("WARNING: Skipping line #"... " unexpected number of items..." 
    to the 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#log">log.txt file</a> 
    and then continues to read the rest of the data file.
    Thus, it is your responsibility to look periodically (or write a script to do so)
    for that message in the log.txt so that you can fix the problems in the data
    files. ERDDAP is setup this way so that users can continue to read all of
    the available valid data even though some lines of the file have flaws. 
    Previously, ERDDAP marked the file as "bad" and removed it from the dataset.
    <br>&nbsp;
  <li>CHANGE: When precise times (e.g., to the nearest second or millisecond) are 
    stored at the source as "minutes since ..." (or larger units),
    ERDDAP now rounds them to the nearest millisecond 
    when reading the values into ERDDAP.
    Otherwise, the floating point numbers are bruised and requests
    for data at specific times (e.g., &amp;time=2018-06-15T01:30:00) will fail.
    Previously, it calculated them as precisely as possible (and still
    does if the units are e.g., "seconds since ..." or "milliseconds since ...").
    It's best to avoid this problem by not using large units (e.g., minutes or hours)
    to store precise time values (e.g., microseconds) -- computers do a poor job 
    of handling lots of decimal digits. 
    Thanks to Marco Alba.
    <br>&nbsp;
  <li>CHANGES to EDDTableFromEDDGrid which make it much better.
    EDDTableFromEDDGrid lets users query gridded datasets as if they were tabular 
    datasets ("query by value").
    <ul>
    <li>It now supports a &lt;maxAxis0&gt; tag (default=10) 
      which specifies the maximum number of axis[0] (usually "time") values
      that can be queried at once. This prevents naive requests from getting
      EDDTableFromEDDGrid to search through an entire gridded dataset 
      (which would fail with a timeout error).
    <li>GenerateDatasetsXml now has an option to generate EDDTableFromEDDGrid
      datasets for all of the gridded datasets in a given ERDDAP which match
      a specified regex (use .* to match all datasets).
      The datasets that it creates have additional information in 
      the summary attribute indicating that this is a tabular version of a 
      gridded dataset. And their datasetID is the datasetID of the
      gridded dataset, plus "_AsATable".
    <li>There is a big speed up for the most common setup: when the gridded
      dataset is an EDDGridFromErddap dataset that is in the same ERDDAP.
    </ul>    
    Thanks to James Gallagher and Ed Armstrong.
    <br>&nbsp;
  <li>NEW: generateDatasetsXml for all types of datasets 
    is now much more likely to add a _FillValue or missing_value attribute to 
    a numeric variable's addAttributes.
    For example, this occurs when string
    missing value markers (e.g., "", ".", "?", "NA", "nd", "NaN") 
    for that variable in the sample file are converted to ERDDAP's
    native missing values (127 in byte columns,
    32767 in short columns, 2147483647 in int columns,
    9223372036854775807 in long columns, and NaN in float and double variables).
    It also occurs for NaN values in float and double variables.
    Also, "nd" was added to the list of common missing value markers
    in numeric data columns that ERDDAP should look for.
    Thanks to Matt Biddle of BCO-DMO.
    <br>&nbsp;
  <li>CHANGE: the ncdump option in generateDatasetsXml is now more
    like ncdump (but still uses NCdumpW, the netcdf-java version of ncdump).
    Now, it prints a new list of options. 
    Now, for .ncml files, it prints the ncdump output for the result
    of the .ncml file changes applied to the underlying .nc or .hdf file.
    <br>&nbsp;
  <li>BUG FIX: There was a file handle leak (eventually causing ERDDAP to freeze up)
    caused when creating some types of output files, e.g., .geotif,
    notably when errors occurred during creation.
    I think/hope this is now all fixed.
    If you still see problems, please tell me the type of dataset (grid or table) 
    and the type of file which is causing the problem.
    Thanks to Steven Beale, Lynn DeWitt, Jibei Zhao, and others.
    <br>&nbsp;
  <li>BUG FIX: The WMS Leaflet demo didn't fully/properly convert the "depth" axis to "elevation".
    Now, it does, and the broken legend requests are fixed.  
    Also, all axis options in the drop-down lists are always in ascending sorted order.
    Thanks to Antoine Queric and Aurelie Briand.
    <br>&nbsp;
  <li>BUG FIX: EDDTableFromFiles now correctly supports constraints on String variables
    that were created from char variables in the data files.
    Thanks to Antoine Queric and Aurelie Briand.
    <br>&nbsp;
  <li>BUG FIX: Now, when a dataset becomes unavailable, the dataset
    tries to notify (with the message "This dataset is currently unavailable.")
    its subscribers, listed actions, rss, and lonPM180 datasets that rely on it.  
    Thanks to Roy Mendelssohn and Bob Simons.
    <br>&nbsp;
  <li>BUG FIX: Two bugs related to EDDTableCopy.
    Thanks to Sam McClatchie.  
    <br>&nbsp;
  <li>CHANGE: The number of failed requests shown on the status.html page 
    will increase because more things
    are counted as failures than before.
    <br>&nbsp;
  <li>CHANGE: ERDDAP's status.html now shows "Requests (median times in ms)" in the time series.
    Previously, it showed median times truncated to integer seconds.
    <br>&nbsp;
  <li>CHANGE: In the jsonld output, the jsonld "name" now comes from the dataset's "title" in ERDDAP,
    and the jsonld "headline" now comes from the dataset's "datasetID" in ERDDAP.
    Previously, it was reversed.
    This seems wrong to me because in normal English usage, "name" is usually a short, 
    (ideally) unique identifier
    that rarely/never changes (e.g., Robert Middlename Simons), not a description which 
    isn't unique and which can easily and often change (e.g., "A guy who writes software for NOAA" vs.
    "A tall guy who writes software for NOAA").
    Gee, it would be great if the schema.org definition of 
    <a rel="help" href="https://schema.org/name"
        >Name<img src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>,
    in the context of a Dataset, were more specific.
    Software developers should be able to write an implementation of a specification
    based on the specification alone, without guidance from experts.
    But I defer to Google (notably Natasha Noy), NCEI (notably John Relph), and Rob Fuller.
    <br>&nbsp;
  <li>CHANGE: In the jsonld output, the four "spatialCoverage GeoShape box" values are now
    minLat minLon maxLat maxLon. Previously, the lat and lon positions were reversed.
    Gee, it would be great if the schema.org definition of 
    <a rel="help" href="https://schema.org/GeoShape"
        >GeoShape<img src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>          
    specified the correct order.
    Software developers should be able to write an implementation of a specification
    based on the specification alone, without guidance from experts.
    Thanks to Natasha Noy and Rob Fuller.
  </ul>
</ul>
<!-- -->


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.82" href="#changes1.82" rel="bookmark">Changes</a> 
in ERDDAP version 1.82 (released 2018-01-26)</h2>
<ul>
<li><strong>New Features (for users):</strong> 
  <br>&nbsp;
  <ul>
  <li>Numerous subtle changes to the look-and-feel of ERDDAP web pages.
    <ul>
    <li>CHANGE: ERDDAP now uses HTML 5 and makes better use of CSS.
    <li>CHANGE: The web pages have been slightly modified to make them cleaner
      and less "busy". (They are still dense and there are still things
      one could complain about, but hopefully much less so than before.)
      Thanks to John Kerfoot for some comments.
    <li>CHANGE: The web pages now look much better on mobile phones and
      other small devices, particularly if you use them in landscape
      orientation. They also look better in very small and very large
      windows in desktop browsers.
    <li>CHANGE: To improve security and other reasons, the use of an out-of-date Openlayers 
      version for the WMS demonstration pages has been replaced by Leaflet.
    <li>NEW: support for previews of image, audio, and video files 
      in the "files" system (for example, 
      <a rel="bookmark" 
      href="https://coastwatch.pfeg.noaa.gov/erddap/files/testMediaFiles/ShouldWork/"
      >this test data set</a>)
      and in .htmlTable responses when a cell has the URL of an image, audio or video 
      file
      (for example, 
      <a rel="bookmark" 
      href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/testMediaFiles.htmlTable?url%2Cname%2ClastModified%2Csize%2CfileType&amp;url=~%22.*ShouldWork.*%22"
      >this request</a>).
      If you hover over a '?' icon, you should see an image, audio, or video
      file preview.
      You can also click on the file link to view the file full screen in your browser.
      See the
      <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#MediaFiles"
        >Media Files documentation</a>.
      Note that different browsers support different file types, so 
      the examples may not work in your browser.
      <br>Thanks to these people/links for ideas and sample code for 
      <a rel="help"
        href="https://codepen.io/electricalbah/pen/eJRLVd"
        >CSS-only image tooltips<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>      
        and  
      <a rel="help"
        href="https://varvy.com/pagespeed/defer-images.html"
        >deferred image loading<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>
      (although the code was modified before use in ERDDAP).
      <br>Thanks to Cara Wilson, Matthew Austin,
        and Adam Shepherd/BCO-DMO for requests for image support.
      <br>Thanks to Jim Potemra, Rich Signell, OOI, and Carrie Wall Bell
        for requests for audio/hydrophone file support.
      <br>Thanks to OOI for showing the need for video support.
    <li>NEW: A subset of data from any ERDDAP dataset (but usually a
      dataset from audio files) can now be saved in a .wav audio file.
      (<a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#wav"
        >documentation</a>)
      Thanks to Jim Potemra, Rich Signell, OOI, and Carrie Wall Bell
        for requests for audio/hydrophone file support.      
    <li>CHANGE: The format for the Web Accessible Folders (WAF) (e.g., the /files/ folders)
      has been updated to use an HTML table.
      The new format mimics the more recent version of the directory listing web pages 
      created by more recent versions of Apache.
      Humans will find that the changes make the information easier to read.
      Software that parses these documents 
      (e.g., software that harvests ISO 19115 documents from ERDDAP)
      will have to be revised, 
      but the new format will be easier to parse than the previous format.      
      (Attention, Anna Milan.)
    <li>NEW outOfDateDatasets.html page.
      (<a rel="bookmark" href="https://coastwatch.pfeg.noaa.gov/erddap/outOfDateDatasets.html"
      >example</a>)
      This web pages shows a table with all of the near-real-time datasets 
      that have a &lt;testOutOfDate&gt; tag (see below),
      ranked by how out-of-date the datasets are.
      This dashboard should be useful for ERDDAP administrators and end users 
      when they want to know which datasets are out-of-date.
      For out-of-date datasets, there is presumably a problem with the data source,
      so that ERDDAP is unable to see/get data from more recent time points.
      <br>Administrators: If you don't want an Out-Of-Date Datasets web page, add this to your setup.xml:
      <br><kbd>&lt;outOfDateDatasetsActive&gt;false&lt;/outOfDateDatasetsActive&gt;</kbd>
      <br>There are now testOutOfDate and outOfDate columns in the allDatasets dataset.
      <br>Thanks to Bob Simons, who has wanted this for years, and to 
        the clever people of Ireland's Marine Institute who gave me the
        inspiration via their dedicated Raspberry Pi and monitor 
        which always shows a screen like this in their office.
    <li>CHANGE: .htmlTable and .xhtml response are now better formatted, more compact,
      and thus load faster. Thanks to HTML5 and CSS.
    </ul>
  <li>NEW output file type for griddap datasets: .timeGaps. It shows
    a list of gaps in the time values which are larger than the median gap.
    (<a rel="bookmark" href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMHchla8day.timeGaps"
    >example</a>)
    This is useful for ERDDAP administrators and end users when they want
    to know if there are unexpected gaps in the time values for a dataset 
    that is expected to have regularly spaced time values.
    Thanks to Bob Simons and Roy Mendelssohn who needed this feature.
  <li>CHANGE: The default graph for the allDatasets dataset is now a map
    with x=maxLon and y=maxLat. Thanks to John Kerfoot, Rich Signell, and OOI-CI.
  <li>NEW: <a rel="bookmark" href="https://github.com/ioos/erddapy">erddapy<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>
         -- isn't an ERDDAP feature, but will be of interest to many ERDDAP users. 
      Erddapy (ERDDAP + Python) is a Python library created by Filipe Fernandes that 
      "takes advantage of ERDDAP's RESTful web services and creates the
      ERDDAP URL for any request like searching for datasets, acquiring metadata,
      downloading data, etc." Thanks to Filipe Fernandes.
  <li>I should have mentioned before: 
    There is a third-party R package designed to make it easier to work with 
    ERDDAP from within R:
    <a rel="bookmark" href="https://github.com/ropensci/rerddap#rerddap">rerddap<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>.
    Thanks to 
    <a rel="bookmark" href="https://ropensci.org/">rOpenSci<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>
     and Roy Mendelssohn.
    <br>&nbsp;
  </ul>
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <br>&nbsp;
  <ul>
  <li>TO DO: In setup.xml, right below &lt;adminInstitution&gt;, please add
    a &lt;adminInstitutionUrl&gt; tag which specifies a URL for your institution (or group).
  <li>TO DO: These 3 tags in setup.xml are no longer used: 
      <br>&lt;startHeadHtml&gt;, &lt;startBodyHtml&gt; and &lt;endBodyHtml&gt;.
      They are replaced by 
      <br>&lt;startHeadHtml5&gt;, &lt;startBodyHtml5&gt; and &lt;endBodyHtml5&gt;, 
      which have default values specified in messages.xml (and shown below).
      <p>We recommend using the default &lt;startHeadHtml5&gt; and &lt;endBodyHtml5&gt;. 
      <br>We recommend: If you made changes to the original 
      &lt;startBodyHtml&gt; and/or want to customize
      your ERDDAP now, please copy the new &lt;startBodyHtml5&gt; tag (from below) 
      into your setup.xml and modify it to customize your ERDDAP so that 
      ERDDAP's web pages reflect your organization, not NOAA ERD.
      Notably, please change the "Brought to you by" to your organization(s).
      If you need help, please email bob.simons at noaa.gov.
      (If you don't want to customize your ERDDAP now, use the default &lt;startBodyHtml5&gt;.)
      <p>Then delete the 3 old tags in your setup.xml which are no longer used.
      
<pre>
&lt;startBodyHtml5&gt;&lt;![CDATA[ 
&lt;body&gt;
&lt;table class="compact nowrap" style="width:100%; background-color:#128CB5;"&gt; 
  &lt;tr&gt; 
    &lt;td style="text-align:center; width:80px;"&gt;&lt;a rel="bookmark"
      href="https://www.noaa.gov/"&gt;&lt;img 
      title="National Oceanic and Atmospheric Administration" 
      src="&amp;erddapUrl;/images/noaab.png" alt="NOAA"
      style="vertical-align:middle;"&gt;&lt;/a&gt;&lt;/td&gt; 
    &lt;td style="text-align:left; font-size:x-large; color:#FFFFFF; "&gt;
      &lt;strong&gt;ERDDAP&lt;/strong&gt;
      &lt;br&gt;&lt;small&gt;&lt;small&gt;&lt;small&gt;Easier access to scientific data&lt;/small&gt;&lt;/small&gt;&lt;/small&gt;
      &lt;/td&gt; 
    &lt;td style="text-align:right; font-size:small;"&gt; 
      &amp;loginInfo; &amp;nbsp; &amp;nbsp;
      &lt;br&gt;Brought to you by 
      &lt;a title="National Oceanic and Atmospheric Administration" rel="bookmark"
      href="https://www.noaa.gov"&gt;NOAA&lt;/a&gt;  
      &lt;a title="National Marine Fisheries Service" rel="bookmark"
      href="https://www.fisheries.noaa.gov"&gt;NMFS&lt;/a&gt;  
      &lt;a title="Southwest Fisheries Science Center" rel="bookmark"
      href="https://swfsc.noaa.gov"&gt;SWFSC&lt;/a&gt; 
      &lt;a title="Environmental Research Division" rel="bookmark"
      href="https://swfsc.noaa.gov/textblock.aspx?Division=ERD&amp;amp;id=1315&amp;amp;ParentMenuId=200"&gt;ERD&lt;/a&gt;  
      &amp;nbsp; &amp;nbsp;
      &lt;/td&gt; 
  &lt;/tr&gt; 
&lt;/table&gt;
]]&gt;&lt;/startBodyHtml5&gt;
</pre>
      <p>There are additional ways you can   
      <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#customize"
        >customize ERDDAP</a>
      so ERDDAP's web pages reflect your organization instead of NOAA ERD.
  <li>TO DO: 
    The     &lt;EDDGrid...Example&gt; tags (starting with &lt;EDDGridIdExample&gt;)
    and the &lt;EDDTable...Example&gt; tags (starting with &lt;EDDTableIdExample&gt;)
    in your setup.xml file are used to create examples in the griddap and tabledap
    documentation.html web pages in your ERDDAP.

    <p>If you didn't customize those tags, please delete them from your setup.xml file.
    Now they all have defaults in messages.xml that refer to datasets 
    in Bob's ERDDAP at https://coastwatch.pfeg.noaa.gov/erddap/index.html .
    So you no longer need to have specific datasets in your ERDDAP.
    If you want to override the defaults, copy some or all of those tags 
    into your setup.xml and change their values.
    <br>If you want the examples to point to your ERDDAP, the easiest method is:
<ol>
<li> Include these two datasets in your ERDDAP by adding this to your datasets.xml:
<pre>
&lt;dataset type="EDDGridFromErddap" datasetID="jplMURSST41" active="true"&gt;
    &lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41&lt;/sourceUrl&gt;
&lt;/dataset&gt;
&lt;dataset type="EDDTableFromErddap" datasetID="pmelTaoDySst" active="true"&gt;
    &lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/tabledap/pmelTaoDySst&lt;/sourceUrl&gt;
&lt;/dataset&gt;
</pre>

<li> Add this tag to your setup.xml, but change the URL to your ERDDAP's (https?) URL:
<pre>
&lt;EDDGridErddapUrlExample&gt;https://coastwatch.pfeg.noaa.gov/erddap/&lt;/EDDGridErddapUrlExample&gt;
&lt;EDDTableErddapUrlExample&gt;https://coastwatch.pfeg.noaa.gov/erddap/&lt;/EDDTableErddapUrlExample&gt;
</pre>
</ol>

    <p>If you did customize those tags, leave them as is and  
    please add these 2 new tags to your setup.xml to specify the ERDDAP URL for these datasets, 
    but change the URL to your ERDDAP's (https?) URL:
<pre>
&lt;EDDGridErddapUrlExample&gt;https://coastwatch.pfeg.noaa.gov/erddap/&lt;/EDDGridErddapUrlExample&gt;
&lt;EDDTableErddapUrlExample&gt;https://coastwatch.pfeg.noaa.gov/erddap/&lt;/EDDTableErddapUrlExample&gt;
</pre>


  <li>TO DO: ERDDAP now uses a css file called erddap2.css.
      If you made changes to 
      [tomcat]/webapps/erddap/images/erddap.css, 
      consider making similar changes to erddap2.css (in the same directory).
  <li>NEW: ERDDAP's web pages now have a large number of almost invisible
      <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#InternalLinks"
        >internal links</a> (the text is black and not underlined). 
      If you hover over one of these links (usually the first few words of
      headings and paragraphs), the cursor becomes a hand.
      If you click on the link, the URL is the internal link to that section of the 
      document. This makes it easy to refer to specific sections of the
      documentation. Thanks to Bob Simons, who has wanted this for years.
  <li>NEW: ERDDAP now supports 
      <a rel="help"
        href="https://en.wikipedia.org/wiki/Byte_serving"
        >Byte Range / Accept-Ranges<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>
      requests for portions of /files/ files. This was needed to support
      the audio and video viewers in browsers.

  <li>TO DO: Now, to improve security, 
    if you specified &lt;baseHttpsUrl&gt; in setup.xml (and thus support https),
    the recommended flagUrl is an https URL with a more secure flagKey.
    If so, any previous flagUrls/flagKeys will become invalid.
    Admins: If these changes apply to your ERDDAP 
    and if your ERDDAP has EDDGridFromErddap and EDDTableFromErddap's that subscribe
    to remote ERDDAPs, then, after you update ERDDAP,
    your ERDDAP will automatically try to subscribe with the new flagUrl, 
    so you should delete the old subscriptions and validate the new subscriptions
    when you get the new subscription validation emails.

  <li>TO DO: If your ERDDAP has EDDGridFromErddap datasets for erdVH3 datasets on 
    Bob's coastwatch ERDDAP, please change them to refer to the new
    erdVH2018 datasets.

  <li>TO DO: If you include any of the jplAquariusSSS sample datasets 
    in your ERDDAP, please change "V4" in the datasetID's to "V5".

  <li>TO DO: actual_range is now a CF standard attribute (as of CF-1.7)
    and clearly says that if the variable uses add_offset and/or scale_factor to pack 
    the data values, then the actual_range values should use the unpacked 
    data type and be unpacked values. 
    Unfortunately, this conflicts with our previous advice.
    GenerateDatasetsXml now unpacks packed actual_range values, but
    that won't fix existing datasets in your datasets.xml file.
    <p>So, please check your datasets: if a variable's values are packed and 
    if actual_range is specified as packed data values,
    please add an &lt;addAttributes&gt; actual_range value to specify the unpacked values.
    Otherwise, the dataset will not load in ERDDAP.
    A simple and almost perfect way to do this is to search your datasets.xml for 
    sourceAttributes that have
    <br><kbd>&lt;att name="actual_range" type="shortList"&gt;</kbd>
    <br>or <kbd>&lt;att name="actual_range" type="intList"&gt;</kbd>
    <br>and a scale_factor other than 1.0.
    Those are the actual_range attributes that you might have to fix.
    <p>For axis variables in EDDGrid datasets, ERDDAP always sets the 
    actual_range attribute to be the actual range of the values since
    it knows those values. 
    <p>For axis variables with descending values (e.g., some latitude variables),
    ERDDAP used created actual_range with the [0]...[last] values, which were high...low. 
    Now it always uses low...high values to make the new CF definition.
    <p>The correctness of the actual_range values is particularly important for EDDTable datasets, 
    because ERDDAP will quickly reject user requests for data values 
    which are less than the actual_range minimum value or 
    which are greater than the actual_range maximum value.
    <p>Related: the actual_min, actual_max, data_min and data_max attributes 
    are now deprecated. Please convert your datasets to use actual_range instead.

  <li>TO DO (optional, but recommended): 
    For each near-real-time and forecast dataset in your ERDDAP, please add a     
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#InternalLinks"
    >&lt;testOutOfDate&gt;</a> tag with a value in the form
    <kbd>now-<i>nUnits</i></kbd>, e.g., <kbd>now-2days</kbd>.
    If the maximum time value for the dataset is older than that value,
    the dataset is considered out-of-date and will be marked as such on the
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/outOfDateDatasets.html" 
    >outOfDateDatasets.html</a> web page.
    This provides an easy way for you to see when something is wrong with a 
    dataset's source.

  <li><a class="selfLink" id="jsonld" href="#jsonld" rel="bookmark"
  >NEW: Semantic Markup of Datasets with json-ld (JSON Linked Data)</a>
    <br>ERDDAP now uses 
    <a rel="help" href="https://json-ld.org">json-ld (JSON Linked Data)<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a> 
    to make your data catalog and datasets part of the 
    <a rel="help" href="https://en.wikipedia.org/wiki/Semantic_Web">semantic web<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>,
    which is Tim Berners-Lee's idea to make web content more machine readable and
    machine "understandable".
    Search engines 
    (<a rel="help" href="https://developers.google.com/search/docs/data-types/datasets"
      >Google in particular<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>)
    and other semantic tools can use this structured markup 
    to facilitate discovery and indexing. 
    The json-ld structured markup appears as invisible-to-humans &lt;script&gt; code on the 
    http://.../erddap/info/index.html web page (which is a semantic web 
    <a rel="help" href="https://schema.org/DataCatalog">DataCatalog<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>) 
    and on each http://.../erddap/info/<i>datasetID</i>/index.html web page
    (which is a semantic web 
    <a rel="help" href="https://schema.org/Dataset">Dataset<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>).
    (Special thanks to Adam Leadbetter and Rob Fuller of the Marine Institute in Ireland
    for doing the hard parts of the work to make this part of ERDDAP.)

  <li>NEW: There are new dataset types which can read data from audio files:
    <br><a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromAudioFiles"
    >EDDGridFromAudioFiles</a>, which treats audio data as gridded data.
    <br><a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromAudioFiles"
    >EDDTableFromAudioFiles</a>, which treats audio data as tabular data data.
    Thanks to Jim Potemra, Rich Signell, OOI, and Carrie Wall Bell
    for requests for audio/hydrophone file support.
  <li>Changes to GenerateDatasetsXml (and related changes):
      <ul>
      <li>NEW: ERDDAP now has a system to automatically
        <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#updateUrls"
        >update out-of-date URLs</a> both in GenerateDatasetsXml and when loading datasets.
        If you have suggestions for additional URLs that should be caught and updated, 
        or if you think this should be turned into a service (like the Converters),
        please email bob.simons at noaa.gov.    
      <li>NEW: Now, if GenerateDatasetsXml sees a CF standard_name (which should be 
        all lowercase) with an uppercase character,
        it adds the all lowercase version to &lt;addAttributes&gt;.
        Also, when a dataset loads, if ERDDAP sees a CF standard_name with an 
        uppercase character, it silently changes it to the standard_name.
        Thanks to Rich Signell.
      <li>NEW: Now, if GenerateDatasetsXml sees an attribute with a 
        time that isn't in ISO 8601 format, it adds 
        the ISO 8601 formatted time to &lt;addAttributes&gt;.
        If ERDDAP doesn't recognize the format, it leaves the time value unchanged.
        If you see a format that ERDDAP doesn't recognize and fix, 
        please email it to bob.simons at noaa.gov.
      <li>CHANGE: The low level code for the EDDGridFromThreddsCatalog option
        in GenerateDatasetsXml now relies on the Unidata netcdf-java catalog crawler code 
        (thredds.catalog classes) so that it can handle all THREDDS catalogs
        (which can be surprisingly complex).  
        Thanks to Roland Schweitzer for suggesting this change and
        thanks to Unidata for the code.
      <li>NEW: GenerateDatasetsXml for EDDGridFromDap now adds
        ", startYear-EndYear" to end of title based on actual time axis values. 
        EndYear="present" if data exists in the last 150 days.
      <li>NEW: GenerateDatasetsXml for EDDGridFromDap now adds 
        ", [resolution]&deg;" to the title if the dataset is evenly spaced and 
        the same for lat and lon.
      <li>CHANGE: The time converter now has additional features, notably
        the ability to convert string times in a wide variety of common
        formats into ISO 8601 strings or into a UDUnits-compatible number.
        All previously supported features continue to work, unchanged.
      <li>BUG FIX: GenerateDatasetsXml and the Keywords converter now  
        include "Earth Science &gt; " at the start of GCMD Science Keywords.
        When a dataset is loaded in ERDDAP, ERDDAP now fixes any GCMD keywords
        in the keywords attribute that don't start with "Earth Science > "
        or that use anything other than title case (where the first letter of 
        each word is capitalized). 
      <li>CHANGE: When suggesting &lt;destinationName&gt;'s, GenerateDatasetsXml for 
        EDDTableFromAsciiFiles just used the tail end of sourceNames with '/' 
        (some were filename-like).
        Now it uses the entire sourceName (e.g., "blahblahblah (m/s)". 
        This change will be good for some datasets and not for others,
        but it is safer behavior.
        Thanks to Maurice Libes.
      <li>BUG FIX: GenerateDatasetsXml and the dataset constructors now ensure there 
        are no duplicate column names.
        Thanks to Maurice Libes.
      <li>BUG FIX: GenerateDatasetsXml for EDDTableFromAsciiFiles didn't write 
        &lt;columnSeparator&gt; to the output. Now it does.
        Thanks to Maurice Libes.
      </ul>
  <li>NEW: The DasDds tool now prints out time gap information 
    (the 
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#timeGaps"
    >.timeGaps information</a>)
    if the dataset is a gridded dataset.  
  <li>NEW: Advanced Search now accepts "now<i>-nUnits</i>" time values. 
    Thanks to Rich Signell.
  <li>CHANGE: To improve security, when an email address in a dataset's metadata or data
    is written to an html web page, the "@" is replaced with " at ".
    This only catches email addresses that are the entire metadata or data value,
    not email addresses embedded in longer values.
  <li>CHANGE: To increase security, 
    the RSS information for private datasets is now only available to users
    (and RSS readers) who are logged in and authorized to use that dataset.
  <li>NEW: Now, when a dataset is loaded, if 
    date_created, date_issued, date_modified, or date_metadata_modified 
    attribute has a time value that isn't in ISO 8601 format, 
    ERDDAP changes it to the ISO 8601 formatted time.
    If ERDDAP doesn't recognize the format, it leaves the time value unchanged.
    If you see a format that ERDDAP doesn't recognize and fix, 
    please email it to bob.simons at noaa.gov.
  <li>CHANGE: .dods responses from EDDGrid datasets should now be significantly faster. 
    Thanks to Rich Signell.
  <li>Changes related to ERDDAP's creation of ISO 19115 documents:
      <ul>
      <li>BUG FIX: when creating ISO 19115 documents, 
        dataVariable units weren't HTML Attribute encoded and percent encoded.
        Now they are.   Thanks to NGDC's ISO 19115 validator.
      <li>BUG FIX: when creating ISO 19115 documents,
        date_created was used as is, so often was the wrong format. 
        Now it is converted to ISO 8601 Z string.
        Thanks to NGDC's ISO 19115 validator.
      <li>BUG FIX: when creating ISO 19115 documents,
        ERDDAP now longer writes dates with year=0000 (as with climatology datasets),
        because the ISO 19115 schema doesn't allow dates with year=0000.
        Thanks to NGDC's ISO 19115 validator.
      </ul>
  <li>NEW: As before a request to http.../erddap/version will return just the
  version number (as text), e.g., "ERDDAP_version=1.82".
    <br>Now, a request to http.../erddap/version_string will return a number and 
      an optional suffix of '_' plus ASCII text (no spaces or control characters),
    e.g., "ERDDAP_version_string=1.82_JohnsFork".
    The people doing the fork will specify this by changing EDStatic.erddapVersion.
    This way of doing it doesn't cause problems for previous versions of ERDDAP.
    Thanks to Axiom (notably, Kyle Wilcox) and Ireland's Marine Institute
    (notably, Rob Fuller).
  <li>BUG FIX: For wms version=1.3.0, request=GetMap, crs=EPSG:4326 (not CRS:84) requests:
    the bbox order must be minLat,minLon,maxLat,maxLon.
    For CRS:84 requests, as before, bbox order must be minLon,minLat,maxLon,maxLat.
    This may fix using ERDDAP's WMS 1.3.0 service in ArcGIS (thanks to Paola Arce).
    Thanks (not) to OGC for making this so complicated.
    Thanks to Leaflet for handling this correctly and for giving me a way to test this.
  <li>CHANGE: Previous, the suggested link for RSS and email subscriptions 
    has the http URL for your ERDDAP. Now it is the https URL,
    if that is active.
  <li>NEW: EDDGridCopy now supports an optional tag 
    <kbd>&lt;onlySince&gt;<i>someValue</i>&lt;/onlySince&gt;</kbd>,
    where the value is a specific ISO-8601-formatted time or
    a <kbd>now-nUnits</kbd> (e.g., now-2years) time.
    See the 
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#onlySince"
    >onlySince documentation</a>.
    Thanks to Drew P.
  <li>CHANGE: If available, ERDDAP will show the https URL
    (from &lt;baseHttpsUrl&gt;, if available) instead of the http URL  
    when it tells users the URL to add/validate/remove/list a subscription.
  <li>BUG FIX: ERDDAP now allows a subscription action to start with "https://".
    (Bob slaps his forehead.) Thanks to Jennifer Sevadjian.
  <li>BUG FIX: .jsonlKVP now uses ':' between each key and value, instead of '='. 
    (Bob slaps his forehead.) Thanks to Alexander Barth.
  <li>BUG FIX: Previously, if you restarted ERDDAP with quickRestart=true,
    and if, before the dataset was reloaded normally,
    you made a call to a EDDTableFromFiles dataset that used updateEveryNMillis,
    and if a data file had just been changed, 
    the request would fail with a null pointer error. 
    Now the request will succeed.
    Thanks to John Kerfoot.
  <li>NEW: When a dataset is loaded in ERDDAP, 
    the keywords are now rearranged into sorted order and any newline characters
    are removed.
  <li>CHANGE: Now, if a .geoJson, .json or .ncoJson request has .jsonp parameter, 
    the response mime type is application/javascript.
    Note that .jsonp is not supported for .jsonlCSV or .jsonlKVP, since it wouldn't work.
    Thanks to Rob Fuller.  
  <li>CHANGe: The mime type for json lines fileType options is now "application/x-jsonlines".
    It was application/jsonl.
    Currently, there is no definitive correct choice.
  <li>CHANGE: The number of failed requests shown on the status.html page 
    will increase because more things
    are counted as failures than before, e.g., ClientAbortException.
  <li>CHANGE: Now, if a response from ERDDAP is not compressed, then
    the header of the response will include "Content-Encoding"="identity".
  <li>CHANGE: The "license" attribute wasn't required. Now, if it isn't specified, 
    the standardLicense from messages.xml (or from setup.xml if present) is used
    as the default.
  <li>NEW: There is now an optional 
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#fileAccessSuffix"
    ><kbd>fileAccessSuffix</kbd> attribute</a>.
    which can be used with the existing 
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#fileAccessBaseUrl"
    ><kbd>fileAccessBaseUrl</kbd> attribute</a>.
  <li>CHANGE: To increase security, this version was compiled with the latest
    Java JDK v8u162.
  <li>NEW: To increase security, several common domains that offer temporary
    email addresses (e.g., @mailinator.com) are now on a permanent email blacklist
    for the subscriptions system. 
  <li>NEW: To increase security, the tallies in the Daily Report now include:
    <br>SetDatasetFlag IP Address Failed (since last daily report)
    <br>SetDatasetFlag IP Address Failed (since startup)
    <br>SetDatasetFlag IP Address Succeeded (since last daily report)
    <br>SetDatasetFlag IP Address Succeeded (since startup)
    <br>The "Failed" tallies let you see who (a hacker?) is trying to set a flag, 
      but is failing.
  <li>CHANGE: To increase security, 
    email addresses in the &lt;subscriptionEmailBlacklist&gt; in 
    your datasets.xml are now considered to be case-insensitive.
    <br>&nbsp;
  </ul>
</ul>

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.80" href="#changes1.80" rel="bookmark">Changes</a>
in ERDDAP version 1.80 (released 2017-08-04)</h2>
<ul>
<li><strong>New Features (for users):</strong> 
  <br>&nbsp;
  <ul>
  <li>NEW orderByCount() filter lets you specify how the results table will be sorted 
    (or not) and just returns one row for each sort group, with the count of the number 
    of non-missing-values for each variable.
    <br>For example, orderByCount("stationID") will sort by stationID and return one row for
    each stationID, with a count of the number of non-missing-values for each variable.
    <br>If you just specify orderByCount(""), the response will be just one row with 
    the number of non-missing-values for each data variable.
    <br>See the 
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#orderBy"
    >orderBy... documentation</a>
    Thanks to Ben Adams. 
  <li>NEW .ncoJson fileType option for gridded and tabular datasets.
    This option makes an NCO lvl=2 "pedantic" JSON file with all of the 
    information normally found in a .nc file. See    
    <a rel="help"
    href="http://nco.sourceforge.net/nco.html#json"
    >http://nco.sourceforge.net/nco.html#json</a>
    Thanks to Charlie Zender.
  <li>BUG FIX: The orderBy...() options on the Make A Graph web page are now 
    handled correctly.
  <li>BUG FIX: .geoJson output now doesn't print rows where the lat 
    or lon values are missing. Also, altitude values (if available)
    are now included in the coordinates, not as data values.
    Thanks to Jonathan Wilkins.
    <br>&nbsp;
  </ul>
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <br>&nbsp;
  <ul>
  <li>SECURITY ISSUE: The protocols.js library used for the OpenLayers demo
    on the WMS pages in ERDDAP is out-of-date and has a bug that potentially 
    allows it to be misused.
    (Unfortunately, updating OpenLayers and protocols.js isn't easy.)
    That opens up the possibility that the library could be set up to allow a 
    cross-site vulnerability. However, since ERDDAP only uses OpenLayers
    in a specific pre-set-up way and only with specific ERDDAP-based data sources, 
    we believe there is no cross-site vulnerability
    in ERDDAP's use of OpenLayers and protocols.js.
    However, if you don't believe this, you can now disable the use of the OpenLayers demo
    on the WMS pages of your ERDDAP by adding     
    <br>&lt;openLayersActive&gt;false&lt;/openLayersActive&gt;
    <br>to your setup.xml file. The default is "true".
    Thanks to Charles Carleton and NCEI.
  <li>SECURITY CHANGES: Unused .jar files and duplicate .jar files 
    (because they are also in netcdfAll.jar) 
    have been removed from the ERDDAP distribution. 
    Out-of-date .jar files have been updated.
    Thanks to Charles Carleton and NCEI.
  <li>SECURITY CHANGES: The netcdfAll.jar file distributed with ERDDAP is the 
    latest version (currently 4.6.10), but it still contains internal jackson .jar files 
    that are known to be out-of-date and have security vulnerabilities,
    notably the Jackson libraries that are only used when accessing Amazon S3
    data sources. If you aren't accessing data via Amazon S3 (you would know if you were), 
    these vulnerabilities are not relevant.

    <p>The netcdf-java developers maintain that these vulnerabilities are not relevant
    because of the way that netcdf code uses these libraries
    and in any case would only be relevant when accessing Amazon S3.
    See 
    <a rel="help"
        href="https://github.com/Unidata/thredds/issues/866"
        >https://github.com/Unidata/thredds/issues/866<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a> .
    I believe them.  If you still have concerns about this, 
    please contact the netcdf-java developers.
    (Note that if you don't believe the netcdf-java developers
    and are contemplating not using ERDDAP because of this, you shouldn't use
    THREDDS either, because THREDDS uses netcdf-java more fundamentally and 
    more extensively than ERDDAP.)
    <p>Details: The troublesome code and the vulnerability warnings are: 
    <br>netcdfAll-latest.jar/META-INF/maven/com.fasterxml.jackson.core/jackson-databind/pom.xml
    <br>See https://nvd.nist.gov/vuln/detail/CVE-2016-7051 -- High
    <br>netcdfAll-latest.jar/META-INF/maven/com.fasterxml.jackson.dataformat/jackson-dataformat-cbor/pom.xml
    <br>See https://nvd.nist.gov/vuln/detail/CVE-2016-7051 -- High
    <br>netcdfAll-latest.jar/META-INF/maven/com.fasterxml.jackson.core/jackson-annotations/pom.xml
    <br>See https://nvd.nist.gov/vuln/detail/CVE-2016-7051 -- High
    <br>See https://nvd.nist.gov/vuln/detail/CVE-2016-3720 -- Critical
    <br>netcdfAll-latest.jar/META-INF/maven/com.fasterxml.jackson.core/jackson-core/pom.xml
    <br>See https://nvd.nist.gov/vuln/detail/CVE-2016-7051 -- High
    <br>See https://nvd.nist.gov/vuln/detail/CVE-2016-3720 -- Critical
    <br>"For version 4.6.10, aws-java-sdk-core pulls in version 2.6.6 of jackson-* artifacts."
       (email from netcdf-java people).
    <br>Thanks to Charles Carleton and NCEI.
  <li>COMPILER CHANGES: If you recompile ERDDAP, note that the -cp classpath parameter 
    needed for the command line is now much shorter than before. See the new -cp setting in 
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#developmentEnvironment"
    >this documentation</a>.
    Thanks to Charles Carleton and NCEI.
  <li>NEW OPTION in GenerateDatasetsXml: EDDTableFromBcodmo, which is 
    just for internal use at BCO-DMO.
    <br>Thanks to Adam Shepherd and BCODMO.
  <li>NEW ATTRIBUTE and FEATURE: 
    If an EDDTable column has filenames of web accessible files (e.g., 
    image, video, or audio files), you can add 
    <br>&lt;att name="fileAccessBaseUrl"&gt;<i>someBaseURL</i>&lt;/a&gt;
    <br>to specify the base URL (ending with / ) needed
    to make the filenames into complete URLs. Then for .htmlTable responses, ERDDAP will 
    show the filename as a link to the combined URL (the baseUrl plus the filename). 
    <br>If you want ERDDAP to serve the related files, 
      make a separate EDDTableFromFileNames dataset for those files
      (it may be a private dataset).
    <br>Thanks to Adam Shepherd and BCODMO.
  <li>NEW ATTRIBUTE RECOMMENDATION: 
    If an EDDTable column has filenames of web accessible files (e.g., 
    image, video, or audio files) which are accessible via an archive (e.g., .zip file)
    accessible via a URL, use 
    <br>&lt;att name="fileAccessArchiveUrl"&gt;<i>theURL</i>&lt;/att&gt; 
    <br>to specify the URL for the archive.
    <br>If you want ERDDAP to serve the archive file, 
    make a separate EDDTableFromFileNames dataset for that file
    (it may be a private dataset).
    <br>Thanks to Adam Shepherd and BCODMO.
  <li>IMPROVEMENTS to GenerateDatasetsXml to remove the causes of 
    invalid/bad &lt;subsetVariables&gt; suggestions and 
    duplicate/bad suggested variable names, etc. 
    Thanks to Rich Signell, Adam Shepherd, and BCO-DMO.
  <li>NEW OPTION: The political boundary information distributed with ERDDAP
    is from a third party and somewhat out-of-date. Also, there are 
    disputed boundaries at several places in the world, 
    where different people will have different ideas about
    what is correct. WE MAKE NO CLAIM ABOUT THE CORRECTNESS OF THE POLITICAL BOUNDARY
    DATA THAT COMES WITH ERDDAP.
    If you don't like the political boundary information that comes with ERDDAP, 
    you can now tell ERDDAP to never draw political boundaries by adding 
    <br>&lt;politicalBoundariesActive&gt;false&lt;/politicalBoundariesActive&gt;
    <br>to your setup.xml file. The default is "true".
    Thanks to Raju Devender.
  <li>NEW METADATA TAG: In the datasets.xml for a dataset, you can now specify 
    the default number of colorBar sections
    for a dataVariable on graphs and maps with 
    <br>&lt;att name="colorBarNSections"&gt;<i>anInteger</i>&lt;/att&gt; 
    <br>(default=-1, which says to let ERDDAP decide).    
    See the <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#colorBar"
    >colorBar settings</a>.
  <li>CHANGE: the state boundary color on maps was purple 
    (Deep Purple for you Baby Boomers).
    Now it is gray 
    (in between the national boundary gray and the land gray).
  <li>BUG FIX: &lt;iso19115File&gt; and &lt;fgdcFile&gt; in datasets.xml 
    were not always handled correctly.
    Now they are.
    Thanks to BCO-DMO.
  </ul>
</ul>

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.78" href="#changes1.78" rel="bookmark">Changes</a> 
in ERDDAP version 1.78 (released 2017-05-27)</h2>
<ul>
<li><strong>New Features (for users):</strong> 
  <br>&nbsp;
  <ul>
  <li>(none) 
    <br>&nbsp;
  </ul>
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <br>&nbsp;
  <ul>
  <li>CHANGE: The order of lines in "Major LoadDatasets Time Series"
    on the status.html page is now newest on top to oldest at the bottom.
  <li>BUG FIX: ERDDAP now writes .nccsv files with the time variable's actual_range as
    an ISO-8601 String time. That fixes the bug with EDDTableFromErddap parsing 
    info from a remote dataset and from the quickRestart file for all EDDTableFrom...Files
    datasets.
    (The time actual_range will be wrong the first time the dataset loads in v1.78 
     but correct after it is reloaded, e.g., if you flag the dataset.)
  </ul>
</ul>

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.76" href="#changes1.76" rel="bookmark">Changes</a>
in ERDDAP version 1.76 (released 2017-05-12)</h2>
<ul>
<li><strong>New Features (for users):</strong> 
  <br>&nbsp;
  <ul>
  <li>CHANGE in Tomcat: For requests to ERDDAP coming from software other than web browsers 
      (e.g., curl, R, Matlab, Python, Java):
    <br>As with previous changes in versions of Tomcat  
      (the lower-level software that runs ERDDAP) since early 2016, 
      more and more of the characters in the 
      query part of the request URL be 
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#PercentEncoded"
    ><strong>Percent Encoded</strong></a>
      for security reasons. 
      Browsers take care of percent encoding for you. 
      so using ERDDAP in a browser isn't affected unless the request gets
      redirected to another ERDDAP.
  <li>CHANGE: Previously, ERDDAP treated <strong>char variables</strong> more like 
    unsigned short integers than characters. 
    Now it treats them more like 1-character-long UCS-2 (Unicode) Strings. 
    See the
        <a rel="help" 
      href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#charData"
      >char documentation</a>.
    Thanks to Aurelie Briand and the Argo project.
  <li>CHANGE: Previously, ERDDAP offered little support for <strong>Unicode characters</strong> 
    above character #255 in Strings.
    Now, internally, ERDDAP fully supports 2-byte UCS-2 chars 
    (characters numbered 0 through 65535) in Strings.
    When String data is written to various file types, ERDDAP does the
    best it can to support 2-byte chars. Another example is .csv files which 
    ERDDAP writes with the ISO-8859-1 charset (a 1-byte charset), so
    ERDDAP writes any characters above character #255 with the JSON-like
    \u<i>hhhh</i> syntax. See
    <a rel="help" 
      href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#StringData"
      >String data</a>.
  <li>CHANGE: In .nc files written by ERDDAP,  
    char variables to be interpreted as Strings will have the attribute
    <br><kbd><strong>_Encoding=ISO-8859-1</strong></kbd>
    <br>In .nc files read by ERDDAP, char variables with "_Encoding" will be interpreted
    as Strings with the specified charset.
  <li>REMINDER: ERDDAP supports <strong>JSON-like backslash-encoding</strong> of 
    special characters when you specify constraints of char and String variables.
    Thus you can request something like <kbd>&amp;myString="\u20ac"</kbd>
    when you want rows of data where myString=&#x20ac; since
    20ac is the hexadecimal version of the code point for the Euro symbol.
    Several sources on the web show the code point numbers for 
    Unicode symbols, e.g., 
      <a rel="help"
        href="https://en.wikipedia.org/wiki/Unicode"
        >https://en.wikipedia.org/wiki/Unicode<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>.
  <li>CHANGE: Previously, ERDDAP offered limited support for <strong>long integer</strong>
    variables. 
    Now ERDDAP fully supports longs internally and does its best 
    when writing long data to various file types. . 
    See the 
        <a rel="help" 
      href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#longData"
      >long documentation</a>.
    Thanks to the Ireland's Marine Institute, Craig Risien, Rich Signell, 
      Christopher Wingard and OOI.
  <li>NEW: output file type for griddap and tabledap: <strong>.nccsv</strong>, which makes 
    a NetCDF-like, ASCII, CSV file that also contains all of the metadata 
    that would be in a comparable .nc file.
    See the 
    <a rel="help" 
      href="https://coastwatch.pfeg.noaa.gov/erddap/download/NCCSV.html"
      >NCCSV Specification</a>.
    Thanks to Steve Hankin.
  <li>NEW: <strong>orderByClosest filter</strong> lets you specify how the 
    results table will be sorted and an interval (e.g., 2 hours).
    Within each sort group, only the rows closest to the interval will be kept.  
    For example, <kbd>orderByClosest("stationID, time, 2 hours")</kbd>
    will sort by stationID and time, but only return 
    the rows for each stationID where the last orderBy column (time) are 
    closest to 2 hour intervals.
    This is the closest thing in tabledap to stride values in a griddap request.
    This option can be specified via any tabledap dataset's .html web page,
    .graph web page, and by any URL that you generate yourself.

    Thanks to the Ireland's Marine Institute and Ocean Networks Canada.
  <li>NEW: <strong>orderByLimit filter</strong> lets you specify how the
    results table will be sorted and a limit number (e.g., 100).
    Within each sort group, only the first 'limit' rows will be kept.
    For example, <kbd>orderByMax("stationID, 100")</kbd> will sort by stationID, 
    but only return the first 100 rows for each stationID.
    This is similar to SQL's LIMIT clause.
    This option can be specified via any tabledap dataset's .html web page,
    .graph web page, and by any URL that you generate yourself.
    Thanks to the Ireland's Marine Institute and Ocean Networks Canada.
  <li>NEW: Two new response file types, <strong>.jsonlCSV and .jsonlKVP</strong> 
    are available 
    for requests to gridded datasets, tabular datasets and many other places in ERDDAP
    (e.g., requests for information about datasets).
    The files are JSON Lines files 
    (<a rel="help"
        href="http://jsonlines.org/"
        >http://jsonlines.org/<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>)
    where each line has a separate JSON object.
    .jsonlCSV just has the values in a CSV format.
    .jsonlKVP has Key:Value pairs.
    Each line stands on its own. The lines are not enclosed in a larger JSON array or object. 
    For an example, see     
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/pmelTaoDySst.jsonlKVP?longitude%2Clatitude%2Ctime%2Cstation%2Cwmo_platform_code%2CT_25&amp;time%3E=2015-05-23T12:00:00Z&amp;time%3C=2015-05-31T12:00:00Z"
    >this sample request</a>.
    Thanks to Damian Smyth, Rob Fuller, Adam Leadbetter, and Ireland's Marine Institute.
  <li>NEW: There is new documentation describing 
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/AccessToPrivateDatasets.html"
    ><strong>How to Access Private Datasets in ERDDAP via Scripts</strong></a>.
    Thanks to Lynn DeWitt.
  <li>CHANGE: The minimum extent of the <strong>OpenLayers</strong> map was 2 degrees and is
    now 4 data pixels.
    Thanks to Rusty Holleman.
  <li>CHANGE: In some common cases, requests which include a <strong>regular expression</strong> 
    constraint will be processed much faster.
    <br>&nbsp;
  </ul>
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <br>&nbsp;
  <ul>
  <li><strong>SLOW FIRST STARTUP:</strong> The first time you start up this new version, 
    it will take a long time
    for ERDDAP to load all of the datasets because it needs to re-read
    all of the source datafiles (although just the header for gridded data files).
    If you look at the logs you may see error messages saying 
    "old/unsupported enhancedVersion" of some internal files -- that's okay --
    ERDDAP will make the new versions of the internal files.
    Please be patient.
  <li>ACTION: ERDDAP now uses the new <strong>java.time</strong> classes 
    (also known as JSR 310) 
    instead of Joda to parse String times into numeric times.
    Notes:
    <ul>
    <li>If ERDDAP suddenly has problems parsing String times for a given dataset
      and thus just converts most or all times to NaN's (missing values),
      the problem is almost always with the dateTime format string that 
      you specified as the "units" of the variable.
      The new system sometimes needs a slightly different dateTime format string.
    <li>If numeric months and days in the dateTime strings aren't 0-padded 
      (e.g., "3/7/2016"), 
      make sure the format just has a single M and d (e.g., "M/d/yyyy", not "MM/dd/yyyy").
    <li>Change any fractional seconds specification that uses lowercase s's
      (e.g., the .sss in yyyy-MM-dd'T'HH:mm:ss.sss),
      into capital S's, (e.g., yyyy-MM-dd'T'HH:mm:ss.SSS).
    <li>ERDDAP no longer supports string dateTime formats with two-digit years (yy) 
      with an implied century (e.g., 1900 or 2000).
      Businesses spent billions of dollars fixing this problem in the late 1990's.
      Scientists should not be using two digit years.
      Please fix the source file(s) by converting to 4-digit years,
      then use yyyy in the dateTime format.
    <li>You can use yyyy or YYYY (which ERDDAP converts to uuuu) to parse 4 digit years, 
      including negative years, e.g., -4712 (which is 4713 BC).
      Thanks to SeaDataNet, Thomas Gardner, and BODC.
    <li>Please continue to use Z within a dateTime format to get ERDDAP
      to parse a time offset (e.g., Z, +0200, -08, -0800, -08:30).
    <li><strong>Make sure you use Java version 1.8.0_21 or higher.</strong>
    <li>Programmers -- If you write Java programs that run ERDDAP code, you need to
      remove the reference to joda-time.jar in the class path parameter.
    </ul>
  <li>NEW: ERDDAP's 
  <a rel="help"
        href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#ArchiveADataset"
        >ArchiveADataset tool</a>   
    can now create 
    <a rel="help"
        href="https://en.wikipedia.org/wiki/BagIt"
        ><strong>BagIt files</strong><img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>.
    NCEI may standardize on this format.
    Thanks to Scott Cross and John Relph.
  <li>CHANGE: The links to download the erddap.war on the ERDDAP web pages 
    now point to <strong>GitHub</strong>. 
    (They are public links, so you don't have to join GitHub.) 
    This means much faster downloads (up to 12Mb/s versus 1Mb/s) and few problems with downloads.
    Thanks to Damian Smyth, Rob Fuller, Adam Leadbetter, Conor Delaney,
    and Ireland's Marine Institute.
  <li>CHANGE: The <strong>status.html page and the daily Status Report email</strong> now
    include a "Major LoadDatasets Time Series" section which shows statistics 
    about ERDDAP as of the end of each major loadDatasets for the last
    100 major loadDatasets.
    Thanks to our troublesome RAID.
  <li>NEW: a new, optional (but recommended) parameter for EDDTableFromCassandra datasets:
    <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#CassandraPartitionKeyCSV"
    ><strong>&lt;partitionKeyCSV&gt;</strong></a>.
    Thanks to Ocean Networks Canada.
  <li>NEW: EDDTableFromAsciiFiles now supports <strong>&lt;columnSeparator&gt;</strong>
    parameter. 
    If null or "", the class will guess, as before,
    Otherwise, the first character will be used as the column separator when
    reading the files.
    Thanks to Sky Bristol and Abigail Benson.
  <li>New: the new dataset type, 
     <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromNccsvFiles"
    ><strong>EDDTableFromNccsvFiles</strong></a>, 
    can make a dataset by aggregating
    <a rel="help" 
      href="https://coastwatch.pfeg.noaa.gov/erddap/download/NCCSV.html"
      >NCCSV .csv files</a>.
    Thanks to Steve Hankin.
  <li>CHANGE: <strong>EDDTableFromErddap</strong> now uses .nccsv to get information
  from remote
    ERDDAPs and for local archive of that metadata info.
    This enables full support for the char and long data types, and for 
    Unicode (UCS-2) charset for chars and Strings.
    Thanks to Rob Fuller and Ireland's Marine Institute.
  <li>CHANGE: EDDTableFromErddap and EDDGridFromErddap now support
    <kbd><strong>&lt;redirect&gt;false&lt;/redirect&gt;</strong></kbd>
    which tells ERDDAP never to redirect the request to the remote ERDDAP.
    The default is true. 
    This is useful when the remote ERDDAP is a private ERDDAP.
    Thanks to Damian Smyth, Rob Fuller, and Ireland's Marine Institute.
  <li>CHANGE: ERDDAP now catches <strong>cancelled user requests</strong> sooner.
    And ERDDAP now shuts down faster because the low level threads shut down faster.
    Thanks to our troublesome RAID.
  <li><strong>GenerateDatasetsXml:</strong>
    <ul>
    <li>NEW: The new special EDDType "ncdump" prints an 
      <a rel="help"
        href="https://linux.die.net/man/1/ncdump"
        >ncdump<img 
        src="../images/external.png" alt=" (external link)" 
        title="This link to an external website does not constitute an endorsement."></a>-like
      printout of the header of an .nc file.
      You can also print the data values for specified variables
      (or enter "nothing" to not print any data values).
      This is useful because, without ncdump it is hard to know what is in
      a file and thus which EDDType you should specify for GenerateDatasetsXml.
      Thanks to Craig Risien, Rich Signell, Christopher Wingard and OOI.
    <li>NEW: For SeaDataNet data: 
      <br>When appropriate, GenerateDatasetsXml now does a specific semantic 
      conversion using a remote SPARQL query:
      if a variable's source metadata includes an sdn_parameter_urn, e.g.,
      sdn_parameter_urn = "SDN:P01::PSLTZZ01",
      GenerateDatasetsXml will add the corresponding P02 attribute, e.g.,
      sdn_P02_urn = "SDN:P02::PSAL".
      If you have datasets that use these attributes, 
      and if your ERDDAP's &lt;categoryAttributes&gt; in setup.xml includes
      sdn_parameter_urn and sdn_P02_urn, users will be able to use
      ERDDAP Category search system to search for datasets with specific
      values of these attributes. 
      Thanks to BODC and Alexandra Kokkinaki.
    <li>CHANGE: GenerateDatasetsXml now changes many http:// references 
      in the metadata to https:// when appropriate.
    <li>CHANGE: GenerateDatasetsXml now tries to guess creator_type and publisher_type.
    <li>CHANGE: The variable's dataTypes suggested by GenerateDatasetsXml 
      are now be a little better.
      Thanks to Margaret O'Brien, LTER, and EML.
    <li>CHANGE: GenerateDatasetsXml is better at specifying the &lt;cdm_data_type&gt;,
      and adding the related, required attributes (e.g., &lt;cdm_timeseries_variables&gt;),
      so you can supply that information.
      Thanks to Rich Signell.
    <li>CHANGE: In GenerateDatasetsXml, for EDDTable datasets, the suggestion for
      &lt;subsetVariables&gt; is now much more conservative.
      Thanks to John Kerfoot.
    <li>CHANGE: If datasets.xml for a datasets specifies featureType 
      but not cdm_data_type, the featureType will be used as the cdm_data_type.
      Thanks to Rich Signell.
    <li>BUG FIX: generateDatasetsXml now suggests the correct &lt;dataType&gt;
      for data variables that have scale_factor, add_offset 
      and/or _Unsigned attributes. 
    </ul>
  <li>CHANGE: When ERDDAP opens a .nc file that is <strong>shorter</strong> 
    than it is supposed 
    to be (e.g., it didn't get completely copied into place),
    ERDDAP now treats the file as bad.
    Previously, ERDDAP returned missing values for any missing part of the file
    because that is the default behavior for netcdf-java.
    ERDDAP now uses ucar.nc2.iosp.netcdf3.N3header.disallowFileTruncation = true;
    Thanks to our troublesome RAID and Christian Ward-Garrison.
  <li>CHANGE: the ISO 19115 writer now makes use of <strong>creator_type</strong>, if present.
  <li>CHANGE: ERDDAP now uses the latest netcdf-java v4.6.9 which 
    can read additional types of <strong>netcdf-4 files</strong>.
    Thanks to Craig Risien, Rich Signell, Christopher Wingard and OOI.
  <li>BUG FIX: avoid trouble if different source files have different data types
    for a given variable. 
    Thanks to Roy Mendelssohn and Eugene Burger.
  <li>BUG FIX: <strong>Time format conversions</strong> are now better protected against
    bad time values.
    Thanks to NDBC.
  <li>BUG FIX: EDDGridFromNcFilesUnpacked now handles time values with 
    <strong>"months since ..." 
    and "years since ..."</strong> correctly (by incrementing the month or year,
    not by crudely adding e.g., 30days repeatedly). 
    Thanks to Soda3.3.1.
  <li>BUG FIX: just in v1.74, <strong>subscriptions</strong> required an action 
    (e.g., http://...),
    which was and should be optional. 
  <li>BUG FIX: EDDGridFromMergeIRFiles.lowGetSourceMetadata()
    didn't add any global attributes. Now it does.
    <br>&nbsp;
  </ul>
</ul>

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.74" href="#changes1.74" rel="bookmark">Changes</a> 
in ERDDAP version 1.74 (released 2016-10-07)</h2>
<ul>
<li><strong>New Features (for users):</strong> 
  <br>&nbsp;
  <ul>
  <li>Now, when a List of Datasets (All, or from a search)
    is displayed on a web page, long titles are displayed on multiple lines.
    Previously, the middle of a long title was replaced by " ... ".
    Thanks to Margaret O'Brien, LTER, and EML.
    <br>&nbsp;
  </ul>
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <br>&nbsp;
<ul>
<li>TO DO: On Linux computers, change the Apache timeout settings
  so that time-consuming user requests don't timeout 
  (with what often appears as a "Proxy" or "Bad Gateway" error).
  As the root user:
  <ol>
  <li>Modify the Apache httpd.conf file (usually in /etc/httpd/conf/ ):
    <br>Change the existing <kbd>&lt;Timeout&gt;</kbd> setting 
      (or add one at the end of the file)
      to 3600 (seconds), instead of the default 60 or 120 seconds.
    <br>Change the existing <kbd>&lt;ProxyTimeout&gt;</kbd> setting 
      (or add one at the end of the file)
      to 3600 (seconds), instead of the default 60 or 120 seconds.
  <li>Restart Apache: <kbd>/usr/sbin/apachectl -k graceful</kbd> 
    (but sometimes it is in a different directory).
  </ol>
  Thanks to Thomas Oliver.
  <br>&nbsp;
<li>NEW: [bigParentDirectory/hardFlag directory
  <br>This works like the flag directory, 
  but the hardFlag version also deletes all of the cached dataset information.
  There are no URLs to set a hardFlag. This can only be used by putting a file
  in that directory.
  <br>hardFlags are very useful when you do something that causes a 
  change in how ERDDAP reads and interprets the source data, for example,
  when you install a new version of ERDDAP or when you have made certain types 
  of changes to a dataset's definition in datasets.xml.
  See <a rel="help" 
  href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#hardFlag"
  >this documentation</a>.
  Thanks to John Kerfoot and all the Argo groups.
  <br>&nbsp;
<li>NEW: GenerateDatasetsXml now has a EDDTableFromEML option
  <br>which reads a dataset description in an Ecological Metadata Language (EML)
  file, downloads the related data file, 
  and generates a chunk of datasets.xml so that the dataset can be added to ERDDAP.
  There is also an EDDTableFromEMLBatch which does the same thing for all of the 
  EML files in a directory.
  This works very well because EML does an excellent job of describing 
  the dataset and because KNB and LTER make the actual data files available.
  <br>EML plus ERDDAP could be a great combination, since ERDDAP could 
  give users more direct access to the wealth of KNB and LTER data 
  and help those projects meet the US government's 
  <a rel="help" 
    href="https://www.whitehouse.gov/blog/2013/02/22/expanding-public-access-results-federally-funded-research"
    >Public Access to Research Results (PARR) requirements</a>
  by making the data available via a web service.
  <br>See 
  <a rel="help" 
  href="https://coastwatch.pfeg.noaa.gov/erddap/download/EDDTableFromEML.html"
  >this documentation</a>.
  Thanks to Margaret O'Brien, LTER, and EML.
  <br>&nbsp;
<li>NEW: GenerateDatasetsXml now has a EDDTableFromInPort option
  <br>which reads a dataset description in an InPort XML file and tries to generate 
  a chunk of datasets.xml so that the dataset can be added to ERDDAP.
  This rarely creates a ready-to-use chunk of XML for datasets.xml, 
  but it will create a good rough draft that is a good starting point
  for editing by a human.
  <br>It would be great if people using InPort to document their datasets 
  would also use ERDDAP to make the actual data available 
  via ERDDAP's web services
  and thereby meet the US government's and NOAA's
  <a rel="help" 
    href="https://www.whitehouse.gov/blog/2013/02/22/expanding-public-access-results-federally-funded-research"
    >Public Access to Research Results (PARR) requirements</a>
  by making the data available via a web service.
  This is a solution that could be used right now.
  (bob.simons at noaa.gov is happy to help.)
  <br>See 
  <a rel="help" 
  href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromInPort"
  >this documentation</a>.
  Thanks to Evan Howell and Melanie Abecassis.
  <br>&nbsp;
<li>CHANGE: ERDDAP now uses netcdf-java 4.6.6.
  <br>With earlier versions, 
  netcdf-java read some fill values (perhaps, just in netcdf-4 files) as 0's. 
  Now it reads some of them as the netcdf
  standard fill value: -127 for bytes, -32767 for shorts, -2147483647 for ints.
  Unidata says the new behavior is the proper behavior.
  If a variable in a dataset starts showing one of these values where they used 
  to show 0's, you can add, e.g.,
  <br>&lt;att name="_FillValue" type="short"&gt;-32767&lt;/att&gt;
  <br>to the variable's addAttributes to tell ERDDAP to treat that
  value as a missing_value/_FillValue.
  However, in many cases, that will not yield the desired result: 0's.
  If so, consider modifying the files with NCO or rewriting the files.
  Complaints? Please contact Unidata ;-)
  <br>&nbsp;
<li>TO DO: New TopographyDepth palette
  <br>I encourage you to switch all datasets that use the OceanDepth palette
  to use the new TopographyDepth palette, which is like Topography except
  with the colors flipped, so that it is suitable for depth values (positive=down),
  instead of altitude values (positive=up).  The recommended settings 
  for this palette are:<pre>
    &lt;att name="colorBarMaximum" type="double"&gt;8000.0&lt;/att&gt;
    &lt;att name="colorBarMinimum" type="double"&gt;-8000.0&lt;/att&gt;
    &lt;att name="colorBarPalette"&gt;TopographyDepth&lt;/att&gt; </pre>
<li>NEW FEATURE: String missing_value and/or _FillValue
  <br>If a String variable defines a missing_value and/or _FillValue, 
  ERDDAP will now remove those values from the data and replace them with
  an empty string, so that missing values appear as empty strings,
  as with other datasets in ERDDAP.
  Thanks to Margaret O'Brien, LTER, and EML.
  <br>&nbsp;
<li>NEW FEATURE: Support for Local Times
  <br>timestamp variables with source data from Strings can now
  specify a time zone via a "time_zone" attribute
  which leads ERDDAP to convert the local-time-zone source times (some in
  Standard time, some in Daylight Saving time) into Zulu times.
  The list of valid time zone names is probably identical to the list 
  in the TZ column in
  <a rel="help" 
  href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">this table</a>.
  The default is "Zulu".
  Common US time zones are:
  US/Hawaii, US/Alaska, US/Pacific, US/Mountain, US/Arizona, US/Central, US/Eastern.
  For timestamp variables with numeric source data, you can specify the
  "time_zone" attribute, but the value must be "Zulu" or "UTC".
  Thanks to Margaret O'Brien, LTER, and EML.
  <br>&nbsp;
<li>NEW FEATURE: EDDTableFromAsciiFiles now supports semicolon-separated files
  <br>and is smarter about figuring out the separator.
  Thanks to Margaret O'Brien, LTER, and EML.
  <br>&nbsp;
<li>NEW FEATURE: If there is a significant error in loadDatasets (major or minor,
  e.g., a missing or invalid datasets.xml document),
  ERDDAP will now indicate it in status.html, right below "n Datasets Failed To Load" as
  <kbd>ERROR: while processing datasets.xml: see log.txt for details.</kbd> 
  <br>&nbsp;
<li>NEW FEATURE: ERDDAP looks for orphans.
  <br>When ERDDAP does a major loadDatasets, it now looks for orphan datasets
  (datasets that are in ERDDAP but not in datasets.xml).
  If found, they are listed in status.html, right below "n Datasets Failed To Load" as
  <kbd>ERROR: n Orphan Datasets (datasets in ERDDAP but not in datasets.xml) = ...</kbd>.
  <br>If you want to remove (unload) an orphan from ERDDAP, you need to add
  <br><kbd>&lt;dataset type="<i>anyValidType</i>" datasetID="<i>theDatasetID</i>" active="false" /&gt;</kbd>
  <br>to datasets.xml until the dataset is unloaded during the next major loadDatasets.
  <br>&nbsp;
<li>BUG FIX: If a dataset had a numeric timestamp variable with 
  units other than "seconds since 1970-01-01T00:00:00Z"
  and with the &lt;updateEveryNMillis&gt; system active,
  the timestamp variable's range was set incorrectly when the dataset was updated.
  Thanks to John Kerfoot.
  <br>&nbsp;
<li>BUG FIX: If &lt;quickRestart&gt; was true in setup.xml and you requested
  data from an EDDTableFrom...Files dataset that used &lt;updateEveryNMillis&gt;,
  the first request to the dataset would fail, but subsequent requests would succeed.
  Now the first request won't fail.
  Thanks to John Kerfoot.
  <br>&nbsp;
<li>BUG FIX: The GenerateDatasetsXml.sh and .bat didn't work with &gt;9 parameters 
  on the command line. Now they do.
  Thanks to John Kerfoot.
  <br>&nbsp;
<li>BUG FIX: The new EDDTableFromMultidimNcFiles didn't consistently remove
  trailing spaces from strings. Now it does. Notably, this affected ARGO files.
  Thanks to Kevin O'Brien and Roland Schweitzer.
  <br>&nbsp;
<li>BUG FIX: All access of remote DAP services is now initiated by more
  modern code. This fixes the "connection closed" error when accessing
  some EDDTableFromErddap datasets.
  Thanks to Kevin O'Brien.
  <br>&nbsp;
<li>BUG FIX: The handling of orderBy...() and distinct() are now back to the way 
  they were before the recent changes: a given request may have multiple orderBy...()
  and/or a distinct() filter; ERDDAP will handle them in the order they are specified.
  Thanks to David Karuga.
  <br>&nbsp;
<li>BUG FIX: If the dataset is EDDTableFromDatabase and a query has
  <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#sourceCanOrderBy"
    >sourceCanOrderBy</a> and/or
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#sourceCanDoDistinct"
    >sourceCanDoDistinct</a>, 
  then the database may (depending on settings in datasets.xml) 
  partly or completely handle <strong>only the first</strong> orderBy..() or distinct().
  Thanks to David Karuga.
  <br>&nbsp;
<li>BUG FIX: The recent extra percent-encoding caused problems with some queries 
   for .ncCF files, 
   e.g., 
  "HTTP Status 500 - Query error: variable=station is listed twice in the
  results variables list." 
  Thanks to Kevin O'Brien.
  <br>&nbsp;
<li>BUG FIX: EDDTableFromFiles had trouble reloading a dataset 
  when one of the columns was a true char column.  
  Thanks to Roland Schweitzer.
  <br>&nbsp;
<li>BUG FIX: EDDGridFromNcFilesUnpacked now also converts missing_value and _FillValue
  to standard values so files with different values can be aggregated.
  Because of this change, after you install this new version of ERDDAP, please set a 
  <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#hardFlag"
  >hardFlag</a> for each EDDGridFromNcFilesUnpacked dataset in your ERDDAP.
  <br>&nbsp;
<li>CHANGE: EDDTableFromNcCFFiles can now handle files that have multiple sample_dimension's.
  A given dataset must only use variables that use one of the sample_dimensions.
  Thanks to Ajay Krishnan.  
  <br>&nbsp;
<li>CHANGE: For EDDTableFrom...Files, &lt;sortFilesBySourceNames&gt; now allows
  comma-separated (recommended) or space separated lists of variable source names. 
  In either case, individual variable names may be surrounded by double quotes,
  e.g., if the name has an internal space.
</ul>
</ul>

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.72" href="#changes1.72" rel="bookmark">Changes</a>
in ERDDAP version 1.72 (released 2016-05-12)</h2>
<ul>
<li><strong>New Features (for users):</strong> None.
  <br>&nbsp;
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>NEW EDDTableFromMultidimNcFiles 
      <a rel="help"
      href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromMultidimNcFiles"
    >EDDTableFromMultidimNcFiles</a>
    is a new alternative to EDDTableFromNcFiles.
    It is designed to deal with groups of files with several variables 
    with shared dimensions, e.g., var1[a][b], var2[a], var3[b], scalarVar.
    Thanks to the Argo Project, Aur&eacute;lie Briand, and Roland Schweitzer.
  <li>BUG FIX: ERDDAP (via the FileVisitorDNLS and FileVistorSubdir classes)
    now follows symbolic links on Linux.
    ERDDAP still doesn't follow .lnk's on Windows.
  <li>BUG FIX of bug introduced in 1.70: 
    distinct + orderBy were not allowed together in one request. Now they are again. 
    They are not mutually exclusive/redundant.
    Thanks to David Karuga.
  <li>CHANGE to datasets.xml blacklist of IP addresses:
    <br>IP v4 addresses appear to ERDDAP as 4 period-separated hex numbers.
    <br>I think IP v6 addresses appear as 8 colon-separated hex numbers.
    <br>So ERDDAP now supports colons in the IP addresses in that list
      and :* at the end of the list to block a range of addresses.
  <li>CHANGE: ERDDAP now uses NetcdfFileWriter to write .nc files instead
    of the deprecated NetcdfFileWriteable. There should be no discernable change
    to the resulting files. This opens up the possibility of making
    big .nc files that use the .nc3 64bit extensions. If you want/need that,
    please send a request to bob.simons at noaa.gov .
  <li>CHANGE: Many of the links to remote websites were out-of-date.
    Now they are up-to-date and use https: instead of http: whenever possible.
  <li>Many small changes.
  </ul>    
</ul>



<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.70" href="#changes1.70" rel="bookmark">Changes</a>
in ERDDAP version 1.70 (released 2016-04-15)</h2>
<ul>
<li><strong>New Features (for users):</strong> None.
  <br>&nbsp;
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  Below, there are several recommended changes to the documentation in your
  setup.xml file. 
  <br>Please make these changes now. 
  <br>30 minutes work now may save you hours of confusion in the future.
  <ul>
  <li>Bug fix: The problem was that requests which were redirected to a remote ERDDAP
    failed with a <kbd>invalid character '|'</kbd> error message.
    This only occurred with recent versions of Tomcat. 
    Thanks to Rusty Holleman, Conor Delaney, and Roy Mendelssohn.
  <li>Bug fix: ERDDAP now uses an up-to-date version of netcdf-java
    (it's a long story) which includes up-to-date support for NcML,
    which fixes the problem with NcML LogicalReduce not working as expected. 
    There may be a few small changes to the metadata which ERDDAP reads 
    via netcdf-java from .nc, .hdf, .grib, and .bufr files.
    Thanks to Favio Medrano.
  <li>The new 
  <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableAggregateRows"
    >EDDTableAggregateRows</a> allows you to make a merged EDDTable dataset
    from two or more EDDTable datasets
    which have the same data variables using the same units.
    Thanks To Kevin O'Brien.  
  <li>New options for EDDTableFromDatabase
    (<a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#sourceCanOrderBy"
    >sourceCanOrderBy</a> and
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#sourceCanDoDistinct"
    >sourceCanDoDistinct</a>)
    let you specify whether ERDDAP, the database, or both, handle
    distinct and orderBy (and all variants) constraints.
    Thanks to David Karuga.
  <li>You can now make a private dataset's graphs and metadata available to 
    the public via the new 
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#graphsAccessibleTo"
    >&lt;graphsAccessibleTo&gt;public&lt;/graphsAccessibleTo&gt;</a>
    tag.
    Thanks to Emanuele Lombardi.
  <li>Now, if a string passed to GenerateDatasetsXml or DasDds
    is surrounded by double quotes, it is unquoted (as if it is a JSON string).
    Thanks to John Kerfoot and Melanie Abecassis.
  <li>GenerateDatasetsXml now supports "default" to get the default 
    and "nothing" to get an empty string (they work with or without quotes).
    This solves some problems related to passing empty strings.   
  <li>Now, in GenerateDatasetsXml, for all EDDGridFromFiles and EDDTableFromFiles 
    datasets, 
    if the sampleFileName you specify is "" (the empty string),
    it will use the last matching fileName from the directory + regex + recursive=true.
  <li>Updated: The displayInBrowser code which is used to display the results of
    GenerateDatasetsXml and DasDds on Linux computers was out-of-date
    and gave an odd message about Netscape.
    Now, this uses a modern Linux tool: xdg-open. Thanks to Melanie Abecassis.
  <li>The allDatasets dataset now has a "files" column, which indicates the
    base URL of the /files link (if there is one) for the dataset.

  <li>Increase the general security of your ERDDAP by changing the
    permissions associated with the tomcat directory and the bigParentDirectory:
    <br>(The actual commands below are for Linux. For other OS's, make 
      analogous changes.)
    <ul>
    <li>Change the "group" to be tomcat, your username, 
      or the name of a small group that includes tomcat and 
      all the administrators of Tomcat/ERDDAP, e.g., 
      <br><kbd>chgrp -R <i>yourUserName</i> apache-tomcat-<i>8.0.23</i></kbd>  <!-- tomcatVersion -->
      <br><kbd>chgrp -R <i>yourUserName bigParentDirectory</i></kbd>  
    <li>Change permissions so that tomcat and the group have 
      read, write, execute privileges, e.g,. 
      <br><kbd>chmod -R ug+rwx apache-tomcat-<i>8.0.23</i></kbd>  <!-- tomcatVersion -->
      <br><kbd>chmod -R ug+rwx <i>bigParentDirectory</i></kbd>  
    <li>Remove "other" user's permissions to read, write, or execute:
      <br><kbd>chmod -R o-rwx apache-tomcat-<i>8.0.23</i></kbd>  <!-- tomcatVersion -->
      <br><kbd>chmod -R o-rwx <i>bigParentDirectory</i></kbd> 
      <br>This is important, because it prevents other users from
        reading possibly sensitive information in ERDDAP setup files, log files,
        and files with information about private datasets.
    </ul>

  <li>The authentication/login system was revamped.  
    Thanks to Thomas Gardner, Emanuele Lombardi, and the U.S. government's new 
    <a rel="help" href="https://https.cio.gov/">HTTPS-Only Standard</a>.
    <ul>    


    <li>The authentication=openid option was removed. It was out-of-date.
    <li>The new, recommended, 
      <a rel="help"
      href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#authenticationGoogle"
      >authentication=google</a>
      option uses Google Sign-In
      (based on OAuth 2.0) to allow anyone with a Google email account
      (including Google managed accounts like @noaa.gov) to log in.
    <li>The new, 
      <a rel="help"
      href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#authenticationEmail"
      >authentication=email</a>
      option is a back up for authentication=google.
      It allows users with a &lt;user&gt; tag in datasets.xml 
      to log in by sending them an email with a special link.

    <li>In your setup.xml, please change the description for &lt;authentication&gt; 
    to be <pre>
&lt;!-- If you want to restrict access to some datasets, 
you need to specify the method used for logging on (authentication).
See the info at 
https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#security
Currently, the options are: "" (logins not supported, the default), 
"custom", "email", and "google" (recommended).  
[No longer supported: "basic", "openid"]
--&gt;</pre>

    <li>In your setup.xml, please add this right below the &lt;authentication&gt; tag<pre>
&lt;!-- If authentication=google, you must supply your Google Client ID. 
See
https://developers.google.com/identity/sign-in/web/devconsole-project
When setting this up, for Authorized JavaScript origins, 
for testing on your computer, use the domain "localhost" 
(e.g., origin=https://localhost:8443), 
not "127.0.0.1" (because Google Sign-In doesn't work with anything 
at that domain).
This will be a string of about 75 characters, probably starting with
several digits and ending with .apps.googleusercontent.com .
--&gt;
&lt;googleClientID&gt;&lt;/googleClientID&gt;</pre>

    <li>Now, users who aren't logged in can use http or https URLs (if you have
      set up &lt;baseHttpsUrl&gt; in your setup.xml).     
      Thanks to the U.S. government's new 
      <a rel="help" href="https://https.cio.gov/">HTTPS-Only Standard</a>.

    <li>Now, you can encourage all users to use https (not http)
      by setting &lt;baseUrl&gt; to be an https URL.
      To force users to use only https, you must also make changes to your
      Apache/Tomcat setup to block non-https access.
      Thanks to the U.S. government's new 
      <a rel="help" href="https://https.cio.gov/">HTTPS-Only Standard</a>.
      <p>In your setup.xml, please change the description for &lt;baseUrl&gt; 
      to be <pre>
&lt;!-- baseUrl is the start of the public URL, to which "/erddap" 
is appended. For example:
For running/testing on your personal computer:
  &lt;baseUrl&gt;http://localhost:8080&lt;/baseUrl&gt;     
  (127.0.0.1 doesn't work with authentication=google).
If you want to encourage all users to use https (not http), 
  make the baseUrl the same as the baseHttpsUrl (see below).
For ERD releases, we used to use
  &lt;baseUrl&gt;http://coastwatch.pfeg.noaa.gov&lt;/baseUrl&gt;    
For ERD releases, we now use
  &lt;baseUrl&gt;https://coastwatch.pfeg.noaa.gov&lt;/baseUrl&gt;    
--&gt;</pre>
    
    <li>The options &lt;passwordEncoding&gt; changed.
    In your setup.xml, please change the description for &lt;passwordEncoding&gt; 
    to be <pre>
&lt;!-- For "custom" authentication, this specifies how you have 
stored passwords in the roles tags in datasets.xml.
If you aren't storing any passwords, this is irrelevant.
The options (in order of increasing security) are: 
"MD5", "UEPMD5" (MD5(UserName:ERDDAP:Password)), 
"SHA256", "UEPSHA256" (SHA256(UserName:ERDDAP:Password), 
the default).
You should only use "MD5" or "SHA256" if you need to match 
values stored that way in an external password database.
See the info at 
https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#security
--&gt; </pre>

    <li>In your setup.xml, please change the description for &lt;baseHttpsUrl&gt; 
    to be<pre>
&lt;!-- This is a variant of &lt;baseUrl&gt; which is used when 
authentication is active and the user is logged in.
In general, you take the &lt;baseUrl&gt;, change "http" to "https", 
and change/add ":8443". This must begin with "https://".
If you make a proxy so that ":8443" isn't needed, 
then don't use ":8443" here.
This is relevant even if &lt;authentication&gt; is "".
See the instructions at 
https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#security
For example:
For running/testing on your personal computer:
  &lt;baseHttpsUrl&gt;https://localhost:8443&lt;/baseHttpsUrl&gt;                  
For releases at ERD, we use:
  &lt;baseHttpsUrl&gt;https://coastwatch.pfeg.noaa.gov&lt;/baseHttpsUrl&gt;  
If you want to encourage all users to use https (not http), 
  make the baseUrl (see above) the same as the baseHttpsUrl.
--&gt; </pre>

    <li>Now, if <kbd>listPrivateDatasets=true</kbd> in setup.xml,
      even less information will be shown about datasets that a user 
      doesn't have access to.     

    </ul>

  <li>Now, especially for when you are initially setting up your ERDDAP,
      you can now tell ERDDAP not to try to subscribe to remote 
      ERDDAP datasets. Thanks to Filipe Rocha Freire.
      <br>In your setup.xml, right before <kbd>&lt;fontFamily&gt;</kbd>, please add<pre>
&lt;!-- Normally, if you have a EDDGridFromErddap or EDDTableFromErddap 
dataset in your datasets.xml, it will try to subscribe to the remote 
ERDDAP dataset so that the local dataset is kept perfectly up-to-date.
If this ERDDAP is not publicly accessible (http://localhost), or its
IP address will change soon, or you have some other reason, 
you can tell this ERDDAP to not try to subscribe to the remote 
ERDDAP datasets by setting this to false. (default=true) 
This is the overall setting for this ERDDAP. It can be overridden by
the same tag (with a different value) in the datasets.xml chunk for 
a given EDD...FromErddap dataset. 
For each fromErddap dataset that doesn't subscribe to the remote 
ERDDAP dataset, you should set &lt;reloadEveryNMinutes&gt; to a smaller 
number so that the local dataset stays reasonably up-to-date. --&gt;
&lt;subscribeToRemoteErddapDataset&gt;true&lt;/subscribeToRemoteErddapDataset&gt;</pre>

  <li>In your setup.xml, in the instructions above &lt;emailFromAddress&gt;,
    please insert:
    <br><kbd>If possible, set this up to use a secure connection (SSL / TLS) 
    to the email server.</kbd>
    <br>If your setup isn't using a secure connection to the email server,
    please make the changes to make it so.    

  <li>In your datasets.xml, please add this line to the description of 
    &lt;subscriptionEmailBlacklist&gt; in your datasets.xml:
    <br><kbd>You can use the name "*" to blacklist an entire domain, e.g., *@example.com .</kbd>

  <li>Since the change to the logging system in v1.66, the log file is 
    never up-to-date. There are always messages or parts of messages 
    waiting to be written to the log file. 
    Now, you can make it up-to-date (for an instant)
    by viewing your ERDDAP's status web page at http://<i>your.domain.org</i>/erddap/status.html .

<li>HashDigest .......
  <li>A small change (to String2.canonical) 
    that should help keep things moving quickly
    when ERDDAP is very busy and also better deal with a very large number of 
    datasets.
  <li>Strongly Recommended: stop using &lt;convertToPublicSourceUrl&gt; in datasets.xml
    to convert an IP number in a dataset's &lt;sourceUrl&gt; (e.g., http://192.168.#.#/)
    into a domain name (e.g., http:my.domain.org/).
    From now on, new subscriptions to http://localhost, http://127.0.0.1, and 
    http://192.168.#.# URLS won't be allowed for security reasons.
    So please always use the public domain name in the <kbd>&lt;sourceUrl&gt;</kbd> 
    tag (if needed because of DNS problems), you can use the
    <a rel="help" href="http://linux.die.net/man/5/hosts">/etc/hosts table on your server</a>
    to solve the problem by converting local domain names to IP numbers without 
    using a DNS server.
    You can test if a given domain name gets properly resolved by using
    <br><kbd>ping <i>some.domain.name</i></kbd>
  <li>In generateDatasets.xml, for remote datasets (e.g., from a THREDDS server),
    the automatically generated datasetIDs are unchanged for most domains.
    For a few domains, the first part (i.e., the name) of the automatically 
    generated datasetID will be a little different.
    Notably, names that had one part are now more likely to have two parts.
    For example, datasets from http://oos.soest.hawaii.edu previously
    led to datasetIDs that started with hawaii_, but now
    lead to datasetIDs that start with hawaii_soest_ .
    If this causes problems for you, please email me. There may be a work-around.
  <li>The Cassandra driver was updated to cassandra-driver-core-3.0.0.jar 
    and thus for Cassandra v3.
    EDDTableFromCassandra doesn't take advantage of any new features in Cassandra v3.
    Indexes in Cassandra can now be more complex, but ERDDAP still 
    uses the Cassandra v2 index model, which assumes that an indexed column 
    can be directly queried with '=' constraints.
    GenerateDatasetsXml for EDDTableFromCassandra no longer detects columns with indexes;
    if an index is simple, you need to specify it in datasets.xml by hand.
    If you need support for more complex indexes or other new features,
    please email bob.simons at noaa.gov .
    <br>!!! If you still use Cassandra 2.x, please continue to use ERDDAP v1.68
    until you upgrade to using Cassandra 3.x.
  <li>Jars and the Classpath -- 
    Almost all of the included third-party .jar files were updated 
    to their latest versions.
    <ul>
    <li>slf4j.jar was added to /lib and the classpath. 
    <li>joid.jar and tsik.jar were removed from /lib and the classpath.
    <li>If you get error messages about classes not found
      when you compile or run ERDDAP or one of its tools, 
      compare your command line's classpath to ERDDAP's
      <a rel="help"
      href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#classpath"
      >current classpath</a>      
      to figure out which .jars are missing from your classpath.
    </ul>    
  </ul>    
</ul>



<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.68" href="#changes1.68" rel="bookmark">Changes</a>
in ERDDAP version 1.68 (released 2016-02-08)</h2>
<ul>
<li><strong>New Features (for users):</strong> None.
  <br>&nbsp;
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li><a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromFiles_AggregationViaFileNames"
    >EDDGridFromFiles Aggregation via File Names or Global Metadata</a> -- 
    <br>All variations of EDDGridFromFiles can now aggregate a group of files 
    by adding a new leftmost
    dimension, usually time, based on a value derived from each filename
    or from the value of a global attribute that is in each file.
  <li>Change: We previously suggested that you might like to create an
    EDDGridFromErddap dataset in your datasets.xml that referenced and re-served
    the jplMURSST dataset in our ERDDAP.
    Since there is now a newer version of that dataset, that dataset is now deprecated.
    So if you have that dataset in your ERDDAP, please add this new dataset<kbd>
<br>&lt;dataset type="EDDGridFromErddap" datasetID="jplMURSST41" active="true"&gt;
<br>&nbsp;&nbsp;&lt;!-- Multi-scale Ultra-high Resolution (MUR) SST analysis fv04.1, Global, 0.011 Degree, Daily --&gt;
<br>&nbsp;&nbsp;&lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41&lt;/sourceUrl&gt;
<br>&lt;/dataset&gt;</kbd>
    <br>If you want to remove the old jplMURSST dataset
    from your ERDDAP (it's your choice), 
    change its <kbd>active</kbd> setting from "true" to "false".    
  <li>Bug fix: Please check the bigParentDirectory that you specified in your setup.xml.
    If you didn't put a slash at the end of the &lt;bigParentDirectory&gt; name,
    then ERDDAP will have created several directories by appending words
    directly to the name that you specified, instead of creating subdirectories.
    Starting with version 1.68, ERDDAP adds a slash to the end of the directory name
    if you didn't specify one.
    So if you previously didn't specify a slash at the end, 
    then when you install ERDDAP v1.68 you need to move and rename
    those directories <strong>after</strong> you shutdown the old ERDDAP and
    <strong>before</strong> you startup 
    the new ERDDAP. 
    For example, if you mistakenly specified bigParentDirectory as /home/erddapBPD 
    (no trailing slash)
    and ERDDAP has mistakenly created directories like
    <br>/home/erddapBPDcache
    <br>/home/erddapBPDcopy
    <br>/home/erddapBPDdataset
    <br>/home/erddapBPDflag
    <br>/home/erddapBPDlogs
    <br>/home/erddapBPDlucene
    <br>and a file named /home/erddapBPDsubscriptionsV1.txt,
    <br>then you need to move and rename them to be
    <br>/home/erddapBPD/cache
    <br>/home/erddapBPD/copy
    <br>/home/erddapBPD/dataset
    <br>/home/erddapBPD/flag
    <br>/home/erddapBPD/logs
    <br>/home/erddapBPD/lucene
    <br>and /home/erddapBPD/subscriptionsV1.txt
  <li>Bug fix: There were bugs in EDDGridLonPM180 in ERDDAP v1.66 that occurred 
    when the child dataset is an EDDGridFromErddap.
  <li>Bug fix: There was a bug in EDDGridFromFiles and EDDTableFromFiles in ERDDAP v1.66
    that caused <kbd>&lt;updateEveryNMillis&gt;</kbd> to be ignored the first time 
    the dataset was loaded after a restart.
  <li>Bug fix/New Feature: If a child dataset within EDDGridAggregateExistingDimension, 
    EDDGridCopy, EDDGridFromEDDTable, EDDGridLonPM180, EDDGridSideBySide,
    EDDTableCopy, or EDDTableFromEDDGrid
    is a ...FromErddap dataset, that parent dataset now subscribes to the underlying
    ERDDAP dataset.
    If the underlying ERDDAP dataset is in the same ERDDAP, the subscription
    and its validation are done directly; you won't get an email asking you
    to validate the subscription.
    Otherwise, if the subscription system for your ERDDAP is turned off, 
    set the &lt;reloadEveryNMinutes&gt; setting for the parent dataset
    to a smallish number (60?) so that it stays up-to-date.
  <li>Bug fix/New Feature: If a child dataset within EDDGridAggregateExistingDimension, 
    EDDGridCopy, EDDGridFromEDDTable, EDDGridLonPM180, EDDGridSideBySide,
    EDDTableCopy, or EDDTableFromEDDGrid
    has active="false", that child dataset is now skipped.
  </ul>    
</ul>

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.66" href="#changes1.66" rel="bookmark">Changes</a>
in ERDDAP version 1.66 (released 2016-01-19)</h2>
<ul>
<li><strong>New Features (for users):</strong> 
  <ul>
  <li>Graphs (not maps) can now have descending values on the axes. 
    To get this when using a Make A Graph web page, change 
    new <kbd>Y Axis : ascending</kbd> setting (the default) to <kbd>descending</kbd>.
    Or, in a URL that requests a graph, 
    use the new optional 3rd '|' parameter for the     
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#GraphicsCommands"
    ><kbd>&amp;.xRange</kbd> and/or <kbd>&amp;.yRange</kbd> switches</a>,
    which can be nothing (the default), <kbd>true</kbd>, or <kbd>t</kbd> to get 
    ascending values, or use <kbd>false</kbd> or <kbd>f</kbd> to get descending values. 
    The true|false values are case insensitive.
    Thanks to Chris Fullilove, John Kerfoot, Luke Campbell, and Cara Wilson.
  <li>Users can now specify the background color for graphs by adding
    a <kbd>&amp;.bgColor=0x<i>AARRGGBB</i></kbd> switch to the URL which
    requests the graph. See 
    <kbd>.bgColor</kbd> in the Graphics Commands section of the 
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#GraphicsCommands"
    >griddap</a> 
    and
    <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#GraphicsCommands"
    >tabledap</a> documentation.
    Thanks to John Kerfoot and Luke Campbell.
  <li>For tabular datasets, constraints can now refer to 
    <kbd>min(<i>someVariableName</i>)</kbd> or <kbd>max(<i>someVariableName</i>)</kbd> .
    See 
    <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#min"
    >min() and max()</a>.
    Thanks to John Kerfoot.
  <li>For tabular datasets, time constraints that use 
    <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#now"
    ><kbd>now</kbd></a> can now
    specify time units of <kbd>milliseconds</kbd> or <kbd>millis</kbd>.
  <li>A request for an image of a tabular dataset now makes a map (not a graph) 
    if the x and y variables are longitude-like and latitude-like variables 
    (compatible units).
    Thanks to Rich Signell.
  <li>Bug fix: Time axis labels and ticks sometimes had odd irregularities
    when requesting multiple graphs simultaneously (e.g., on a web page).
    The problem was a bug in the SGT graphics library that ERDDAP uses
    (one variable was "static" that shouldn't have been).
    Thanks to Bradford Butman.
    <br>&nbsp;
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>It is a security risk to put your email password in a plain text file like setup.xml.
    To mitigate that problem, we strongly recommend that you:
    <ol>
    <li> Set up an email account just for ERDDAP's use, e.g., 
       erddap@yourInstitution.org .
       That has other benefits as well; notably, more than one ERDDAP administrator 
       can then be given access to that email account.
    <li> Make the permissions of the setup.xml file rw (read+write) for the user who 
       will run Tomcat and ERDDAP (user=tomcat?) and no permissions (not read or
       write) for the group and other users.
    </ol>
    Thanks to Filipe Rocha Freire.

  <li>The new 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#ArchiveADataset"
    >ArchiveADataset</a> 
    tool simplifies making a .tar.gz archive with a 
    subset of a dataset in a format that is suitable for archiving (notably, at NOAA's NCEI).
    This should be useful for many ERDDAP administrators in many situations, 
    but especially for groups within NOAA.

  <li>The new dataset type 
<a rel="help"
href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromNcFilesUnpacked"
>EDDGridFromNcFilesUnpacked</a>    
is a variant of EDDGridFromNcFiles.
The difference is that this class unpacks
each data file before EDDGridFromFiles looks at the files: 
  <ul>
  <li>It unpacks packed variables that use <kbd>scale_factor</kbd> and/or <kbd>add_offset</kbd>.
  <li>It promotes integer variables that have <kbd>_Unsigned=true</kbd> attributes
      to a larger integer data type so that the values appear as the unsigned values.
      For example, an <kbd>_Unsigned=true</kbd> byte (8 bit) variable becomes a signed short 
      (16 bit) variable.
  <li>It converts <kbd>_FillValue</kbd> and <kbd>missing_value</kbd> values to be NaN's
      (or MAX_VALUE for integer data types).
  </ul>
The big advantage of this class is that it provides a way to deal 
with different values of 
<kbd>scale_factor, add_offset, _FillValue,</kbd> or <kbd>missing_value</kbd> 
in different files in a collection.
Otherwise, you would have to use a tool like 
<a rel="help"
href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#NcML"
>NcML</a>
or
<a rel="help"
href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#NCO"
>NCO</a>
to modify each file
to remove the differences so that the files could be handled by 
EDDGridFromNcFiles.
For this class to work properly, the files must follow the CF standards for the
related attributes.
Thanks to Philippe Makowski.

  <li>The new dataset type 
<a rel="help"
href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridLonPM180"
>EDDGridLonPM180</a>
    lets you change datasets 
    that have some longitude values greater than 180 (e.g., the range 0 to 360)
    into datasets with longitude values within the range -180 to 180 
    (Longitude Plus or Minus 180, hence the name).
    The big advantage to offering datasets with longitude values in the range -180 to 180
    is that OGC services (e.g., WMS) require longitude values in this range.
    Thanks to Lynne Tablewski, Fabien Guichard, Philippe Makowski, and Martin Spel.
    <br>2016-01-26 Update: Eeek! This has a bug that occurs when the child dataset
    is an EDDGridFromErddap that references a dataset in the same ERDDAP.
    This bug is fixed in ERDDAP v1.68.
  <li>In 
<a rel="help"
href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#GenerateDatasetsXml"
>GenerateDatasetsXml</a>, a new special dataset type, EDDGridLonPM180FromErddapCatalog,
    lets you generate the datasets.xml for EDDGridLonPM180 datasets
    from all of the EDDGrid datasets in an ERDDAP
    that have any longitude values greater than 180.

  <li>For all EDDGrid datasets, in datasets.xml you can now use the 
    optional 
<br><a rel="help" 
href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#accessibleViaWMS"
><kbd>&lt;accessibleViaWMS&gt;true|false&lt;/accessibleViaWMS&gt;</kbd></a> (default=true).
    Setting this to false forcibly disables the WMS service for this dataset.
    If true, the dataset may still not be accessible via WMS for other reasons
    (e.g., no lat or lon axes).
    This is particularly useful for datasets that exist on their own and wrapped
    by EDDGridLonPM180, so that only the LonPM180 version is accessible via WMS.  

  <li>In setup.xml, you can specify a different default color for the 
    background of graphs. 
    The color is specified as an 8 digit hexadecimal value in the form 0x<i>AARRGGBB</i>,
    where AA, RR, GG, and BB are the opacity, red, green and blue components, 
    respectively, specified as 2-digit hexadecimal numbers. 
    Note that the canvas is always opaque white, so a (semi-)transparent graph
    background color blends into the white canvas.
    The default is light blue: 
    <br><kbd>&lt;graphBackgroundColor&gt;0xffccccff&lt;/graphBackgroundColor&gt;</kbd>
    <br>Thanks to John Kerfoot and Luke Campbell.

  <li>In setup.xml, you can now specify the maximum size for the 
    <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#log"
    >log file</a>
    (when it is renamed to log.txt.previous and a new log.txt is created), in MegaBytes.
    The minimum allowed is 1. The maximum allowed is 2000. The default is 20 (MB).
    For example:
    <br><kbd>&lt;logMaxSizeMB&gt;20&lt;/logMaxSizeMB&gt;</kbd>

  <li>In datasets.xml, 
    <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#fgdcFile"
    ><kbd>&lt;fgdcFile&gt;</kbd></a>
     or 
    <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#iso19115File"
    ><kbd>&lt;iso19115File&gt;</kbd></a>     
    can now be a local file (as before)
    or a URL (which will be downloaded so there is a local copy).
    If ERDDAP is unable to download the file, the loading of the dataset will continue
    but the dataset won't have an fgdc or iso19115 file.
  <li>EDDGridFromFiles and EDDTableFromFiles datasets can now do a quickRestart
    (the system that ERDDAP tries to use when datasets are first loaded when 
    ERDDAP is restarted). This speeds up restarting ERDDAP.
    <br>2016-01-26 Update: Eeek! This has a bug that causes 
    <kbd>&lt;updateEveryNMillis&gt;</kbd> to be ignored the first time the dataset is loaded
    after a restart. This bug is fixed in ERDDAP v1.68.
  <li>A general improvement to the quickRestart system allows ERDDAP to
    load datasets faster when ERDDAP is restarted.
  <li>All EDDGridFromFiles and EDDTableFromFiles subclasses now accept a new 
    &lt;pathRegex&gt; tag, usually specified right below &lt;recursive&gt;.
    If recursive is "true", only full subdirectory paths which 
    match the pathRegex (default=".*") will be accepted. 
    Similarly, a &lt;sourceUrls&gt; tag in an EDDGridAggregateExistingDimension
    can now include a <kbd>pathRegex</kbd> attribute (default=".*").    
  <li>The default for <kbd>&lt;partialRequestMaxBytes&gt;</kbd> in setup.xml is now 490000000 
    (~490 MB).
    This avoids some problems/timeouts related to getting data from THREDDS data servers.
    Thanks to Leslie Thorne.
  <li>A small change to the log system should allow ERDDAP to be more 
    responsive when it is very, very busy.
    Information is now written to the log file on the disk drive in fairly big chunks. 
    The advantage is that this is very efficient -- ERDDAP will never block
    waiting for information to be written to the log file.
    The disadvantage is that the log will almost always end with a 
    partial message, which won't be completed until the next chunk is written.
  <li>Bug fix related to inotify and the 
    <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#updateEveryNMillis"
    ><kbd>&lt;updateEveryNMillis&gt;</kbd></a> system for EDDGridFromFiles
    and EDDTableFromFiles datasets: It is no longer necessary to 
    specify a large of fs.inotify.max_user_watches or fs.inotify.max_user_instances.
    There is a bug in Java that causes some parts of Java's inotify/WatchDirectory 
    system to be not garbage collected when they are finalized; eventually,
    the number of zombie inotify watches or instances would exceed the
    maximum number specified.
    ERDDAP now works around this Java bug.
    <br>Also, the number of inotify threads is listed on the status.html web page,
    so you can keep an eye on its usage. Typically, there is 1 inotify thread
    per EDDGridFromFiles and EDDTableFromFiles dataset.
  <li>Bug fix: in many places, instead of an error being rethrown, 
    a new error was generated which only included a short version of
    the original error message and without the stack trace.
    Now, when a new error is generated, it properly includes the entire original exception
    e.g., <kbd>throw new Exception("some new message", e);</kbd>
    <br>Thanks to Susan Perkins.
  <li>Bug fix: until recently (v1.64?), if a .../datasetID URL was requested, 
    ERDDAP would add .html to the URL.
    In v1.64, this failed (an incorrectly formatted URL was generated and then failed).
    Now this works again.
    Thanks to Chris Fullilove.
  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.64" href="#changes1.64" rel="bookmark">Changes</a>
in ERDDAP version 1.64 (released 2015-08-19)</h2>
<ul>
<li><strong>New Features (for users):</strong> 
  <ul>
  <li>There is now guidance for accessing the password-protected private ERDDAP 
    datasets (https://) via curl and Python.
    See the
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#curl"
    >curl</a>
    and 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#Python"
    >Python</a>
    instructions.
    <br>Thanks to Emilio Mayorga of NANOOS and Paul Janecek of Spyglass Technologies.
    <br>&nbsp;
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>ERDDAP now requires Java 1.8+.
    <br>Java 1.7 reached its
    <a rel="help" href="https://www.oracle.com/technetwork/java/eol-135779.html"
    >end of life<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>
    (no more security updates) in April 2015.
    This version of ERDDAP will not work with versions of Java below 1.8.
    If you update from Java 1.7x (or earlier), you should also update Tomcat.
    See the <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html"
    >ERDDAP Set Up Instructions</a> for download links and advice.

  <li>New Data Provider Form.
    <br>When a data provider comes to you hoping to add some data to your ERDDAP, 
    it can be difficult and time consuming to collect all of the metadata 
    needed to add the dataset into ERDDAP. Many data sources 
    (for example, .csv files, Excel files, databases) have no internal metadata. 
    So ERDDAP has a new Data Provider Form which gathers metadata from the data 
    provider and gives the data provider some other guidance, 
    including extensive guidance for Data In Databases. 
    The information submitted is converted into the datasets.xml format 
    and then emailed to the ERDDAP administrator (you) and written (appended) 
    to bigParentDirectory/logs/dataProviderForm.log . 
    Thus, the form semi-automates the process of getting a dataset into ERDDAP, 
    but the ERDDAP administrator still has to complete the datasets.xml chunk 
    and deal with getting the data file(s) from the provider or connecting to the database.
    For more information, see the 
<a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#DataProviderForm"
>Data&nbsp;Provider&nbsp;Form&nbsp;description</a>.

  <li>New &lt;matchAxisNDigits&gt;
    <br>can be used by EDDGridFromFiles (and thus fromNcFiles and fromMergeIRFiles), 
    EDDGridAggregateExistingDimension, EDDGridCopy, and EDDGridSideBySide datasets
    to specify how precisely equal the axis values in different files must be
    (how many digits): 0=no checking (don't use this!), 1-18 for increasing precision,
    or 20 (the default) for exact equality. 
    For n=1-18, ERDDAP ensures that the first n digits of double values 
    (or (n+1) div 2 for float values) are equal.
    <br>&lt;matchAxisNDigits&gt; replaces &lt;ensureAxisValuesAreEqual&gt;,
    which is now deprecated.
    A value of 'true' will be converted to matchAxisNDigits=20.
    A value of 'false' (don't do this!) will be converted to matchAxisNDigits=0.    

  <li>EDDGridFromFiles and EDDTableFromFiles will load very slowly the first time
    you use this version of ERDDAP.
    <br>ERDDAP now stores the internal file information a little differently, 
    so the internal file table for each of these datasets has to be rebuilt.
    So don't worry. Nothing is wrong. It's a one time thing.

  <li>Remote Source Files 
    <br>EDDGridFromNcFiles, EDDTableFromNcFiles, EDDTableFromNcCFFiles now
    allow the files to be remote files in a directory accessible by 
    http:// (and probably https:// and ftp://, but they are untested)
    if the remote server supports 
    <a rel="help" href="https://en.wikipedia.org/wiki/Byte_serving">Range Requests<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>
    in the request header. THREDDS and Amazon S3 support Range Requests,
    Hyrax does not.
    This system allows you to access data in remote files without downloading the files
    (which is helpful if the remote files are too voluminous), 
    but access to these files will be far slower than access to local files
    or even to a remote OPeNDAP source.

    <br>This includes "files" in an Amazon S3 bucket since they are accessible via http://.
    If the S3 object names are like filenames (with internal /'s like a Linux
    directory tree), ERDDAP can also make the files accessible via ERDDAP's "files" system.
    For this to work, your S3 credentials must be in 
    ~/.aws/credentials (on Linux, OS X, or Unix), or
    C:\Users\USERNAME\.aws\credentials (on Windows)
    on the server with ERDDAP. See the 
    <a rel="help" href="http://docs.aws.amazon.com/AWSSdkDocsJava/latest/DeveloperGuide/java-dg-setup.html"
    >Amazon SDK documentation<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>.

  <li>GenerateDatasetsXml has a new, unusual option: EDDsFromFiles.
    <br>This will go through a file system (even a remote system like an Amazon S3
    if the objects have file-like names) and create the datasets.xml chunks for 
    a series of datasets.
    Your mileage may vary. 
    This works well if the files are organized so that all the data files in a given directory
    (and its subdirectories) are suitable for one dataset (e.g., all SST 1-day composites).
    Otherwise (e.g., if a directory contains some SST files and some Chlorophyll-a files),
    this works poorly but may still be useful.
    
  <li>Programmers: new /lib .jar files.
    <br>If you compile ERDDAP, please note the new .jar files in the 
    classpath -cp parameter listed in the ERDDAP 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#programmersGuide"
    >Programmer's Guide</a>.

  <li>sea_water_practical_salinity
    <br>If you use the CF standard name sea_water_salinity for any variable, 
    I encourage you to switch to sea_water_practical_salinity which 
    is available in <a rel="help" 
    href="http://cfconventions.org/Data/cf-standard-names/29/build/cf-standard-name-table.html"
    >version 29 of the CF Standard Name Table</a>
    (and some previous versions -- I didn't know that).
    This name indicates that this is indeed a Practical Salinity value using 
    Practical Salinity Units (PSU), as opposed to an older g/kg value.
    The canonical units are different, but still incredibly unhelpful:
    1 (presumably implying PSU/PSS-78), as opposed to 1e-3 
    (presumably implying g/kg) for sea_water_salinity. 
    [Hey, Unidata and CF: We identify values that use other scales, 
    for example Fahrenheit or Celsius, 
    via a units string that is the name of the scale or some variation. 
    Why can't we identify salinity units via their scale, e.g., PSS-78? 
    I know: PSS-78 values are "unitless", but there is an implied scale,
    isn't there? If I invent a new practical salinity scale where the values
    are 0.875 times the PSS-78 values, should the canonical units still be "1"?
    How could a user tell them apart? 
    Units of 1e-3 and 1 are neither descriptive nor helpful to users
    who are trying to figure out what the numbers indicate.]

  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.62" href="#changes1.62" rel="bookmark">Changes</a>
in ERDDAP version 1.62 (released 2015-06-08)</h2>
<ul>
<li><strong>New Features (for users):</strong> 
  <ul>
  <li>For EDDGrid datasets, users can now make Graph Type: Surface graphs 
    with any combination of numeric axes, not just longitude versus latitude.
    This lets you make x versus y (projected) graphs and various
    <a rel="help" 
    href="https://en.wikipedia.org/wiki/Hovm%C3%B6ller_diagram">Hovm&ouml;ller Diagrams<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>,
    for example, plotting longitude versus depth, or time versus depth.
    [Note: if depth is on the Y Axis, it will probably be flipped from what you want.
    Sorry, un-flipping it is not yet an option.]
    Thanks to Cara Wilson and Lynn DeWitt.
  <li>There is a new 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/convert/oceanicAtmosphericAcronyms.html"
    >Oceanic/Atmospheric Acronym Converter</a>
    which lets you convert a common oceanic/atmospheric acronym to/from a full name. 
  <li>There is a new 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/convert/oceanicAtmosphericVariableNames.html"
    >Oceanic/Atmospheric Variable Names Converter</a>
    which lets you convert a common oceanic/atmospheric variable name to/from a full name.
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>Java 7/8
    <br>Oracle no longer supports (provides security bug fixes for) Java 7. 
    ERDDAP still supports Java 7, but please move to Java 8. 
    The next release of ERDDAP will probably require Java 8.
  <li>valid_min/max/range 
    <br>Previously and now, if a dataVariable had scale_factor and add_offset metadata,
    ERDDAP unpacks the data values and removes that metadata.
    Previously, ERDDAP did not modify/unpack any valid_range, valid_min, valid_max 
    metadata (which usually/should contained packed values) by scale_factor and add_offset.
    Now it does.
    Please search your ERDDAP for "valid_" and make sure that all of the 
    variables that have valid_range, valid_min, or valid_max have the
    correct values when the datasets appear in the new version of ERDDAP.
    See 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#valid_range"
    >valid_range/min/max documentation</a>.

  <li>ACDD-1.3
    <br>Previously, ERDDAP (notably GenerateDatasetsXml) 
    used/recommended the original (1.0) version of the <a rel="bookmark" 
    href="http://www.unidata.ucar.edu/software/thredds/current/netcdf-java/metadata/DataDiscoveryAttConvention.html"
    >NetCDF Attribute Convention for Dataset Discovery</a>
    which was referred to as "Unidata Dataset Discovery v1.0" in the
    global Conventions and Metadata_Conventions attributes.
    Now, we recommend
    <a rel="bookmark" 
    href="http://wiki.esipfed.org/index.php/Attribute_Convention_for_Data_Discovery_1-3"
    >ACDD version 1.3</a>
    which was ratified in early 2015 and is referred to as "ACDD-1.3".
    Fortunately, ACDD-1.3 is highly backward compatible with version 1.0.
    We RECOMMEND that you 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#switchToACDD13"
    >switch to ACDD-1.3</a>. It isn't hard.
  <li>GenerateDatasetsXml Attributes
    <br>There were a large number of changes to 
    improve the &lt;addAttributes&gt; values suggested by GenerateDatasetsXml
    for the global Conventions, creator_name/email/url, keywords, summary, and 
    title attributes and for the variable long_name attribute.
    Some changes are related to the new use of ACDD-1.3.
  <li>EDDTableFromSOS datasets
    <br>With the occasional addition of new types of
    SOS servers
    and changes to the old servers, it is getting harder for ERDDAP to 
    automatically detect the server type from the server's responses. 
    The use of 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromSOSSkeletonXML"
    >&lt;sosServerType&gt;</a> (with a value of 
    IOOS_NDBC, IOOS_NOS, OOSTethys, or WHOI) is now STRONGLY RECOMMENDED. 
    If any of your datasets of this type have problems in the new version of ERDDAP,
    try re-running GenerateDatasetsXml for the SOS server to
    generate a new chunk of datasets.xml for that dataset.
    GenerateDatasetsXml will let you try out the different &lt;sosServerType&gt; options 
    until you find the right one for a given server.
    If you still have problems, 
    please let me know the problem you see and the URL of the server and I will try to help.   
  <li>EDDTableFromFileNames datasets
    <br>Some attributes that were recommended 
    addAttributes are now sourceAttributes.
    You probably don't have to change anything for existing datasets in your datasets.xml.
  <li>Bug fix related to certain requests to EDDTableFromNcCFFiles datasets.
    <br>I also added a large number of unit tests
    to the existing large number of units tests of the underlying methods
    (there are 100's of scenarios).
    Thanks to Eli Hunter.
  <li>Bug fix/small changes to EDDGridFromMergeIR.
    <br>Thanks to Jonathan Lafite and Philippe Makowski
  <li>Bug fix: EDDGridFromErddap now works even if a remote dataset 
    doesn't have ioos_category variable attributes.
    <br>Thanks to Kevin O'Brien.
  <li>Bug fix in .graph web page for EDDGrid datasets when
    there is only one axis variable with more than one value.
    <br>Thanks to Charles Carleton.
  <li>There were other small improvements, changes, and bug fixes.
  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.60" href="#changes1.60" rel="bookmark">Changes</a>
in ERDDAP version 1.60 (released 2015-03-12)</h2>
<ul>
<li><strong>New Features (for users):</strong> none

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>STRONGLY RECOMMENDED: Update your server's <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#robots">robots.txt</a> 
    file to include:<kbd>
    <br>Disallow: /erddap/files/</kbd>
  <li>INotify Problem and Solution:
    <br>On Linux computers, 
    if you are using &lt;updateEveryNMillis&gt; with datasets with 
    type=EDDGridFromFiles, 
    EDDTableFromFiles, EDDGridCopy, EDDTableCopy, or their subclasses,
    you may see a problem where a dataset fails to load 
    (occasionally or consistently) with the error message:
    "IOException: User limit of inotify instances reached or too many open files".
    If so, you can fix this problem by calling (as root):<kbd>
    <br>    echo fs.inotify.max_user_watches=65536 | tee -a /etc/sysctl.conf
    <br>    echo fs.inotify.max_user_instances=1024 | tee -a /etc/sysctl.conf
    <br>    sysctl -p</kbd>
    <br>Or, use higher numbers if the problem persists.
    The default for watches is 8192. The default for instances is 128.
    [UPDATE: There is a bug in Java which causes inotify instances to be not
    garbage collected. 
    This problem is avoided in ERDDAP v1.66 and higher. 
    So the better solution is to switch to the latest version of ERDDAP.]
  <li>NoSuchFileException Bug Fix: 
    <br>There was a bug that could cause datasets of type=EDDGridFromFiles, 
    EDDTableFromFiles, EDDGridCopy, EDDTableCopy, or their subclasses
    to not load occasionally with 
    the error "NoSuchFileException: <i>someFileName</i>".
    The bug is related to uses of FileVisitor and was introduced in ERDDAP v1.56.
    The problem is rare and is most likely to affect datasets with a large
    number of frequently changing data files.
  <li>There were some small improvements, changes, and bug fixes.
  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.58" href="#changes1.58" rel="bookmark">Changes</a> 
in ERDDAP version 1.58 (released 2015-02-25)</h2>
<ul>
<li><strong>New Features (for users):</strong> 
  <ul>
  <li>The new 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html"
    >"files"</a>
    system lets you browse a virtual file system and download source 
    data files from many ERDDAP datasets. 
    The "files" system is active by default, 
    but ERDDAP administrators can disable it by putting
    <br>&lt;filesActive&gt;false&lt;/filesActive&gt;
    <br>in the ERDDAP setup.xml file.
    Special thanks to Philippe Makowski, who persisted when I was
    slow to appreciate the beauty of this idea.
  <li>time destinationMax -- 
    Previously, the time variable of EDDTable datasets with near 
    real time data had a destinationMax of NaN, which implied that the 
    maximum time value for the dataset is recent, but not precisely known and 
    changing frequently.
    Now, the destinationMax has a real value, indicating the currently-known last time.
Many datasets, have continuously updated data.
    ERDDAP supports accessing the latest data, 
    even if it is after the currently-known last time.
    Note that the new 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#updateFiles"
    >&lt;updateEveryNMillis&gt;</a>
    support in EDDGridFromFiles and EDDTableFromFiles datasets 
    updates the time variable's destinationMax.
    Another consequence of this change is that the datasetID=allDatasets dataset
    now includes the currently-known last time in the maxTime columns.
    Thanks to John Kerfoot.
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>STRONGLY RECOMMENDED: Update your server's <a rel="help"
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#robots"
    >robots.txt</a> 
    file to include:<kbd>
    <br>Disallow: /files/
    <br>Disallow: /erddap/files/</kbd>
  <li>Sample datasets.xml -- Last year, we recommended several excellent datasets
    in the coastwatch ERDDAP that you could add to your ERDDAP just by adding 
    a few lines to your datasets.xml. If you added the erdVH datasets, please
    switch to the newer erdVH2 datasets:
    <ul>
    <li>Make a copy of all the erdVH datasets and change the copied datasetID's 
      from erdVH... to erdVH2... and change the referenced sourceUrl from
      erdVH... to erdVH2....
    <li>Set the erdVH... datasets to <kbd>active="false"</kbd>.
    </ul>
  <li>All EDDGridFromFiles and EDDTableFromFiles subclasses now support 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#accessibleViaFiles"
    >&lt;accessibleViaFiles&gt;</a> to make the source data files
    accessible via the "files" systems.
    By default, this system is off for each dataset. 
    You need to add the tag to enable it.
    Thanks to Philippe Makowski.
  <li>All EDDGridFromFiles and EDDTableFromFiles subclasses now support
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#updateFiles"
    >&lt;updateEveryNMillis&gt;</a>. 
    By default, this system is off for each dataset. 
    You need to add the tag to enable it.
    Thanks to Dominic Fuller-Rowell and NGDC.
  <li>The new <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromFileNames"
    >EDDTableFromFileNames</a> 
    creates a dataset from information about a group of files 
    in the server's file system, 
    but it doesn't serve data from within the files.
    For example, this is useful for distributing collections 
    of image files, audio files, 
    video files, word-processing files, and spreadsheet files.
    This works hand-in-hand with the new 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/files/documentation.html"
    >"files"</a>
    system, so that users can download the files.
    Special thanks to Philippe Makowski, who persisted when I was
    slow to appreciate the beauty of this idea.
  <li>The new <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromEDDTable"
    >EDDGridFromEDDTable</a> 
    lets you convert a tabular dataset into a gridded dataset.
    Thanks to Ocean Networks Canada.
  <li>The new <a rel="help" 
    href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromMergeIRFiles"
    >EDDGridFromMergeIRFiles</a> 
    aggregates data from a group of local MergeIR .gz files.
    EDDGridFromMergeIRFiles has the distinction of being the first chunk
    of code contributed to ERDDAP.
    It was done entirely without our help.
    Three cheers and special thanks to 
    Jonathan Lafite and Philippe Makowski of 
    <a rel="help" 
    href="http://rtech-engineering.com/?lang=en">R.Tech Engineering</a>.
  <li>There is a new, optional setup.xml tag, &lt;unitTestDataDir&gt;,
    which specifies the directory with the unit test data files
    which are available via a new GitHub repository:
    <a rel="bookmark"
    href="https://github.com/BobSimons/erddapTest">https://github.com/BobSimons/erddapTest</a> .
    For example: 
    <br>&lt;unitTestDataDir&gt;/erddapTest/&lt;/unitTestDataDir&gt; 
    <br>This isn't useful yet, 
    but is part of the move toward making as many of the unit tests
    runnable by other people as possible.
    Thanks to Terry Rankine.
  <li>There were many small improvements, changes, and bug fixes.
  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.56" href="#changes1.56" rel="bookmark">Changes</a> 
in ERDDAP version 1.56 (released 2014-12-16)</h2>
<ul>
<li><strong>New Features (for users):</strong> (None)

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>You probably already know about 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromErddap"
    >EDDGridFromErddap</a>
    and 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromErddap"
    >EDDTableFromErddap</a>
    which let you link to datasets in other ERDDAPs and have them appear
    in your ERDDAP. User requests for actual data from these datasets get 
    routed invisibly to the source ERDDAP, so the data doesn't flow through your
    system or use your bandwidth. There is now a large list of recommended datasets 
    in the
    <a rel="bookmark"  href="https://coastwatch.pfeg.noaa.gov/erddap/download/erddapContent.zip"
    >sample datasets.xml in erddapContent.zip</a>.
    To include them in your ERDDAP, all you have to do is copy and paste the 
    ones you want into your datasets.xml.    
    Thanks to Conor Delaney.
  <li>If you compile ERDDAP, you need to add some new .jar files to your 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#developmentEnvironment"
    >classpath 
    -cp switch</a> for javac and java.
  <li>The new 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromCassandra"
    >EDDTableFromCassandra</a>
    handles getting data from 
    <a rel="help" 
    href="http://planetcassandra.org/cassandra/">Cassandra<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>.
    Thanks to Ocean Networks Canada.
  <li>The new 
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromColumnarAsciiFiles"
    >EDDTableFromColumnarAsciiFiles</a>
    handles getting data from ASCII data files with fixed-width columns.
    Thanks to Philippe Makowski.
  <li>All EDDGridFromFiles and EDDTableFromFiles subclasses now use a new 
    method, FileVisitor (added to Java in 1.7) to gather information about the files.
    This may have no benefit for the first gathering of file information
    for a given dataset but seems to have a huge benefit for subsequent gatherings
    if done soon, while the OS still has the information cached. Thanks to NGDC.
    <p>We still recommend: If a dataset has a large number of files (e.g., &gt;1,000), 
    the operating system (and thus EDDGridFromFiles and EDDTableFromFiles)
    will operate much more efficiently if you 
    store the files in a series of subdirectories (one per year,
    or one per month for datasets with very frequent files),
    so that there are never a huge number of files in a given directory.    
  <li>Several small improvements to EDDTableFromAsciiFiles.
  <li>Some improvements to EDDTableFromAsciiServiceNOS, notably to get some
    additional columns of information from the source.
    Thanks to Lynn DeWitt.
  <li>Some small bug fixes related to the ISO 19115 that ERDDAP generates.
    Thanks to Anna Milan.
  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.54" href="#changes1.54" rel="bookmark">Changes</a>
in ERDDAP version 1.54 (released 2014-10-24)</h2>
<ul>
<li><strong>New Features (for users):</strong> 
  <ul>
  <li>Some variables now work with time at the milliseconds precision, e.g.,
    2014-10-24T16:41:22.485Z.
    Thanks to Dominic Fuller-Rowell.
  </ul>

<li><strong>Small changes/Bug Fixes:</strong>
  <ul>
  <li>Bug fix: with a certain combination of circumstances, EDDGridFromNcFile
    datasets returned data at reduced precision (e.g., floats instead of doubles).
    This could only affect data values with &gt; 8 significant figures.
    My apologies. (And it was a classic computer programming bug: one wrong character.)
    Thanks to Dominic Fuller-Rowell.
  <li>Many small changes.
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>Griddap datasets now support timestamp axis variables and data variables
     (i.e., variables with time values, but a destinationName other than "time").
     Thanks to Dominic Fuller-Rowell.
  <li>ERDDAP now correctly supports milliseconds time_precision "1970-01-01T00:00:00.000Z".
     One intentional quirk: 
     when writing times to human-oriented files (e.g., .csv, .tsv, .json, .xhtml),
     ERDDAP uses the specified time_precision if it includes seconds and/or decimal seconds;
     otherwise, it uses seconds time_precision "1970-01-01T00:00:00Z" (for consistency
     and backwards compatibility).
     Thanks to Dominic Fuller-Rowell.
  <li>EDDGridFromNcFiles now supports reading String dataVariables.
  <li>.nc files written by griddap can now have String dataVariables.
  <li>GenerateDatasetsXml now includes more flush() calls to avoid the problem
    of information not being written to the files. 
    Thanks to Thierry Valero.
  <li>The documentation for GenerateDatasetsXml was improved, notably to point
    out that the -i switch only works if you specify all the answers on the command line
    (e.g., script mode). And script mode is explained.
    Thanks to Thierry Valero.
  <li>ERDDAP no longer allows two variables in a dataset to have the same sourceName.
    (If someone did it before, it probably led to error messages.)
    As before, ERDDAP doesn't allow two variables in a dataset to have the same 
    destinationName.
  </ul>

</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.52" href="#changes1.52" rel="bookmark">Changes</a>
in ERDDAP version 1.52 (released 2014-10-03)</h2>
<ul>
<li><strong>New Features:</strong> (none)

<li><strong>Small changes/Bug Fixes:</strong>
  <ul>
  <li>Another (smaller) change to make ERDDAP faster.
  <li>Improvement to ISO 19115 files generated by ERDDAP: added newly recommended
     &lt;gmd:protocol&gt; values (information, search, OPeNDAP:OPeNDAP, 
     ERDDAP:griddap, and ERDDAP:tabledap)
     within &lt;gmd:CI_OnlineResource&gt;.
     Thanks to Derrick Snowden and John Maurer.
  <li>Many small changes.
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>Bug fix: GenerateDatasetsXml.sh and DasDds.sh weren't in erddap.war for 1.48 and 1.50.
    Now they are. Thanks to Thierry Valero.
  <li>Small changes to some speed tests in TestAll to make them less susceptible to chance.
    Thanks to Terry Rankine.
  </ul>

</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.50" href="#changes1.50" rel="bookmark">Changes</a>
in ERDDAP version 1.50 (released 2014-09-06)</h2>
<ul>
<li><strong>New Features:</strong> (none)
<li><strong>Small changes/Bug Fixes:</strong>
  <ul>
  <li>This ERDDAP should be much faster than recent versions. 
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> (nothing)
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.48" href="#changes1.48" rel="bookmark">Changes</a> 
in ERDDAP version 1.48 (released 2014-09-04)</h2>
<ul>
<li><strong>New Features:</strong>
  <ul>
  <li>ERDDAP now always creates a tabular dataset, datasetID=allDatasets, 
    which has a table of information about all of the datasets in this ERDDAP.
    It can be queried like any other tabular dataset. This is a useful
    alternative to the current system for getting information about datasets programmatically.
  <li>There are two new output file types for EDDTable and EDDGrid, .csv0 and .tsv0.  
    They are comma- and tab-separated-value files that don't have lines with column names or units. 
    The data starts on the first line.
    They are especially useful for scripts that just want one piece of information
    from ERDDAP.
  </ul>

<li><strong>Small changes/Bug Fixes:</strong>
  <ul>
  <li>Maps can now be made to longitudes in the range -720 to 720. 
  <li>The new .ncml response File Type is available for all EDDGrid datasets.
    It returns the <a rel="help" 
    href="http://www.unidata.ucar.edu/software/thredds/current/netcdf-java/ncml/">NCML<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>-formatted
    description of the dataset (similar to a combined .dds + .das).
  <li>Bug fix: Saving tabular data to an .nc file was limited to 100,000 values per variable.
    Now it is just limited to 2 GB total file size.
    Thanks to Kevin O'Brien.
  <li>Bug fix: the saveAsMatlab methods now ensure that datasetIDs are converted
    to safe Matlab variable names. 
    But I still strongly recommend that you create datasetIDs that are valid variable names:
    starting with a letter and then just using A-Z, a-z, 0-9, and _. 
    See <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#datasetID"
    >datasetID</a>.
    Thanks to Luke Campbell.
  <li>Bug fix in EDDTableFromDatabase: With some types of databases, 
    a NO_DATA response from the database led to a pointless 30 second delay in ERDDAP.
    Thanks to Greg Williams. 
  <li>Bug fix: EDDGrid Make A Graph with Graph Type = lines (or markers or markers and lines)
    forced x axis variable to be time. Now it can be any axis.
    Thanks to Lynn DeWitt.

  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>STRONGLY RECOMMENDED: Update Java  
    <br>This version of ERDDAP requires Java 7 or higher, 
    but Java 7 will reach its end-of-life in April 2015 (soon!), 
    so now is a good time to switch to Java 8.
    So Java 8 is STRONGLY RECOMMENDED. I test with Java 8.
    Note that Java 6 reached its end-of-life in February 2013 (no more security bug fixes!).
  <li>STRONGLY RECOMMENDED: Update Tomcat 
    <br>If you use Tomcat, please switch to the latest version of Tomcat.  
    Tomcat 8 is designed to work with Java 8.
  <li>"ERDDAP" is no longer an acronym. Now it is just a name. 
    I don't want the name to highlight ERD. 
    I want ERDDAP to highlight your institution and your data.  
  <li>PLEASE 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#customize">customize
    the appearance of your ERDDAP installation to highlight your institution and your data</a>. 
    With an hour's work, you can make nice improvements that will last forever.  
  <li>In setup.xml, the &lt;displayDiagnosticInfo&gt; option is now always ignored
    and treated as if the value were <kbd>false</kbd>. 
    <br>RECOMMENDED: Remove the &lt;displayDiagnosticInfo&gt; tag and 
    related info from your setup.xml.
  <li>In setup.xml, the default for &lt;drawLandMask&gt; was "over", but now it is "under", 
    which is a better general default (works well with all datasets). 
  <li>The GenerateDatasetsXml.sh and DadDds.sh Linux scripts now use bash instead of csh,
    and have the extension .sh.
    Thanks to Emilio Mayorga
  <li>GenerateDatasetsXml and DasDds now create their own log files 
    (GenerateDatasetsXml.log and  DasDds.log) 
    and output files (GenerateDatasetsXml.out and DadDds.out) in <i>bigParentDirectory</i>/logs/,
    and never put their results on the clipboard.
  <li>GenerateDatasetsXml now supports a -i command line parameter which inserts the output 
    into the specified file at a specified place. See the 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#GenerateDatasetsXml"
    >documentation</a>.  Thanks to Terry Rankine.
  <li>EDDTableFromDatabase now supports &lt;columnNameQuotes&gt;&lt;/columnNameQuotes&gt;,
    with valid values " (the default), ', or nothing.
    This character (if any) will be used before and after column names in SQL queries.
    Different types of databases, set up in different ways, will need different column name
    quotation marks. 
  <li>Tabular latitude and longitude variables can now have customized long_name's,
    e.g., Profile Latitude. Previously, they could only be Latitude and Longitude.
  <li>From now on, specify "defaultDataQuery" and "defaultGraphQuery" 
    as attributes in the dataset's global metadata (i.e., &lt;addAtts&gt;), not as separate
    &lt;defaultDataQuery&gt; and &lt;defaultGraphQuery&gt; tags.
    (Although, if you still specify them via the tags,
    ERDDAP will automatically create global attributes with the information.)
  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.46" href="#changes1.46" rel="bookmark">Changes</a>
in ERDDAP version 1.46 (released 2013-07-09)</h2>
<ul>
<li><strong>New Features:</strong>
  <ul>
  <li>(None)
  </ul>

<li><strong>Small changes/Bug Fixes:</strong>
  <ul>
  <li>Bug fix: In EDDTableFromDatabase, in version 1.44 only, ERDDAP improperly
    quoted the database's table name in SQL statements.  That is now fixed.
    Thanks to Kevin O'Brien.
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li><strong>If you don't modify the standard messages in messages.xml, 
    <br>delete [tomcat]/content/erddap/messages.xml .</strong>
    <br>The default messages.xml file is now in the erddap.war file, not erddapContent.zip.  
    So, you no longer need to manually update messages.xml .    

  <li>If you do modify the messages in messages.xml,
    from now on, each time you update ERDDAP, either:
    <ul>
    <li>Make the same changes you made before to the new 
      <br>[tomcat]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml.
      <br>And this one time: delete [tomcat]/content/erddap/messages.xml .
    <li>Or, figure out what has changed in the new messages.xml (via diff), and modify your 
      <br>[tomcat]/content/erddap/messages.xml file accordingly.
    </ul>
  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.44" href="#changes1.44" rel="bookmark">Changes</a> 
in ERDDAP version 1.44 (released 2013-05-30)</h2>
<ul>
<li><strong>New Features:</strong>
  <ul>
  <li>Queries to EDDTable datasets now support <kbd>&amp;orderByMin(...)</kbd> and
  <kbd>&amp;orderByMinMax(...)</kbd>
    (which returns two rows in each group, with the minimum and maximum of the last orderBy value).
    Thanks to Lynn DeWitt.
  <li>There are two new tabledap file types: .ncCFHeader and .ncCFMAHeader 
    (which return the ncdump-like header of the corresponding .ncCF and .ncCFMA file types).
    Thanks to Steve Hankin.
  </ul>

<li><strong>Small changes/Bug Fixes:</strong>
  <ul>
  <li>Bug fix: loading the .graph and .html web pages for datasets with lots of
    time values was slow
    because ERDDAP was slow when generating the time slider options. 
    Now it is always fast.
    Thanks to Michael Barry, OOICI, and Kristian Sebastian Blalid.
  <li>Bug fix: In some EDDTable dataset types, the time constraints were 
    not always handled correctly.
    Now they are.
    Thanks to John Maurer and Kevin O'Brien.
  <li>Bug fix: datasets wouldn't load when all of the subsetVariables were
    fixed value variables.
    Now they will.
    Thanks to Lynn DeWitt and John Peterson.
  <li>Change: now, all queries for just subset variables act as if 
    <kbd>&amp;distinct()</kbd> is part of the query.
  <li>Change: now, for queries that include <kbd>&amp;.jsonp=<i>functionName</i></kbd>, 
    <kbd><i>functionName</i></kbd> MUST now be a series of 1 or more (period-separated) words.
    Each word must start with an ISO 8859 letter or "_" and be followed
    by 0 or more ISO 8859 letters, digits, or "_".
    Yes, this is more restrictive than JavaScript's requirements for function names.
  <li>The time axis on graphs now works well for longer time ranges (80 - 10000 years)
    and shorter time ranges (0.003 - 180 seconds).
  <li>ERDDAP is now more forgiving when parsing variations of ISO-8601-format time data.
  <li>There were many other small changes and bug fixes.
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li><strong>You MUST update to the latest version to be secure.</strong>
    <br>ERDDAP underwent a security audit. There were some bugs and weaknesses.
    Version 1.44 includes several important security bug fixes and 
    several changes to increase security and accessibility (e.g., for vision impaired users).      
    Version 1.44 has passed the follow-up security audit.
    Thanks to all the good people at USGS and Acunetix who made this possible.
    (Shouldn't NOAA be doing this?)

  <li>The new 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromWFSFiles"
    >EDDTableFromWFSFiles</a> makes a local copy of all of the data from an
    ArcGIS MapServer WFS server
    and so the data can then be re-served quickly to ERDDAP users.
    Thanks to Christy Caudill.

  <li>The new
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromEDDGrid"
    >EDDTableFromEDDGrid</a> lets you create an EDDTable dataset from an EDDGrid dataset.
    Some common reasons for doing this are:
    <ul>
    <li>This allows the dataset to be queried with OPeNDAP selection constraints 
      (which a user may have requested).
    <li>The dataset is inherently a tabular dataset.
    </ul>
    Thanks to OOICI, Jim Potemra, Roy Mendelssohn.

  <li>The variable name "depth" is now a special alternative to "altitude". 
    The units must be some variant of "meters".  The data values must be positive=down.
    ERDDAP is now fully aware of the meaning of "depth" and supports
    it wherever altitude is supported 
    (e.g., as a component of a CF DSG cdm_data_type=profile dataset).
    A dataset must not have both "depth" and "altitude" variables.

  <li>In your datasets.xml, please remove any uses of
    <kbd>&lt;att name="cdm_altitude_proxy"&gt;depth&lt;/att&gt;</kbd>
    since <kbd>depth</kbd> is now a special alternative to <kbd>altitude</kbd> and
    so doesn't need to be specially identified.

  <li>In your datasets.xml, please remove any uses of
    <kbd>&lt;altitudeMetersPerSourceUnit&gt;</kbd>, except for EDDTableFromSOS.
    <br>When the value is 1, just delete it.  
    <br>When the value is -1, consider changing the variable name to <kbd>depth</kbd>.  
    <br>For other values, add to &lt;addAttributes&gt;, for example,:
    <br><kbd>  &lt;att name="scale_factor" type="float"&gt;-1&lt;/att&gt; </kbd>

  <li>All datasets now support
    <ul>
    <li><kbd>&lt;defaultDataQuery&gt;</kbd> which is used if .html 
      is requested with no query.
      <ul>
      <li>You will probably rarely need to use this.
      <li>For griddap datasets, a common use of this is to specify a different default 
        depth or altitude dimension value (e.g., [0] instead of [last]).
        <br>In any case, you should always list all of the variables, 
          always use the same dimension values for all variables,
          and almost always use [0], [last], or [0:last] for the dimension values.
        <br>For example:        <br><kbd>&lt;defaultDataQuery&gt;u[last][0][0:last][0:last],v[last][0][0:last][0:last]&lt;/defaultDataQuery&gt;</kbd>
      <li>For tabledap datasets, the most common use of this is to specify a different default 
        time range (relative to <kbd>now</kbd>, e.g., <kbd>&amp;time&gt;=now-1day</kbd>).
        <br>Remember that requesting no data variables is the same as specifying
        all data variables, 
          so usually you can just specify the new time constraint.
        <br>For example:        
        <br><kbd>&lt;defaultDataQuery&gt;&amp;amp;time&amp;gt;=now-1day&lt;/defaultDataQuery&gt;</kbd>
      </ul>
    <li><kbd>&lt;defaultGraphQuery&gt;</kbd> which is used if .graph is
      requested with no query.
      <ul>
      <li>You will probably rarely need to use this.
      <li>For gridddap datasets, the most common use of this is to specify a
        different default 
        depth or altitude dimension value (e.g., [0] instead of [last]) and/or 
        to specify that a specific
        variable be graphed.
        <br>In any case, you will almost always use [0], [last], or [0:last] 
        for the dimension values.
        <br>For example:                <br><kbd>&lt;defaultGraphQuery&gt;temp[last][0][0:last][0:last]&amp;amp;.draw=surface&amp;amp;.vars=longitude|latitude|temp&lt;/defaultGraphQuery&gt;</kbd>
      <li>For tabledap datasets, the most common uses of this are to specify 
        different variables to be graphed, a different default time range 
        (relative to <kbd>now</kbd>, e.g., <kbd>&amp;time&gt;=now-1day</kbd>) 
        and/or different default graphics settings (e.g., marker type).
        <br>For example:        
        <br><kbd>&lt;defaultGraphQuery&gt;longitude,latitude,seaTemperature&amp;amp;time&gt;=now-1day&amp;amp;.marker=1|5&lt;/defaultGraphQuery&gt;</kbd>
      </ul>
    </ul>
    Remember that you need to XML-encode or percent-encode (either one, but not both) 
    the default queries since they are in an XML document.
    For example, &amp; becomes &amp;amp; , &lt; becomes &amp;lt; , and &gt; becomes &amp;gt; .
    <br>And please check your work.  It is easy to make a mistake and not get what you want.
    <br>Thanks to Charles Carleton, Kevin O'Brien, Luke Campbell, and others.

  <li>EDDGridFromDap, EDDGridFromErddap, and EDDTableFromEDDGrid have a new system 
    to deal with datasets that change frequently (as often as roughly every 0.5 s). 
    Unlike ERDDAP's regular, proactive system for completely reloading each dataset, 
    this optional additional system is reactive (triggered by a user request)
    and incremental (just updating the information that needs to be updated).
    For example, if a request to an EDDGridFromDap dataset occurs more than
    the specified number of milliseconds since the last update,
    ERDDAP will see if there are any new values for the leftmost (usually "time") dimension
    and, if so, just download those new values before handling the user's request.
    This system is very good at keeping a rapidly changing dataset up-to-date 
    with minimal demands on the data source,
    but at the cost of slightly slowing down the processing of some user requests.
    See 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#updateEveryNMillis"
    >&lt;updateEveryNMillis&gt;</a>
    <br>Thanks to Michael Barry and OOICI.

  <li>EDDGridFromNcFiles, EDDTableFromNcFiles, and EDDTableFromNcCFFiles now support 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#NcML"
    >NcML .ncml</a> 
    source files in place of .nc files.
    Thanks to Jose B Rodriguez Rueda.

  <li>For EDDGridAggregateExistingDimension, ERDDAP supports a new 
    <kbd>serverType="dodsindex"</kbd> option for the <kbd>serverType</kbd> attribute 
    of the <kbd>&lt;sourceUrls&gt;</kbd> tag.
    This works with web pages that have lists of files within <kbd>&lt;pre&gt;&lt;/pre&gt;</kbd>
    and often beneath an OPeNDAP logo. An example is 
    <a href="https://opendap.jpl.nasa.gov/opendap/GeodeticsGravity/tellus/L3/ocean_mass/RL05/netcdf/contents.html"
    >https://opendap.jpl.nasa.gov/opendap/GeodeticsGravity/tellus/L3/ocean_mass/RL05/netcdf/contents.html<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>.

  <li>For EDDTableFromSOS now supports an optional tag
    <br><kbd>&lt;sosServerType&gt;<i>serverType</i>&lt;/sosServerType&gt;</kbd>
    <br>so you can specify the type of SOS server (so ERDDAP doesn't have to figure it out).
    Valid values of <kbd>&lt;<i>serverType</i>&gt;</kbd> are 
    <kbd>IOOS_NDBC, IOOS_NOS, OOSTethys,</kbd> and <kbd>WHOI</kbd> (a newly supported serverType).
    See <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromSOS"
    >EDDTableFromSOS</a>.
    Thanks to Derrick Snowden and Janet Fredericks.

  <li>All EDDGridFrom...Files, EDDTableFrom...Files, EDDGridCopy, and EDDTableCopy 
    now support an optional tag
    <br><kbd>&lt;fileTableInMemory&gt;true&lt;/fileTableInMemory&gt;</kbd>  (The default is <kbd>false</kbd>.)
    <br>which can tell ERDDAP to keep the fileTable (with information about each source data file) 
    in memory instead of just on the disk (the default).
    Keeping the fileTable in memory speeds up requests for data 
    (especially if there are &gt;1000 source data files), but uses more memory.
    If you set this to true for any dataset, keep an eye on the 
    <kbd>Memory: currently using</kbd> line at <i>yourDomain</i>/erddap/status.html 
    to ensure that ERDDAP still has plenty of free memory.
    Thanks to Fredrik Stray.

  <li>EDDTableFromASCIIFiles now supports <kbd>&lt;charset&gt;</kbd>.
    The two most common charsets (case sensitive!) are ISO-8859-1 (the default) and UTF-8.  

  <li>Recommended: in setup.xml, within <kbd>&lt;startHeadHtml&gt;</kbd>, please change 
    <kbd>&lt;html&gt;</kbd> into 
    <br><kbd>&lt;html lang="en-US"&gt;</kbd> 
    (or a different 
    <a href="http://www.w3schools.com/tags/ref_language_codes.asp">language code<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>
    if you have translated messages.xml).

  <li>setup.xml has new optional tags to disable parts of ERDDAP:
    <ul>
    <li><kbd>&lt;convertersActive&gt;false&lt;/convertersActive&gt;   &lt;!-- the default is true --&gt;</kbd>
    <li><kbd>&lt;slideSorterActive&gt;false&lt;/slideSorterActive&gt; &lt;!-- the default is true --&gt;</kbd>
    <li><kbd>&lt;wmsActive&gt;false&lt;/wmsActive&gt;                 &lt;!-- the default is true --&gt;</kbd>
    </ul>
    In general, we recommend against setting any of these to false.

  <li>GenerateDatasetsXml now writes results to 
    <i>bigParentDirectory</i>/logs/generateDatasetsXmlLog.txt,
    not log.txt.
    Thanks to Kristian Sebastian Blalid.

  <li>GenerateDatasetsXml now makes a good suggestion for the <kbd>&lt;reloadEveryNMinutes&gt;</kbd>.
    Thanks to the NOAA UAF project.

  <li>Many small improvements to GenerateDatasetsXml.
    Thanks to the NOAA UAF project.
  </ul>

</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.42" href="#changes1.42" rel="bookmark">Changes</a>
in ERDDAP version 1.42 (released 2012-11-26)</h2>
<ul>
<li><strong>New Features:</strong>
  <ul>
  <li>(No major new features.)
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>If you are upgrading from ERDDAP 1.38 or 1.40, there were no changes that require 
    you to make changes to your configuration files 
    (but you must use the new messages.xml file).
  <li>ERDDAP once again can run with Java 1.6.  (ERDDAP v1.40 required Java 1.7.)
    We still strongly recommend using the latest version of Java 1.7.
  <li>A new dataset type, 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromAwsXmlFiles"
    >EDDTableFromAwsXmlFiles</a>, 
    can read data from a set of
    Automatic Weather Station (AWS) XML data files.
    Thanks to Lynn Dewitt and the Exploratorium.
  </ul>


<li><strong>Small changes/Bug Fixes:</strong>
  <ul>
  <li>Adjusted to changes to the NDBC SOS source data servers.
  <li>Adjusted to changes to the NOS COOPS ASCII services.
  <li>Made several small changes and bug fixes.
  </ul>
</ul>



<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.40" href="#changes1.40" rel="bookmark">Changes</a>
in ERDDAP version 1.40 (released 2012-10-25)</h2>
<ul>
<li><strong>New Features:</strong>
  <ul>
  <li>There is a new output file format for tabledap datasets: .ncCFMA, which saves the
    requested data in a .nc file which conforms to the CF 
    <a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/cf-conventions.html#discrete-sampling-geometries"
    >Discrete Sampling Geometries<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a> 
     Multidimensional Array options,
    and which therefore conforms to the 
    <a href="http://www.nodc.noaa.gov/data/formats/netcdf/">NODC templates<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a> 
    for storing this type of data.
    Thanks to NODC.
  <li>tabledap requests can now include time constraints such as <kbd>&amp;time&gt;now-5days</kbd>.
    See the 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#now"
    >documentation</a>.
    Thanks to James Gosling.
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>If you are upgrading from ERDDAP 1.38, there were no changes that require 
    you to make changes to your configuration files (but you must use the new messages.xml file).
  <li>ERDDAP public releases and internal milestones are available via
    <a href="https://github.com/BobSimons">ERDDAP on GitHub<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>.
    For more information, see the 
    <a href="https://github.com/BobSimons/erddap/wiki">Wiki<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a> 
    for the ERDDAP project as well as the more general
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#programmersGuide"
    >ERDDAP Programmer's Guide</a>.
    (This was announced separately a few weeks after the ERDDAP 1.38 release.)
  <li>GenerateDatasetsXml has been improved.
    <ul>
    <li>The script was revised so it should work correctly on all Linux computers (not just a few).
    <li>It now adds <kbd>creator_name, creator_email,</kbd> and <kbd>creator_url</kbd> 
      whenever possible.
    <li>Many other small improvements.
    </ul>
  <li>Refined how ERDDAP deals with time.  
    <ul>
    <li>Internally, ERDDAP now handles times at millisecond precision (not seconds).
    <li>You can now optionally specify the time precision for a given dataset, see
      <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#time_precision"
      >time_precision</a>.  For example, you might set a dataset to display time values
      with date precision (e.g., 1970-01-01).
    <li>Your current datasets will use the default settings, so they are unaffected
      by these changes and will continue to display time with seconds precision.
    </ul>
    Thanks to Servet Cizmeli and Philip Goldstein.
  <li><a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromNcCFFiles"
  >EDDTableFromNcCFFiles</a>
    is a new dataset <kbd>type</kbd> which you can use in your datasets.xml file.
    It can read data from any of the numerous file formats defined by the     
    <a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/cf-conventions.html#discrete-sampling-geometries">CF Discrete Sampling Geometries<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a> 
    conventions.  Thanks to NODC and
    special thanks to Kyle Wilcox for making sample files for the huge number
    of valid DSG file formats
    and for making them publicly available. 
  </ul>


<li><strong>Small changes/Bug Fixes:</strong>
  <ul>
  <li>Expanded the <a href="#quickRestart">quickRestart</a> system to all relevant 
     EDDGrid and EDDTable subclasses.
  <li>Improved documentation, especially related to how to use 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#fileType">griddap</a> and
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#fileType">tabledap</a> 
    from various client software.
  <li>Changed advanced search to support minTime and/or maxTime expressed as epochSeconds.
    Thanks to Lynn Dewitt.
  <li>Changed .htmlTable output to display urls and email addresses as links.
  <li>Added "rel=" and "rev=" to relevant &lt;a href&gt; tags.
    Thanks to Pat Cappelaere from the OGC REST project.
  <li>Improved protection against unrealistically large data requests,
    notably within tabledap, where it is a harder problem.
  <li>Moved more messages to messages.xml.
  <li>Made speed improvements.
  <li>Fixed EDDGridFromFiles to allow descending sorted axes.
    Thanks to Maricel Etchegaray.
  <li>Removed references to iGoogle since it will be discontinued.
  <li>Made several small changes and bug fixes.
  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.38" href="#changes1.38" rel="bookmark">Changes</a> 
in ERDDAP version 1.38 (released 2012-04-21)</h2>
<ul>
<li><strong>New Features:</strong>
  <ul>
  <li>ISO 19115 and FGDC -- ERDDAP can automatically generate
    ISO 19115 and FGDC XML metadata files for each dataset. 
    Links to the files are visible on every list of datasets
    (e.g., from Full Text Search) and also in Web Accessible Folders (WAF)
    (see the <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/metadata/fgdc/xml/">FGDC WAF</a> and
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/metadata/iso19115/xml/">ISO 19115 WAF</a>).
    Thanks to Ted Habermann, Dave Neufeld, and many others.

  <li>Full Text Searches for Datasets now support <kbd>-<i>excludedWord</i></kbd>
      and <kbd>-"<i>excluded phrase</i>"</kbd> .
      Thanks to Rich Signell.

  <li>Searches for datasets now return results a page at a time. The
    default uses the parameter string: <kbd>page=1&amp;itemsPerPage=1000</kbd>,
    but you can change the values in the URL of your request.
    Thanks to Steve Hankin and the UAF project.

  <li>OpenSearch -- ERDDAP now supports the
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/opensearch1.1/index.html"
    >OpenSearch 1.1</a>
    standard for searching for datasets. Among other things, this allows
    catalog aggregation websites to do distributed searches
    (passing a search request to each catalog that it knows about).

  <li>Comma Separated Value (CSV) Files -- 
    ERDDAP now generates CSV files with just a comma between values
    (which Excel prefers), instead of comma+space.
    Thanks to Jeff deLaBeaujardiere.

  <li>Million Datasets -- Several changes were made to support ERDDAPs having
    a huge number of datasets, perhaps even a million.
    Thanks to Steve Hankin and the UAF project.

  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>

  <li><a class="selfLink" id="quickRestart" href="#quickRestart" rel="bookmark">A</a> 
  quick restart system allows ERDDAP to restart much faster.
    <br><strong>Please add this to your setup.xml file</strong> 
    right after <kbd>&lt;/datasetsRegex&gt;</kbd>:<pre>
      &lt;!-- If true, when you start up ERDDAP, some types of datasets (e.g., 
      EDDGridFromDap) will used cached information (.dds, .das, etc.) to reload
      very quickly, without contacting the remote server.  The dataset's age 
      will be based on when the dataset was reloaded last.  Normally this 
      should be true (the default), but set it to false if you want to bypass 
      the cached information.
      &lt;quickRestart&gt;true&lt;/quickRestart&gt;</pre>

  <li>Full text searches for datasets can now be done with the Lucene search 
    engine (although we recommend the original search engine if you have fewer
    than 10,000 datasets) or the original search system.
    <br><strong>Please add this to your setup.xml file</strong>
    right after <kbd>&lt;/displayDiagnosticInfo&gt;</kbd>:<pre>
      &lt;!-- ERDDAP lets you choose between two search engines for full text searches:
      * original (the default) -- is the best choice if your ERDDAP has fewer 
        than about 10,000 datasets.  It is very robust and trouble free. 
      * lucene -- is the best choice for more than about 10,000 datasets.
        The advantages are that with any number of datasets it works fast 
        and uses very little memory.
        But there are many things that might go wrong with individual 
        queries and with the whole system. 
        And although its behaviour (the datasets it finds and the order that
        it ranks them) is almost identical to the original search engine,
        it has a few quirky, subtle, small differences.
      --&gt;
      &lt;searchEngine&gt;original&lt;/searchEngine&gt;</pre>

  <li>In setup.xml, you can/should now add two new categories to the comma-separated list 
    of <kbd>&lt;categoryAttributes&gt;</kbd>:
    <ul>
    <li><kbd>global:keywords</kbd> (add it right after <kbd>global:institution</kbd>) -- 
      a new special case that parses a 
      comma-separated list of keywords from the global <kbd>keywords</kbd> 
      attribute to make a separate entry for each keyword.
    <li><kbd>variableName</kbd> (add it at the end) -- 
      a new special case that categorizes each of the dataVariable destinationNames.
    </ul>

  <li>In setup.xml, you can (but why?) tell ERDDAP not to offer FGDC and/or ISO 19115 metadata
    for any dataset by including<kbd>
    <br>&lt;fgdcActive&gt;false&lt;/fgdcActive&gt;
    <br>&lt;iso19115Active&gt;false&lt;/iso19115Active&gt;</kbd>
    <br>The default values for these settings is <kbd>true</kbd>.

  <li>In datasets.xml, please consider improving the metadata for your 
    datasets. ERDDAP now automatically generates
    ISO 19115 and FGDC XML metadata files for each dataset based on the
    dataset's metadata. 
    <br>So, <strong>good dataset metadata leads to good ERDDAP-generated 
    ISO 19115 and FGDC metadata.</strong>
    <br><strong>See the new documentation for the many new RECOMMENDED
    <a rel="help" href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#globalAttributes"
    >Global Attributes</a>.</strong>  

  <li>In datasets.xml, if you want to tell ERDDAP to use a pre-made 
    FGDC and/or ISO 19115 file
    that is somewhere on the server's file system
    instead of having ERDDAP generate these files, use:<kbd>
    <br>&lt;fgdcFile&gt;<i>fullFileName</i>&lt;/fgdcFile&gt;
    <br>&lt;iso19115File&gt;<i>fullFileName</i>&lt;/iso19115File&gt;</kbd>
    <br>If <kbd><i>fullFileName</i></kbd>="" or the file isn't found, 
      the dataset will have no FGDC and/or ISO 19115 metadata.
      So this is also useful if you want to suppress the FGDC and/or ISO 19115 metadata
      for a specific dataset.

  <li>In datasets.xml, for all EDDGridSideBySide and EDDGridAggregateExistingDimension
    datasets, make certain that child datasets have different datasetIDs
    than their parent datasets and than the other children.
    (For example, you could follow George Foreman's simple but effective 
    system for naming his children.) 
    If any names in a family are exactly the same, the dataset will fail to load
    (with the error message that the values of the aggregated axis are not in sorted order).

  <li>In datasets.xml, there were some changes to the list of valid ioos_category
    metadata values:
    <ul>
    <li>"pCO2" was changed to "CO2". 
    <li>"Physical Oceanography" was added.
    <li>"Soils" was added.
    </ul>
 
  <li>In datasets.xml, ERDDAP no longer allows '.' in a datasetID.  
    It was allowed but discouraged. (Sorry)

  <li>In datasets.xml, the setup for EDDTableFromThreddsFiles and EDDTableFromHyraxFiles
    has changed slightly because both classes were just rewritten to be more efficient
    (both classes now always make a local copy of all of the remote data files).
    See the documentation for setting up these classes:
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromHyraxFiles"
    >EDDTableFromHyraxFiles</a> and
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromThreddsFiles"
    >EDDTableFromThreddsFiles</a>.
    In particular, see the revised comments about <kbd>&lt;fileDir&gt;</kbd> (now irrelevant)
    and <kbd>&lt;sourceUrl&gt;</kbd> (now essential).
    Also, you should never wrap this class in EDDTableCopy for efficiency.

  <li>In datasets.xml, if you use EDDTableFromDatabase with an Oracle database,
    you should include a connectionProperty such as
    <br><kbd>&lt;connectionProperty name="defaultRowPrefetch"&gt;4096&lt;/connectionProperty&gt;</kbd>
    <br>to specify how many rows of data to fetch at one time 
    because the default is 10, which is horribly inefficient.
    See the <a href="http://docs.oracle.com/cd/B10501_01/java.920/a96654/basic.htm">Oracle
    documentation<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>.
    MySql and PostgreSQL seem to have better defaults for this setting.
    Thanks to Kevin O'Brien.

  <li>If you use EDDTableFromDatabase, see the improved 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromDatabase"
    >"Speed" documentation</a> 
    for additional suggestions to improve performance.
    Thanks to Kevin O'Brien.

  <li>In datasets.xml, for all EDDTable... datasets, in the <kbd>Conventions</kbd> and
    <kbd>Metadata_Conventions</kbd> global attributes, please refer to 
    CF-1.6 (not CF-1.0, 1.1, 1.2, 1.3, 1.4, or 1.5), 
    since CF-1.6 is the first version to include the changes related to the
    Discrete Sampling Geometry.

  <li>Programmers that are compiling the ERDDAP code need to add <kbd>lib/lucene-core.jar</kbd>
    to the list of jar files in their javac and java command line paths.

  <li>ERDDAP has a 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/keywords.html">new service</a>
    to convert a CF Standard Name to/from a GCMD Science Keyword.
    You may find this useful when generating global <kbd>keywords</kbd>
    metadata for the datasets in your ERDDAP.

  <li>Dealing with Bots -- Please read this advice to
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#robots">prevent
    bots from crawling your ERDDAP in a stupid way</a>.

  <li>Translation -- The text on ERDDAP's web pages is now mostly
    in messages.xml and so suitable for translation to different languages
    (e.g., German, French).
    The messages now often use MessageFormat for formatting, also to aid
    in making translations.  If you are interested in doing a translation,
    please email bob dot simons at noaa dot gov .

  <li>Sample datasets.xml -- There were several small but significant errors in the
    sample datasets.xml. If you use those datasets, please get the newer versions
    from the new sample datasets.xml in the new
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/erddapContent.zip"
    >erddapContent.zip</a>.
    Thanks to James Wilkinson.  

  <li>Git -- I will try hard to make ERDDAP a GitHub project ASAP after 
    this release.  
  </ul>


<li><strong>Small changes/Bug Fixes:</strong>
  <ul>
  <li>A new palette, OceanDepth, is useful for depth values (positive is down),
    e.g., 0 (shallow) to 8000 (deep).

  <li>The .kml output from tabledap uses a better marker icon (it isn't fuzzy).
    And hovering over a marker now makes it bigger.
  
  <li>EDDTableFromFiles -- 
    In the last upgrade, the new netcdf-java library had tighter restrictions 
    for variable names in .nc files. That caused problems for EDDTableFromFiles
    if a variable's sourceName had certain punctuation characters.
    EDDTableFromFiles is now modified to avoid that problem.
    Thanks to Thomas Holcomb.

  <li>The .subset page now supports 0/10/100/1000/10000/100000 instead of a check box
    for <kbd>Related Data</kbd>.  The tooltip warns that 100000 may cause your
    browser to crash.
    Thanks to Annette DesRochers, Richard (Abe) Coughlin, and the IOOS Biological Project.

  <li>.../erddap/info/<i>datasetID</i>/index.html web pages now show urls and email 
    addresses as clickable links.
    Thanks to Richard (Abe) Coughlin and the IOOS Biological Project.

  <li>Bug fix: In tabledap, for datasets with altitudeMetersPerSourceUnit &lt; 0,
    queries with altitude constraints were handled incorrectly.
    Thanks to Kyle Wilcox.

  <li>Bug fix: EDDGridAggregateFromExistingDimension now supports more diverse TDS URLs.
    Thanks to ?

  </ul>
</ul>

<!-- 1.36 is super wide, so not in the table -->

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.36" href="#changes1.36" rel="bookmark">Changes</a> 
in ERDDAP version 1.36 (released 2011-08-01)</h2>
<ul>
<li><strong>New Features:</strong>
  <ul>
  <li>No significant changes from a user's standpoint.
  </ul>
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>The pmelTao dataset that was often used as the sample dataset for the tabledap 
    <br>documentation is no longer available. ERDDAP administrators MUST make these changes: 
     <ul>
     <li>In your datasets.xml, if you have a <kbd>datasetID="pmelTao"</kbd> dataset, add
        <br><kbd>active="false"</kbd> right before the "&gt;" at the end of that line.
     
     <li>In your setup.xml, if your <kbd>&lt;EDDTableIdExample&gt;</kbd> is pmelTao, then:
       <ul>
       <li>If your datasets.xml doesn't have a dataset with 
           <kbd>datasetID="erdGlobecBottle"</kbd>, add<kbd>
         <br>&lt;dataset type="EDDTableFromErddap" datasetID="erdGlobecBottle" active="true"&gt;
         <br>&nbsp;&nbsp;&lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/tabledap/erdGlobecBottle&lt;/sourceUrl&gt;
         <br>&lt;/dataset&gt;</kbd>
       <li>In your setup.xml, replace all of the tags from 
         <kbd>&lt;EDDTableIdExample&gt;</kbd> through
         <br><kbd>&lt;EDDTableMatlabPlotExample&gt;</kbd> with <pre>
&lt;!-- Tabledap Examples
This group of settings is used to make examples for the tabledap documentation 
that appears at [baseUrl]/erddap/tabledap/documentation.html and elsewhere.
If you include the erdGlobecBottle dataset in your datasets.xml (recommended), 
you don't need to change these.
If you don't, you MUST change these before you make your ERDDAP public; 
otherwise, none of the examples will work!
The new settings should be very similar to the defaults.
If your ERDDAP won't serve any tabular datasets, use "NOT_APPLICABLE" for all of the entities.
In .xml files like this, ampersand, lessThan, and greaterThan have to be 
HTML encoded as "&amp;amp;", "&amp;lt;", "&amp;gt;".
--&gt;
&lt;!-- This is the datasetID for an EDDTable dataset that is served by your ERDDAP.
     This dataset is used as the basis for all of the EDDGrid examples below. 
     Ideally, it is a dataset that has longitude, latitude, and time variables (among others). 
     ('time' allows for making a time series graph. 'latitude' and 'longitude' allow for making a map.)
     The dataset can have longitude values -180 to 180, or 0 to 360. --&gt;
&lt;EDDTableIdExample&gt;erdGlobecBottle&lt;/EDDTableIdExample&gt;
&lt;!-- This is a comma-separated list of variables from the dataset.
     It is useful if it is "longitude,latitude,time," plus a data variable name. --&gt;
&lt;EDDTableVariablesExample&gt;longitude,latitude,time,bottle_posn,temperature1&lt;/EDDTableVariablesExample&gt;
&lt;!-- This is the constraints example which is appended to EDDTableVariablesExample. --&gt;
&lt;EDDTableConstraintsExample&gt;&amp;amp;time&amp;gt;=2002-08-17T00:00:00Z&amp;amp;time&amp;lt;=2002-08-19T20:18:00Z&lt;/EDDTableConstraintsExample&gt;
&lt;!-- This is an example data query using an ISO-formatted time. 
     You could generate your example via your dataset's Data Access Form in ERDDAP.  --&gt;
&lt;EDDTableDataTimeExample&gt;longitude,latitude,time,bottle_posn,temperature1&amp;amp;time&amp;gt;=2002-08-17T00:00:00Z&amp;amp;time&amp;lt;=2002-08-19T20:18:00Z&lt;/EDDTableDataTimeExample&gt;
&lt;!-- This is an equivalent example data query, but which specifies time as seconds-since-1970-01-01. 
     If you need to convert a date/time to "seconds since 1970-01-01", use
     https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html --&gt;
&lt;EDDTableDataValueExample&gt;longitude,latitude,time,bottle_posn,temperature1&amp;amp;time&amp;gt;=1029542400&amp;amp;time&amp;lt;=1029788280&lt;/EDDTableDataValueExample&gt;
&lt;!-- This is an example query which generates a graph. 
     You could generate your example via your dataset's Make A Graph form in ERDDAP.  --&gt;
&lt;EDDTableGraphExample&gt;bottle_posn,temperature1&amp;amp;time=2002-08-19T10:06:00Z&amp;amp;.draw=lines&lt;/EDDTableGraphExample&gt;
&lt;!-- This is an example query which generates a map. 
     In the default mapExample, temperature1, time, bottle_posn are useful 
     because they appear in GoogleEarth with the .kml example 
     and are ignored by the other image file types. --&gt;
&lt;EDDTableMapExample&gt;longitude,latitude,temperature1,time,bottle_posn&amp;amp;time&amp;gt;=2002-08-13T00:00:00Z&amp;amp;time&amp;lt;=2002-08-20T00:00:00Z&amp;amp;bottle_posn=1&amp;amp;.draw=markers&amp;amp;.marker=5|5&lt;/EDDTableMapExample&gt;
&lt;!-- This is a Matlab example which uses data from the EDDTableGraphExample.
     Note the Matlab notation datasetName.variableName.  --&gt;
&lt;EDDTableMatlabPlotExample&gt;plot(erdGlobecBottle.bottle_posn, erdGlobecBottle.temperature1)&lt;/EDDTableMatlabPlotExample&gt;
         </pre>
       </ul>
     </ul>
  <li>For datasets where the type is a subclass of EDDTableFromFiles,
    you can now make data from metadata.
    <br>Specifically, you can now make a variable from the values of an attribute 
    of one of the original variables.
    <br>For example, in datasets.xml, within a <kbd>&lt;dataVariable&gt;</kbd> tag, if you use 
    <br><kbd>&lt;sourceName&gt;variable:cruise:PI&lt;/sourceName&gt;</kbd>
    <br>ERDDAP will make a variable with the values of the PI attribute of the cruise variable.
    <br>Thanks to WOD.
  </ul>
<li><strong>Changes:</strong>
  <ul>
  <li>Small changes
  </ul>
</ul>

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.34" href="#changes1.34" rel="bookmark">Changes</a> 
in ERDDAP version 1.34 (released 2011-06-15)</h2>
<ul>
<li><strong>Changes:</strong>
  <ul>
  <li>Bug fix: Fixed a memory leak that occurred on some 64-bit Java installations. 
  <li>Bug fix: ERDDAP now correctly sets these global attributes when
     the latitude dimension's values ranged from high to low:
     <kbd>geospatial_lat_min, geospatial_lat_max, Southernmost_Northing, Northernmost_Northing</kbd>.
     <p>Note that <kbd>actual_range</kbd> is unchanged: it may have low,high values or high,low values,
     since it is intended to indicate the range and the order of storage.    
  <li>Small changes.
  <li>ERDDAP administrators don't need to make any changes to their setup.xml or datasets.xml.
  </ul>
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.32" href="#changes1.32" rel="bookmark">Changes</a> 
in ERDDAP version 1.32 (released 2011-05-20)</h2>
<ul>
<li><strong>Changes:</strong>
  <ul>
  <li>Support for the newly ratified, CF Discrete Sampling Geometries 
    (which unfortunately is not yet available online),
    which replaces the proposed CF Point Observation Conventions.
    <br>ERDDAP users will see that cdm_feature_type=Station is replaced by TimeSeries
      and there are small changes to the files created for the .ncCF file type
      (flat_dimension is now called sample_dimension).
    <br>ERDDAP administrators will need to make these changes in datasets.xml:
      <ul>
      <li>cdm_data_type=Station should be changed to cdm_data_type=TimeSeries.
      <li>cdm_data_type=StationProfile should be changed to cdm_data_type=TimeSeriesProfile.
      <li>cdm_station_variables should be changed to cdm_timeseries_variables.
      <li>cf_role=station_id should be changed to cf_role=timeseries_id.
    </ul>
  <li>New ioos_category options: "Colored Dissolved Organic Matter", "pCO2", "Stream Flow", 
    "Total Suspended Matter".
  <li>Possible solution to a possible memory leak on 64-bit Java. [It didn't work.]
  <li>Small changes.
  </ul>
</ul>

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.30" href="#changes1.30" rel="bookmark">Changes</a> 
in ERDDAP version 1.30 (released 2011-04-29)</h2>
<ul>
<li><strong>New Features:</strong>
  <ul>
  <li>Support for 64-bit Java.  When used with a 64-bit Java, ERDDAP can now use
    much more heap memory and handle many more simultaneous requests.
  <li>Support for .nc file requests up to 2GB (even without 64-bit Java) via better use of
    ERDDAP's handling of data in chunks.
  <li>Many 2X speed improvements in the code and 2X speed ups from Java 1.6 make ERDDAP 2X to 4X
    faster than before.
  <li>Memory saving improvements significantly lower ERDDAP's base memory usage.
  <li>For tabular datasets, ERDDAP is now fully aware of a dataset's cdm_data_type, and
    how the data maps to the CDM type. See the 
      <a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/cf-conventions.html#discrete-sampling-geometries"
      >CF Discrete Sampling Geometries specification<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>.
      Perhaps someday soon, that Word file will be converted to .html and replace 
      the current "OBSOLETE" information on that web page. Thanks to the NOAA UAF project.
  <li>For most EDDTable datasets, a new output file type option, .ncCF, creates 
    Contiguous Ragged Array .nc files which conform to the latest version of the 
      <a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/cf-conventions.html#discrete-sampling-geometries"
      >CF Discrete Sampling Geometries conventions<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>.
    These files are structured to reflect the CDM data type of the dataset.
    Since the proposed conventions just changed, as of this writing, the netcdf-java 
    library does not yet support reading the file formats created by ERDDAP
    and interpreting them as CDM data files. It probably will soon.
    Thanks to the NOAA UAF project.
  <li>The <kbd>View : Distinct Data</kbd> option on the .subset web page is now a drop-down list 
    that lets users specify the maximum number of rows of distinct data to be viewed
    (default = 1000). This change, and others, allow ERDDAP to work with datasets that have 
    very large numbers
    of rows of distinct data.  (The number of unique values for any single variable is 
    still an issue, but it can be pretty high (20,000?) before the .subset and other web pages
    load really slowly.) 
    Thanks to the NOAA UAF project.
  <li>.subset web pages have a new option: <kbd>View Distinct Data Counts</kbd>.  
    Thanks to the GTOPP project.
  <li>To aid users, the distinct values (e.g., station names) are now shown on the Make-A-Graph 
    and Data Access Forms.
    Thanks to the NOAA UAF project.
  <li>.transparentPng requests now support all types of graphs and data representations. 
    It draws just the data -- no axes, legends, landmask, or anything else.
    This makes it possible to make images as layers of transparentPngs.
    If <kbd>&amp;.size=<i>width</i>|<i>height</i></kbd> 
    is specified in the query (recommended), it is honored.
    The default is 360x360 pixels. The only exception is EDDGrid <kbd>&amp;.draw=surface</kbd>, 
      where the 
    default (as before) is an image with ~1/pixel per data point (up to 3000 x and y pixels).
    Thanks to Fred Hochstaedter.
  <li>The WMS web pages now show the color bar for the dataset's variable(s).
    Thanks to Emilio Mayorga and others.
  </ul>
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> 
  <ul>
  <li>This release involves a lot of changes. They are all important. Please be patient
    and work through all of the changes listed below.
  <li>This version is being pushed out earlier than intended to deal with some Java security bugs.
    Unfortunately, several features/fixes intended for this ERDDAP version are not in this version.
    Sorry. Hopefully, the next version will be relatively soon (and much easier to upgrade to).

  <li>To avoid several security bugs in Java 6 update 23 and below, 
      <a href="http://www.java.com/en/download/manual.jsp">download<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>
      and install the latest version 
    of Java (Java 6 update 24 or higher). 
    If you have a 64-bit operating system, please get a 64-bit version of Java.

  <li>If you are using Tomcat 5, you MUST upgrade to Tomcat 6 or 7 (preferred).
    If you are using Tomcat 6, consider upgrading to Tomcat version 7.

  <li>Please follow all of the instructions for
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#initialSetup"
    >setting up a new ERDDAP</a>, but where relevant,
    you will be copying files from your old installation to the new installation,
    notably the [tomcat]/content/erddap directory and files. 
    As part of that, note the 
      <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#tomcat"
      >new Tomcat setup recommendations</a>.

  <li>The default erddap.css is now included in the erddap.war file.
    <ul>
    <li>To use the default erddap.css, <strong>delete</strong> your old
      [tomcat]/content/erddap/images/erddap.css .
    <li>If you modified [tomcat]/content/erddap/images/erddap.css, and want to keep using it: 
      just leave it in place and replace the &lt;input&gt; section with:<kbd>
      <br>/* Small input items let more be shown on one screen 
      <br>(esp. Chrome and Safari). Google Chrome and Safari have
      <br>default margin 2px, while others are 0.  This sets all to 0.
      <br>.skinny is used e.g., for the buttons above the image on
      <br>a Make A Graph page. */
      <br>input[type=button], input[type=submit], button {
      <br>&nbsp;&nbsp;margin:0px; padding:0px 3px; }
      <br>input[type=checkbox], input[type=password],
      <br>&nbsp;&nbsp;input[type=text], select, textarea {
      <br>&nbsp;&nbsp;margin:0px; padding:0px; }
      <br>input[type=radio] {margin:0px 2px; padding:0px; } 
      <br>input.skinny {padding:0px 1px; } </kbd>
    </ul>

  <li>In your [tomcat]/content/erddap/setup.xml:
    <ul>
    <li>Replace the comments and tags related to <kbd>&lt;partialRequestMaxBytes&gt;</kbd> and
        <kbd>&lt;partialRequestMaxCells&gt;</kbd> with <kbd>
      <br>&lt;!-- When possible (and it isn't always possible), 
      <br>ERDDAP breaks source data requests into chunks to 
      <br>conserve memory. See the description of these tags in 
      <br>messages.xml. You can override the default chunk sizes 
      <br>here with 
      <br>For grids: 
      <br>&nbsp;&lt;partialRequestMaxBytes&gt;100000000&lt;/partialRequestMaxBytes&gt;
      <br>For tables: 
      <br>&nbsp;&lt;partialRequestMaxCells&gt;100000&lt;/partialRequestMaxCells&gt;
      <br>--&gt;</kbd>
    <li>Replace the comments related to <kbd>&lt;categoryAttributes&gt;</kbd> and consider 
      modifying the tag's value:<kbd>       
      <br>&lt;!-- This is the comma-separated list (recommended:
      <br>in alphabetical order) of the global attribute and
      <br>variable attribute names which will be used to 
      <br>categorize the datasets and shown to clients at urls
      <br>like .../erddap/categorize/ioos_category/index.html 
      <br>(ioos_category is unusual, but is used at ERD).
      <br>If an attribute is a global attribute, identify it by
      <br>prefixing it with "global:".
      <br>--&gt;
      <br>&lt;categoryAttributes&gt;global:institution, ioos_category,
      <br>long_name, standard_name&lt;/categoryAttributes&gt;</kbd>
      <br>&nbsp;
      <br>Individual <kbd>&lt;categoryAttributes&gt;</kbd> that are global attributes now MUST be 
      identified via the prefix <kbd>global:</kbd> (e.g., <kbd>global:institution</kbd>). 
      Others attributes 
      are assumed to be variable attributes (e.g., <kbd>standard_name</kbd>). 
      Also, institution values (the only ones) were left in original case. 
      Now all category values are converted to lowercase.
    </ul>

  <li>In your [tomcat]/content/erddap/datasets.xml:
    <ul>
    <li>Big change: ERDDAP has new requirements related to a tabular dataset's cdm_data_type.
      Notably, each dataset MUST have the correct metadata and variables related to the
      cdm_data_type. If not, the dataset won't load and will throw an error.
      See the documentation for 
        <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#cdm_data_type"
        >cdm_data_type</a>.
    <li>FYI: There is a new dataset type: EDDTableFromAsciiServiceNOS.
    <li>FYI: There are three newly allowed ioos_category options: Hydrology, Quality (e.g., for 
      quality flags), and Statistics (e.g., mean).
    <li>For EDDTableFrom...Files datasets, remove any <kbd>&lt;nDimensions&gt;</kbd> tags.
      They are no longer needed or used.
    <li>For variables with destinationName=altitude, ERDDAP no longer forces the long_name to be
      Altitude. Please go through your datasets.xml and repeatedly 
      search for <kbd>&lt;destinationName&gt;altitude</kbd>
      and add to that variable's <kbd>&lt;addAttributes&gt;</kbd>:
      <br>&nbsp;&nbsp;<kbd>&lt;att name="long_name"&gt;Altitude&lt;/att&gt;</kbd>
      <br>(or a slightly different long_name in special cases).
    <li>Optional: All EDDTableFromFiles subclasses support variable 
      <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#globalSourceNames"
      >sourceName=global:...</a> 
      to convert global metadata from each file into a data variable. Thanks to Lynn DeWitt.
    </ul>

  <li>EDDTableFromDatabase users -- ERDDAP comes with a new JDBC 4 driver for Postgres.
    For other databases, check the web for the latest JDBC .jar file for your database.
    Since ERDDAP now uses Java 1.6+, JDBC 4 (not 3) is probably recommended.    

  <li>FYI
    <ul>
    <li>EDDGridFrom...Files and EDDTableFrom...Files datasets now store the 
      fileTable information in 
      <br>[bigParentDirectory]/datasetInfo/[datasetID]/*.nc files.
      <br>Also, EDDTable datasets now store the subset information in 
      <br>[bigParentDirectory]/datasetInfo/[datasetID]/*.nc files.
      These files used to be 
      <br>[bigParentDirectory]/datasetInfo/[datasetID].*.json files.
      <br>The old files will be deleted automatically when ERDDAP starts up.
      Or, you can delete all files (but leave the empty subdirectories) in
      [bigParentDirectory]/datasetInfo/.
    <li>I worked on a new EDDTableFromNcCFFiles which would read data from local and remote
      files using the proposed, new CF Point Observation Conventions. But it isn't in this release.
      There are problems in the netcdf-java libraries related to some methods for reading these
      files. And there were some very recent changes to the proposed CF Point Observation 
      Conventions. When the netcdf-java library is fixed and updated to the latest proposal, 
      I will resume work on this.
    <li>Running ERDDAP on Windows may have problems: notably, you may see in the 
      [bigParentDirectory/logs/log.txt file that ERDDAP is sometimes unable to delete 
      and/or rename files quickly. This is due to antivirus software (e.g., from McAfee
      and Norton) which is checking the files for viruses. 
      If you run into this problem (which
      can be seen by error messages in the log.txt file like "Unable to delete ..."),
      changing the
      antivirus software's settings may partially alleviate the problem.
      <br>If the ERDDAP in Windows is just a test running on your desktop, 
      this is just an annoyance.
      <br>If the ERDDAP in Windows is your public ERDDAP, consider switching
      to a Linux server.
    </ul>

  <li>Slow First Startup -- The first time you run ERDDAP after upgrading,
    ERDDAP may be slow to load the datasets. The way ERDDAP stores information about
    aggregated files has changed, so ERDDAP will need to re-read some info from
    all of those files. That will take time.

  <li>Errors on Startup -- Given the changes related to cdm_data_type, it is likely that some
    of your datasets won't load and will throw errors.  Carefully read the Daily Report 
    email that ERDDAP sends you when ERDDAP is finished starting up.
    It will have a list of datasets that didn't load (at the top) and the reason they didn't
    load (near the bottom).  

  <li>If you get stuck or have other questions, email the details to me: bob.simons at noaa.gov.

  <li>Programmers -- If you write Java programs that run ERDDAP code, you need to
    change some of the command line parameter references:
    <ul>
    <li>Change joda-time-1.6.2.jar to joda-time.jar
    <li>Change the Postgres JDBC .jar reference to postgresql.jdbc.jar
    </ul>
  </ul>

<li><strong>Small Changes and Bug Fixes:</strong>
  <ul>
  <li>Improved connection handling to avoid hung threads.
  <li>Improved concurrency practices to handle nearly simultaneous identical
    requests more efficiently.
  <li>ERDDAP now uses netcdfAll-4.2.jar (renamed to netcdfAll-latest.jar).
    This switch necessitated several internal changes and causes a few small
    external changes,
    e.g., changes to how grib files are read and tiny changes to the .ncHeader output.
  <li>New feature: [erddap]/convert/fipscounty.html converts FIPS county codes 
    to/from county names.
  <li>On maps, state boundaries are now dark violet, so they stand out better
    on all background colors.
  <li>Tabular .kml output again uses a circular icon to mark points
    (not the airplane icon Google recently switched to).
  <li>The erdCalcofi datasets were rearranged and are now served from local files (faster).
  <li>GenerateDatasetsXml fromThreddsCatalog now creates a results file:
    <br>[tomcat]/webapps/erddap/WEB-INF/temp/EDDGridFromThreddsCatalog.xml .
    Thanks to Kevin O'Brien.
  <li>GenerateDatasetsXml fromThreddsCatalog now tries to remove unnecessary port numbers 
    from the source URLs (e.g., :8080 and :8081 can sometimes be removed).
    Thanks to NOAA central's security team.
  <li>For .subset web pages, the Map of Distinct Data now has a variable lat lon range.
  <li>Several lists in ERDDAP (e.g., the table which shows all of the datasets) were sorted
    so that A..Z sorted before a..z.  Now they sort in a case-insensitive way.
  <li>Small changes to the .subset web pages, including: units are now indicated.
  <li>GenerateDatasetsXml and DasDds no longer throw an exception if unable to put the results
    on the system clipboard or displayInBrowser.  Thanks to Eric Bridger and Greg Williams.
  <li>Bug fix: When datasets are loaded, ERDDAP now removes or adjusts the geospatial 
    global attributes. Thanks to Charles Carleton.
  <li>Bug fix: String2.getClassPath() now properly percent-decodes the classPath
    (notably, on Windows, spaces in the filename appeared as %20).
    This affected ERDDAP EDStatic calling SSR.getContextDirectory() and finding content/erddap.
    Thanks to Abe Coughlin.
  <li>Bug fix: in EDDTableFromFiles related to getDataForDapQuery handling of distinct() requests.
    Thanks to Eric Bridger.
  <li>Bug fix: tabledap requests didn't properly handle altitude constraints when the dataset's
    altitudeMetersPerSourceUnit was -1.  Thanks to Eric Bridger.
  <li>Bug fix: EDDTableFrom...Files datasets now correctly handle requests which include
    =NaN and !=NaN.

  </ul>
<br>&nbsp;
</ul>



<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.28" href="#changes1.28" rel="bookmark">Changes</a> 
in ERDDAP version 1.28 (released 2010-08-27)</h2>
<ul>
<li><strong>New Features:</strong>  none.
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong> none.
<li><strong>Bug Fix:</strong> Fix a programming mistake (only in ver 1.26) 
  that made ERDDAP very slow.
<br>&nbsp;
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.26" href="#changes1.26" rel="bookmark">Changes</a> 
in ERDDAP version 1.26 (released 2010-08-25)</h2>
<ul>
<li><strong>New Features:</strong>  none.
<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong>
  <ul>
  <li>From your [tomcat]/content/erddap/setup.xml, 
    <ul>
    <li>In <kbd>&lt;legal&gt;</kbd>, on a new line below <kbd>[standardDataLicenses]</kbd>, 
      insert <kbd>[standardContact]</kbd>.
      <kbd>[standardContact]</kbd> refers to the <kbd>&lt;adminEmail&gt;</kbd> 
      specified higher up in setup.xml.
    <li>Remove <kbd>&lt;tableCommonBGColor&gt;</kbd> and <kbd>&lt;tableHighlightBGColor&gt;</kbd>.
    <li>Recommended: Change <kbd>&lt;endBodyHtml&gt;</kbd> to 
      <kbd>
<br>&lt;endBodyHtml&gt;&lt;![CDATA[ 
<br>&lt;br&gt;&amp;nbsp;
<br>&lt;hr&gt;
<br>ERDDAP, Version &amp;erddapVersion;
<br>&lt;br&gt;&lt;a href="&amp;erddapUrl;/legal.html"&gt;Disclaimers&lt;/a&gt; | 
<br>    &lt;a href="&amp;erddapUrl;/legal.html#privacyPolicy"&gt;Privacy Policy&lt;/a&gt; |
<br>    &lt;a href="&amp;erddapUrl;/legal.html#contact"&gt;Contact&lt;/a&gt;
<br>&lt;/body&gt;
<br>]]&gt;&lt;/endBodyHtml&gt;
      </kbd>      
    </ul>
  <li>Required: To your [tomcat]/content/erddap/images/erddap.css and erddapAlt.css, add at the bottom:
  <kbd>
  <br>/* This is used on the /info/[datasetID]/index.html pages to highlight a row or cell. */
  <br>tr.highlightBGColor {background-color:#cceecc; }
  <br>td.highlightBGColor {background-color:#cceecc; }
  </kbd>
  </ul>
<li><strong>Bug Fixes and Small Changes:</strong>
  <ul>
  <li>Bug fix: in some situations, forms didn't work in some versions of Internet Explorer. 
    Thanks very much to Greg Williams.
  <li>Bug fix: The Make A Graph buttons didn't work if the dataset was from a remote ERDDAP.
  <li>Bug fix: WMS sometimes didn't work if the dataset was from a remote ERDDAP.
  <li>Many small changes and bug fixes.
  </ul>
<br>&nbsp;
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.24" href="#changes1.24" rel="bookmark">Changes</a> 
in ERDDAP version 1.24 (released 2010-08-06)</h2>
<ul>
<li><strong>New Features:</strong>
  <ul>
  <li>New <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/index.html">Subset web pages</a> 
    use faceted search to select subsets of tabular datasets. Thanks to POST.
  <li>New <a href="https://coastwatch.pfeg.noaa.gov/erddap/search/advanced.html">Advanced Search</a>
    combines all of the other search options and adds longitude, latitude, 
    and time bounding boxes. Thanks to Ellyn Montgomery. (Sorry for the delay.)
  <li>New <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/time.html">Convert Time</a> 
    web page and service let you convert numeric times to/from ISO string times.
  <li>New <a href="https://coastwatch.pfeg.noaa.gov/erddap/convert/units.html">Convert Units</a>
    web page and service let you convert UDUNITS to/from UCUM units.
    Thanks to NOAA IOOS SOS.
  <li>If a tabledap request includes <kbd>&amp;units("UCUM")</kbd>, the units names will be converted
    from original names (usually UDUNITS) to 
      <a href="http://aurora.regenstrief.org/~ucum/ucum.html">UCUM<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a> 
    units names.
    This only affects units *names*, not data values. Thanks to NOAA IOOS SOS.
  <li>Improvements to Make A Graph web pages and graphs and maps:
    <ul>
    <li>If the graph is a map, there are new Make A Graph buttons to zoom in/out and a new option 
      to click to change the map's center point. Thanks to POST.
    <li>Filter settings added near the bottom.  Thanks to Greg Williams.
    <li>The built in coastline data files were updated to GSHHS v2.0. Thanks to POST.
    <li>Maps now include lakes and rivers. Thanks to POST.
      (Sorry, the Sacramento River Delta is missing because neither the coastline data nor the lake/river 
      dataset deals with it.)
    <li>The built in pscoast-derived nation/state files were updated. Thanks to POST.
    <li>Topography.cpt was modified slightly. (Sorry if this adversely affects you.) Thanks to POST.
    <li>In griddap's Make A Graph, if a user changes a variable, the form is automatically resubmitted so that
       the axisVariables' showStartAndStop always reflects the graph variables. Thanks to Joaquin Trinanes.
    <li>For png and pdf image URLs: 
      <ul>
      <li>New <kbd>&amp;.land=<i>value</i></kbd>, where <i>value</i> can be "under" (show topography) or
        "over" (just show bathymetry).
        If not specified, the default is set by 
          <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#drawLandMask"
          >drawLandMask</a> in datasets.xml or setup.xml. 
        Thanks to POST.
      <li>New: lines in the legend that are too long are automatically broken into multiple lines. 
        Thanks to POST.
      </ul>
    <li>For png image URLs: 
      <ul>
      <li>New <kbd>&amp;.legend=<i>value</i></kbd>, where <i>value</i> can be "Bottom" (default), 
        "Off" or "Only".
        This lets you include the legend, exclude the legend, or get only the legend. 
        Thanks to Cara Wilson.
      <li>New <kbd>&amp;.trim=<i>nPixels</i></kbd> leaves a border of nPixels
      (e.g., 10) at the bottom of the image.
        It is applied after .legend=Off.   Thanks to Cara Wilson.
      <li>New <kbd>&amp;.size=<i>width</i>|<i>height</i></kbd> lets you specify
      the width and height for the 
        image, in pixels. 
       </ul>
     </ul>
  <li>New output file formats: 
    <ul>
    <li>.csvp and .tsvp -- like .csv and .tsv, but with "(<i>units</i>)" appended to
    column names on first line.
    <li>.odvTxt -- makes a .txt file that simplifies getting data into 
      <a href="http://odv.awi.de/">Ocean Data View (ODV)<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>.
    <li>.esriCsv -- makes a .csv file suitable for import in ESRI's ArcGIS. (tabular datasets only)
    </ul>
    Thanks to Jan Mason, Jeff de La Beaujardiere, and NOAA IOOS SOS project.
  <li>GUI improvements to the 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/categorize/index.html">Categorize</a>
    web pages. 
    Also, the categorize values (other than institution) are now all lowercase.  
    Non-lowercase requests are accepted (redirected) for backwards compatibility.
    Thanks to Roy Mendelssohn.
  <li>Error messages are now even shorter and more oriented to users. Thanks to Greg Williams.
  <li>An internal change which greatly reduces ERDDAP's base memory usage.     
  <li>Many new features which are only relevant to the POST project.
  </ul>

<li><strong>Things ERDDAP Administrators Need to Know and Do:</strong>
  There are lots of changes. Sorry. But each one brings some nice benefit.
  <ul>
  <li>Big changes to GenerateDatasetXml -- it now often asks more questions (see the relevant
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#datasetTypes"
    >datasetTypes</a> information) and now always generates essentially
    ready-to-use content for datasets.xml.
    You are still responsible for the setup, so you should still review the
    datasets.xml content before using it.
    A human putting effort into the project will always do better than a computer program.
    Thanks to the UAF project.
  <li>REQUIRED: In setup.xml, you must revise the WMS section. It should now include these tags
    (but feel free to change the values):
<pre>
&lt;!-- These default accessConstraints, fees, and keywords are used 
by the SOS, WCS, and WMS services.
They can be overridden by "accessConstraints", "fees", "keywords" 
attributes in a dataset's global metadata.
If a dataset that has an "accessibleTo" tag doesn't override 
"accessConstraints", then the default for "accessConstraints" is the
"accessRequiresAuthorization" value.  
--&gt;
&lt;accessConstraints&gt;NONE&lt;/accessConstraints&gt;
&lt;accessRequiresAuthorization&gt;only accessible to authorized
users&lt;/accessRequiresAuthorization&gt;
&lt;fees&gt;NONE&lt;/fees&gt;
&lt;keywords&gt;Earth science, oceans&lt;/keywords&gt; 

&lt;!-- This appears on the erddap/legal.html web page after the 
General Disclaimer. 
You can replace any of the [standardParts] with your own HTML. --&gt;
&lt;legal&gt;&lt;![CDATA[
[standardDisclaimerOfEndorsement]
[standardDisclaimerOfExternalLinks]
[standardPrivacyPolicy]
[standardDataLicenses]
]]>&lt;/legal&gt;

&lt;!-- Specify the default units standard (e.g., "UDUNITS" 
(the default) or "UCUM") that you (the ERDDAP admin) are using to 
specify units.  The value is case-sensitive.
This is used by ERDDAP's SOS server to determine if the units need to
be converted to UCUM units for WMS and SOS GetCapabilities responses. 
--&gt;
&lt;units_standard&gt;UDUNITS&lt;/units_standard&gt;

&lt;!-- For the wms examples, pick one of your grid datasets that has
longitude and latitude axes.
The sample variable must be a variable in the sample grid dataset.
The bounding box values are minx,miny,maxx,maxy.
--&gt;
&lt;wmsSampleDatasetID&gt;erdBAssta5day&lt;/wmsSampleDatasetID&gt;
&lt;wmsSampleVariable&gt;sst&lt;/wmsSampleVariable&gt;
&lt;!-- The bounding box values are 
   minLongitude,minLatitude,maxLongitude,maxLatitude.
   Longitude values within -180 to 180, or 0 to 360, are now okay. --&gt;
&lt;wmsSampleBBox&gt;0,-75,360,75&lt;/wmsSampleBBox&gt;
</pre>

  <li>REQUIRED: In setup.xml, copy and paste this new suggested 
  <kbd>&lt;startHeadHtml&gt;</kbd> 
  to replace your old version.
    But feel free to make changes for your preferences.
<pre>
&lt;!-- startHeadHtml has the start of the HTML document and the 
'head' tags (starting at "&lt;!DOCTYPE&gt;", but not including 
"&lt;/head&gt;") for all HTML web pages. 
This may include &amp;erddapUrl;, which is expanded to be 
  [baseUrl]/erddap (or [baseUttpsUrl]/erddap if the user is logged in).
If your ERDDAP allows users to log in, all referenced image files, 
  css files, etc. must be in [tomcat]/content/erddap/images or a 
  subdirectory and must be referenced here with 
  &amp;erddapUrl;/images/[fileName].

favicon.ico is the image that browsers associate with your website.
For more information, see https://en.wikipedia.org/wiki/Favicon .
You can use your own favicon.ico file by putting it in 
  [tomcat]/content/erddap/images. 

*** Optional: you can change the appearance of all of your 
ERDDAP's HTML pages by changing the CSS &lt;style&gt; settings below.

For an example of a very different style, change the import reference
to &lt;tomcat&gt;/content/erddap/images/erddapAlt.css

*** If your CSS style includes links to files (e.g., images), that 
style information must be inline in the style tag below, after the
'import' line, not in the .css file.  
Put all of the (e.g., image) files in the 
[tomcat]/content/erddap/images directory (or a subdirectory) and 
reference them below starting with &amp;erddapUrl;.
Why? On ERDDAP https: web pages, *all* links should use "https:" 
(not "http:"); otherwise, most browsers consider the web page not 
fully secure.  Because ERDDAP would use the same .css file for 
http: and https: web pages, the links within the .css file wouldn't 
switch between http: and https:.  There doesn't seem to be a way 
around this other than using inline style information.
--&gt;
&lt;startHeadHtml&gt;&lt;![CDATA[ 
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;ERDDAP&lt;/title&gt;
&lt;link rel="shortcut icon" href="&amp;erddapUrl;/images/favicon.ico"&gt;
&lt;style type="text/css"&gt;
&lt;!--
  @import "&amp;erddapUrl;/images/erddap.css";
--&gt;
&lt;/style&gt;
]]&gt;&lt;/startHeadHtml&gt;

&lt;!-- The tableCommonBGColor MUST be the same color as the 
   table.commonBGColor in erddap.css above. Suggested is #f1ecd8. 
   But if you use erddapAlt.css, change this to #e7dec5. --&gt;
&lt;tableCommonBGColor&gt;#f1ecd8&lt;/tableCommonBGColor&gt;

&lt;!-- This is used, e.g., for the type=variable rows on the metadata
  info tables. --&gt;
&lt;tableHighlightBGColor&gt;#cceecc&lt;/tableHighlightBGColor&gt;
</pre>
    Thanks to POST, Hans Vedo, and Rick Blair.
  <li>REQUIRED: In setup.xml, in <kbd>&lt;startBodyHtml&gt;</kbd>, 
    change the <kbd>&lt;body&gt;</kbd> tag to be just <kbd>&lt;body&gt;</kbd>,
    since the style is now set by erddap.css.
  <li>REQUIRED: In setup.xml, change to this <kbd>&lt;endBodyHtml&gt;</kbd> 
    (but change the email address to your 
    email address and feel free to make other changes):
<pre>
&lt;!-- The end of the body of the HTML code for all HTML web pages
  (with "&lt;/body&gt;" at the end). 
This may include &amp;erddapUrl;, which is expanded to be 
  [baseUrl]/erddap (or [baseUttpsUrl]/erddap if the user is logged in).
If your ERDDAP allows users to log in, all referenced image files, etc. 
  must be in [tomcat]/content/erddap/images or a subdirectory
  and must be referenced here with &amp;erddapUrl;/images/[fileName].

You can change this, but please keep "ERDDAP, Version &amp;erddapVersion;"
and these references to the Disclaimers and Privacy Policy. --&gt;
&lt;endBodyHtml&gt;&lt;![CDATA[ 
&lt;br&gt;&amp;nbsp;
&lt;hr&gt;
ERDDAP, Version &amp;erddapVersion;
&lt;br&gt;&lt;font class="subduedColor"&gt;Questions, comments, 
  suggestions?  Please send an email to 
  &lt;tt&gt;bob dot simons at noaa dot gov&lt;/tt&gt;
&lt;br&gt;and include the ERDDAP URL directly related to your question
  or comment.
&lt;br&gt;
  &lt;a href="&amp;erddapUrl;/legal.html"&gt;Disclaimers&lt;/a&gt; | 
  &lt;a href="&amp;erddapUrl;/legal.html#privacyPolicy"&gt;Privacy 
    Policy&lt;/a&gt;
&lt;/font&gt;
&lt;/body&gt;
]]&gt;&lt;/endBodyHtml&gt;
</pre>
  <li>HIGHLY RECOMMENDED: In setup.xml, the recommended <kbd>&lt;theShortDescriptionHtml&gt;</kbd>
  is now 
<pre>
&lt;theShortDescriptionHtml&gt;&lt;![CDATA[ 
&lt;h1&gt;ERDDAP&lt;/h1&gt;
This website (the Environmental Research Division's Data Access 
Program) aggregates scientific data from diverse local and remote 
sources and offers you a simple, consistent way to download subsets 
of the data in common file formats and make graphs and maps.
This particular ERDDAP installation has oceanographic data
(for example, data from satellites and buoys).

[standardShortDescriptionHtml]
]]&gt;&lt;/theShortDescriptionHtml&gt;
</pre>
     Feel free to change this, particularly the last sentence in the first paragraph.
  <li>In setup.xml, emailEverythingTo and emailDailyReportTo can now be comma-separated lists of email 
    addresses. The first emailEverythingTo is special, e.g., subscriptions to EDDXxxxFromErddap 
    datasets use that email address. Thanks to John Maurer.
  <li>Email errors are now logged to the [bigParentDirectory]/logs/emailLogYYYY-MM-DD.txt file.
  <li>In setup.xml, there is a new, optional parameter to set email account properties (usually right after
    <kbd>&lt;emailPassword&gt;</kbd>): 
    <br><kbd>&nbsp;&nbsp;&lt;emailProperties&gt;<i>propertyName1</i>|<i>propertyValue1</i>|<i>propertyName2</i>|
      <i>propertyValue2</i>|...&lt;/emailProperties&gt;
    </kbd>
    <br>For example, gmail accounts need <br><kbd>&nbsp;&nbsp;&lt;emailProperties&gt;mail.smtp.starttls.enable|true&lt;/emailProperties&gt;</kbd>
    <br>The default is nothing.
    Thanks to Rich Signell.

  <li>REQUIRED: If you use EDDTableCopy or EDDGridCopy, you must DELETE all
     [bigParentDirectory]/copy/ directories and files that contain "xh" in the directory 
     or filenames after stopping the old ERDDAP and before starting the new ERDDAP 
     so those files will be re-copied.
     I'm very sorry, but it was important to make the change and hopefully it affects few admins and 
     few files.
     <br>In Linux, you can find these files with,  
        <kbd>
        <br>&nbsp;&nbsp;cd [bigParentDirectory]/copy
        <br>&nbsp;&nbsp;find . *xh*
        </kbd>
     <br>In Windows, you can find these files with,  
        <kbd>
        <br>&nbsp;&nbsp;Start | Search
        <br>&nbsp;&nbsp;&nbsp;What do you want to search for: Documents
        <br>&nbsp;&nbsp;&nbsp;&nbsp;All or part of the filename: xh
        <br>&nbsp;&nbsp;&nbsp;&nbsp;Look in: Browse -> [bigParentDirectory]/copy
        <br>&nbsp;&nbsp;&nbsp;&nbsp;Click on 'Search'
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^A to select them all 
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Del to delete them all
        </kbd>
  <li>REQUIRED: In datasets.xml, for EDDTableFromDatabase datasets, for date and timestamp variables,
    change the dataType to <kbd>double</kbd> and the units to 
    <kbd>seconds since 1970-01-01T00:00:00Z</kbd>.
    We REQUIRE that you store timestamp data in the database *with* a timezone.
    Without timezone information, the queries that ERDDAP sends to the database and the results that 
    ERDDAP gets from the database via JDBC are ambiguous and are likely to be wrong. 
    We tried, but found no reliable way to deal with "timestamp without timezone" data.
    We think this is good practice anyway. 
    After all, "timestamp without timezone" data has an implied timezone. 
    While it is great that the time zone is obvious to the database admin, it makes sense to specify it     
    explicitly so that other software can properly interact with your database. Thanks/sorry Michael Urzen.
  <li>HIGHLY RECOMMENDED: In datasets.xml, to enable .subset web pages for faceted search of your tabular datasets, 
    you need to add 
      <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#subsetVariables"
      ><kbd>&lt;subsetVariables&gt;</kbd></a> to the dataset's global attributes. 
  <li>RECOMMENDED: In datasets.xml, if you have the dataset with datasetID="pmelGtsppp", 
    please change it to be
    <br>&nbsp;&nbsp;<kbd>&lt;dataset type="EDDTableFromDapSequence" datasetID="pmelGtsppp" active="false"&gt;</kbd>
    <br>Whether or not you had that dataset, feel free to add this new GTSPP dataset:
    <br>&nbsp;&nbsp;<kbd>&lt;dataset type="EDDTableFromErddap" datasetID="erdGtsppBest"&gt;    <br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;sourceUrl&gt;https://coastwatch.pfeg.noaa.gov/erddap/tabledap/erdGtsppBest&lt;/sourceUrl&gt;
    <br>&nbsp;&nbsp;&lt;/dataset&gt;</kbd>
  <li>RECOMMENDED: In datasets.xml, there are new valid options for the 
     <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#cdm_data_type"
     ><kbd>&lt;cdm_data_type&gt;</kbd></a> global attribute, 
     so you should review/change the value for your datasets.
  <li>In datasets.xml, the new 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#sourceNeedsExpandedFP_EQ"
    ><kbd>&lt;sourceNeedsExpandedFP_EQ&gt;</kbd></a> is helpful if the source server doesn't   
    consistently handle <kbd>&amp;<i>variable</i>=<i>value</i></kbd> tests correctly
    (because of the 
      <a href="http://www.cygnus-software.com/papers/comparingfloats/comparingfloats.htm">general 
      difficulty of testing the equality of floating point numbers<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a>). 
    <kbd>sourceNeedsExpandedFP_EQ</kbd> is set to <kbd>true</kbd> by default (the safest setting), 
      so you don't need to make
    any changes.
  <li>New 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromAsciiFiles"
    >EDDTableFromAsciiFiles</a>. Thanks to Jerry Yun Pan.
  <li>New
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromThreddsFiles"
    >EDDTableFromThreddsFiles</a>.  Thanks to Roy Mendelssohn.
  <li>Changes to 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromNcFiles"
    >EDDTableFromNcFiles</a> lets it be used with a wider range of files. 
  <li>EDDTableFromBMDE has been disabled. There are no longer any active, appropriate, data sources.
  <li>In GenerateDatasetXml, the new EDDGridFromThreddsCatalog harvests an entire THREDDS catalog
    (or a subset) and generates datasets.xml content. Thanks to the UAF project.
  <li>GenerateDatasetsXml and DasDds now also put their results in [bigParentDirectory]/logs/log.txt.
    Thanks to Rich Signell and Charles Carleton.
  <li>Many improvements to the login system. Thanks to POST.
  </ul>

<li><strong>Things ERDDAP Programmers Need to Know and Do:</strong>
  <ul>
  <li>There have been changes in the /WEB-INF/lib/ directory. Please change your javac and java 
    classpath settings accordingly.
  <li>There is a new [yourUrl]/erddap/version service to determine the version of an ERDDAP. 
     The response is text, e.g., <kbd>ERDDAP_version=1.24</kbd>  
     If you get an HTTP 404 Not-Found error message, treat the ERDDAP as version 1.22 or lower. 
     Thanks to POST.
  </ul>

<li><strong>Small Changes and Bug Fixes:</strong>
  <ul>
  <li>EDDTableFromSos changes:
    <ul>
    <li>Dropped support for reading IOOS SOS XML responses.
    <li>Added support for reading IOOS SOS text/csv. (So NOS SOS servers currently aren't supported.)
    <li>Made lots of changes related to IOOS SOS server details.
    <li>Added support for BBOX queries for IOOS SOS and OOSTethys SOS servers.
    </ul>
    These changes result in a big speed up for relevant data requests.
    Thanks to IOOS SOS.
  <li>Text in .mat tabular data files is now saved correctly.  Thanks to Roy Mendelssohn.
  <li>WMS
    <ul>
    <li>OpenLayers is now bundled with ERDDAP for use on the WMS web pages. 
      This fixes the problem caused when OpenLayers changed a few months ago and
      prevents future problems.
    <li>In the WMS GetCapabilities response, the <kbd>&lt;OnlineResource&gt;</kbd> value is now 
      the URL of the WMS service.  Thanks to Charlton Galvarino.
    <li>A legend is displayed on the WMS web page to show the colorbar.
    Thanks to Emilio Mayorga.    
    </ul>
  <li>EDDGridAggregateExistingDimension constructor had problems if an axis'
  sourceValues weren't
    equal to their destinationValues, e.g., if source time was something other than 
    "seconds since 1970-01-01".  Thanks to Todd Spindler.  
  <li>In TableWriterGeoJson, the excess ',' after <kbd>bbox[...]</kbd> as been removed.
  Thanks to Greg Williams. 
  <li>Many small changes and bug fixes.
  </ul>
<br>&nbsp;
</ul>


<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.22" href="#changes1.22" rel="bookmark">Changes</a> 
in ERDDAP version 1.22 (released 2009-07-05)</h2>
<ul>
<li> The SlideSorter bug introduced in 1.20 is fixed.
<li> The OBIS bug introduced in 1.20 is fixed.
<li> The references to Jason datasets on the images/gadgets/GoogleGadgets page were removed.
<br>&nbsp;
</ul>

<!-- ****************************************************************************** -->
<h2><a class="selfLink" id="changes1.20" href="#changes1.20" rel="bookmark">Changes</a>
in ERDDAP version 1.20 (released 2009-07-02)</h2>
<ul>
<li>ERDDAP administrators, please add this to your setup.xml file:
<pre>
&lt;!-- If you want to restrict access to some datasets, you need to 
specify the method used for logging on (authentication). See the info 
at https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#security
Currently, the options are: "" (logins not supported, the default),
"custom", "openid". Note that openid login doesn't work when testing 
with localhost (https://127.0.0.1:8443).
--&gt;
&lt;authentication&gt;&lt;/authentication&gt;

&lt;!-- This specifies how you have stored passwords in the roles tags 
in datasets.xml. If you aren't storing any passwords this is irrelevant.
The options (in order of increasing security) are: "plaintext", "MD5", 
or "UEPMD5" (MD5(UserName:ERDDAP:Password), the default).
You should only use "plaintext" or "MD5" if you need to match values 
stored that way in an external password database.  See the info at
https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#security
--&gt;
&lt;passwordEncoding&gt;UEPMD5&lt;/passwordEncoding&gt;

&lt;!-- This determines whether datasets that the user doesn't currently
have access to (because he isn't logged in or because his roles don't
allow access) should be shown on lists of data sets 
(e.g., from full text search, categorize, view all datasets, ...).
The options are: "true", or "false" (the default).
If false, no information about the dataset (even its existence) is 
  shown to users who don't have access to it.
If true, some information about the dataset (title, summary, etc) is
  shown to users who don't have access to it.  
  If the user clicks on a link to a dataset he doesn't have access to,
  he will get an error message and be prompted to log in.
--&gt;
&lt;listPrivateDatasets&gt;false&lt;/listPrivateDatasets&gt;

&lt;!-- If the number of requests between two runs of LoadDatasets 
exceeds unusualActivity, an email is sent to emailEverythingTo.
The default is 10000.
--&gt;
&lt;unusualActivity&gt;10000&lt;/unusualActivity&gt;
</pre>

<li>New dataset types 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridCopy"
  >EDDGridCopy</a>
  and
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableCopy"
  >EDDTableCopy</a>
  make and maintain a local copy 
  of another EDDGrid or EDDTable dataset's data and serve data from the local copy. 
  These are very easy to use and very effective 
  <strong>solutions to some of the biggest problems with serving data from remote data sources:</strong>
  <ul>
  <li>Accessing data from a remote data source can be slow (for a variety of reasons).
  <li>The remote dataset is sometimes unavailable (again, for a variety of reasons).
  <li>Relying on one source for the data doesn't scale well (e.g., when many users and many ERDDAPs 
    utilize it).
  </ul>
  Plus, the local copy is a backup of the original, which is useful in case 
  something happens to the original.

  <p>There is nothing new about making a local copy of a dataset.
  What is new here is that these classes
  make it *easy* to create and *maintain* a local copy of data from a *variety* of types 
  of remote data sources and *add metadata* while copying the data.

  <p>These dataset types are part of a complete set of features that simplify 
  the creation of 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/grids.html"
  >grids/clusters/federations of ERDDAPs</a> 
  to handle very heavy loads (e.g., in a data center).

<li>New dataset type
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromDatabase"
  >EDDTableFromDatabase</a>
  gets data from a local or remote database table.
<li>ERDDAP now has a 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#security">security</a> 
  system that supports
  authentication (letting users log in)
  and authorization (granting them access to certain private datasets).
<li>There are 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#Tools"
  >two, new, command-line tools</a>
    to help ERDDAP administrators generate the XML for a new dataset 
  in datasets.xml:
  <ul>
  <li>GenerateDatasetsXml can generate a rough draft of the dataset XML for 
    almost any type of datasets.
  <li>DasDds helps you repeatedly test and refine the XML for a dataset.
  </ul>
  ERDDAP's GenerateDatasetsXml web pages have been removed. 
  For security reasons, they only supported
  a few dataset types. The new command line tools are a better solution.
<li>The new 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#statusPage">status page</a> 
  lets anyone (but notably administrators)
  view the status of an ERDDAP 
  from any browser by going to [baseUrl]/erddap/status.html .
<li>Tabledap now supports      
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#functions"
  >server-side functions</a>:
  <ul>
  <li>&amp;distinct() removes duplicate rows from the response table,
  <li>&amp;orderBy(...) lets you specify how the response table should be sorted,
  <li>&amp;orderByMax(...) lets you specify how the response table should be sorted
    and removes all rows 
    except for the rows with the maximum values in the last specified column.
    This can be used, for example, to get the last available data for each station.
  </ul>
<li>Tabular datasets can now include additional dateTime variables which aren't named "time".
  These variables are recognized by their "units" metadata, which must contain 
  " since " (for numeric dateTimes)
  or "yy" or "YY" (for formatted String dateTimes).
  But please still use the destinationName "time" for the main dateTime variable.
<li>ERDDAP now generates a 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#sitemap">sitemap.xml</a> 
  file, which tells
  search engines that your ERDDAP
  only needs to be crawled every month.
  ERDDAP administrators, please follow 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#sitemap">these instructions</a> 
  to notify the search engines about the new sitemap.xml file.
<li>ERDDAP's error messages are now much shorter and geared to clients (not programmers).
   Thanks to Greg Williams.
<li><a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#requestBlacklist"
  ><kbd>&lt;requestBlacklist&gt;</kbd></a>
now also supports IP addresses where the last number has been replaced by *.
<li>Requests for .json and .geoJson files may now include an optional 
  <a href="http://niryariv.wordpress.com/2009/05/05/jsonp-quickly/">jsonp<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a> request
  by adding "&amp;.jsonp=<i>functionName</i>" to the end of the query.
  Basically, this just tells ERDDAP to add "<i>functionName</i>(" to the beginning of the response and
  ")" to the end of the response.
  If originally there was no query, leave off the "&amp;" in your query.
  Thanks to Greg Williams.
<li>Lots of new statistics were added to the 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#dailyReport">Daily Report</a>.
<li>On web pages with lists of datasets, institution and id are now at the far right.
  This moves subscription and other more useful columns into view on narrow computer screens.
<li>On all web pages, the page's title (based on the <kbd>&lt;title&gt;</kbd> 
  in the <kbd>&lt;startHeadHtml&gt;</kbd> 
  that you define in setup.xml) is modified to include a better description of the web page
  (for example, by including the current dataset's title and institution).
<li>Xmx information is now included with the memory information printed in log.txt, the Daily Report,
  and on status.html. Thanks to Ellyn Montgomery.
<li>Erddap has additional, general-purpose protection against all errors (e.g., OutOfMemoryError).
  Thanks to Charles Carleton.
<li>Improvements to error handling if the response has already been committed.
<li>Change: EDDTableFromFiles and EDDGridFromFiles now just allow <kbd>&lt;metadataFrom&gt;</kbd>
  <kbd>first</kbd> or <kbd>last</kbd>.
  <kbd>penultimate</kbd> is no longer supported.
  And first and last are now based on the files' lastModifiedTime.
<li>Bug fix: in EDDTableFromSOS, invalid info for one station threw an exception 
  and caused the whole dataset to be rejected. Now, those stations are just ignored 
  (and the error message is logged to log.txt). Thanks to Rick Blair.
  <br>&nbsp;  
</ul>

<h2><a class="selfLink" id="changes1.18" href="#changes1.18" rel="bookmark"
  >Changes</a> in ERDDAP version 1.18 (released 2009-04-08)</h2>
<ul>
<li>Bug fix: Starting in 1.14, the EDDTable Data Access Form and Make A Graph
web page didn't properly 
  deal with quoted constraints.
<li>Bug fix: Starting in 1.14, EDDTableFromDapSequence didn't handle time
constraints correctly if the 
  source time units weren't "seconds since 1970-01-01T00:00:00".
  <br>&nbsp;
</ul>

<h2><a class="selfLink" id="changes1.16" href="#changes1.16" rel="bookmark"
>Changes</a> in ERDDAP version 1.16 (released 2009-03-26)</h2>
<ul>
<li>ERDDAP administrators:
  <ul>
  <li>This is an important release because it fixes a bug that left an ERDDAP thread running 
    if you used Tomcat Manager to Stop/Start or Reload ERDDAP.
    So when you install 1.16, don't just use Tomcat manager to undeploy the 
    old ERDDAP and deploy the 
    new ERDDAP.
    Instead: <strong>undeploy the old ERDDAP, restart Tomcat (or the server),
    then deploy the new ERDDAP.</strong>
    It's always a good idea to do that when installing a new version.
  <li>Please add 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#requestBlacklist"
    ><kbd>&lt;requestBlacklist&gt;&lt;/requestBlacklist&gt;</kbd></a>
    to your datasets.xml.
    This can be used to specify a list of client IP addresses to be blocked 
    (e.g., to fend off a Denial of Service attack or an overly zealous web robot).
  </ul>
<li>There is now a [bigParentDirectory]/logs directory to hold the ERDDAP log files.
  When you start ERDDAP, it makes an archive copy of the log.txt and log.txt.previous files with a 
  time stamp. If there was trouble before the restart, it may be useful to analyze these files.
<li>ERD's ERDDAP now has the subscription system turned on.
<li>ERDDAP once again allows (but still doesn't recommend) the "%26" encoding of "&amp;" in request URLs 
  (see the <a href="#percent26">related v1.14 change</a>). 
<li>Several new additions to the Tally section of the 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#dailyReport">Daily Report</a>.
<li>Small bug fixes in generateDatasetsXml.
<li>A few small bug fixes.
  <br>&nbsp;
</ul>


<h2><a class="selfLink" id="changes1.14" href="#changes1.14" rel="bookmark">Changes</a>
in ERDDAP version 1.14 (released 2009-03-17)</h2>
<ul>
<li>Changes for users:
  <ul>
  <li>In grid data requests, ERDDAP now supports: 
      <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#last"
      >last-n</a> 
      where n is an integer number of indices and
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/documentation.html#lastInParentheses"
    >(last-d)</a>
      where d is a numeric value (for time, it is in seconds).
  <li>In tabular data requests, String constraints now require 
     <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#QuoteStrings"
     >double quotes</a>
     around the value, for example,
     <kbd>&amp;id="NDBC40121"</kbd>
     This is required by the DAP protocol.
  <li>In tabular data requests, ERDDAP now requires that 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/tabledap/documentation.html#PercentEncode"
    >all constraints be properly percent encoded</a>. 
    Browsers do this automatically, so this mostly affects computer programs/scripts that are
    accessing ERDDAP.
  <li><a class="selfLink" id="percent26" href="#percent26" rel="bookmark"
  >Previously,</a> the
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/images/embed.html"
    >embed a graph web page</a> and the 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/images/gadgets/GoogleGadgets.html"
    >ERDDAP Google Gadget web page</a>
    said to replace the "&amp;" in the image's URL with "%26".
    From now on, you should replace the "&amp;" in the image's URL with "&amp;amp;".
    So you need to replace any "%26" in existing web pages and
    Google Gadgets with "&amp;amp;". (Sorry)
  </ul>
<li>ERDDAP administrators, please:
  <ul>
  <li>Add the following to your 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#setup.xml">setup.xml</a>
    file (and change the flagKeyKey value):
    <pre>
&lt;!-- ERDDAP has a service that lets remote users set a flag
to notify ERDDAP to try to reload a dataset.
These requests use a key which is generated based
on baseUrl/warName, a datasetID, and flagKeyKey.
*** Change this once, to any text (a favorite quote? random text? 
It doesn't matter). Normally, you won't ever change this again.
But if you think someone is abusing the flag system,
change this text again, restart ERDDAP, and send
all of the users of the flag system the relevant new flagKeys
(see the list in the Daily Report). --&gt;
&lt;flagKeyKey&gt;A stitch in time saves nine. CHANGE THIS!!!&lt;/flagKeyKey&gt;

&lt;!-- ERDDAP has an email/URL subscription system which sends a user
an email or pings a url whenever a dataset of interest changes.
(This is different from the RSS system, which is always active.)
The system relies on the server being able to send out 
emails to people to validate their subscription requests.
The emails appear to come from the emailFromAddress below.
So if your server can't send out emails, don't make this system active.
You may choose (for whatever reason) to make this system active or not, 
so valid values below are "true" (the default) and "false".
Note that if you change this and restart ERDDAP, the list of 
subscriptions (in [bigParentDirectory]/subscriptionsV1.txt) isn't
affected. See also the subscriptionEmailBlacklist in datasets.xml.
--&gt;
&lt;subscriptionSystemActive&gt;true&lt;/subscriptionSystemActive&gt;  </pre>
  <li>On the line after <kbd>&lt;emailUserName&gt;</kbd> in your
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#setup.xml">setup.xml</a> file,
    add
    <br><kbd>&lt;emailPassword&gt;<i>myPassword</i>&lt;/emailPassword&gt;
      &lt;!-- optional; if absent, emails
      can't be sent to non-local addresses &gt;</kbd>
    <br>and enter your real password.
  <li>You can change <kbd>&lt;wmsSampleBBox&gt;</kbd> in your
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#setup.xml">setup.xml</a> file
    to include longitude values up to 360, e.g., 
    <pre>
&lt;!-- The bounding box values are 
   minLongitude,minLatitude,maxLongitude,maxLatitude.
   Longitude values within -180 to 180, or 0 to 360, are now okay. --&gt;
&lt;wmsSampleBBox&gt;0,-75,360,75&lt;/wmsSampleBBox&gt;  </pre>
  <li>In your datasets.xml file, rename dataset type EDDTableFromNc4DFiles to EDDTableFromNcFiles
    (which now supports files with any number of dimensions).
    If you had an EDDTableFromNc4DFiles dataset:
    <ol>
    <li>You MUST change to type="EDDTableFromNcFiles" in your datasets.XML file.
    <li>You MUST add a <kbd>&lt;nDimensions&gt;4&lt;/nDimensions&gt;</kbd> tag to the dataset's XML.
    <li>You may add the new <kbd>&lt;sortFilesBySourceNames&gt;</kbd>
      tag to specify the internal order for the files,
      which determines the overall order of the data returned.
    </ol>
    For details, see 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromFiles"
    >EDDTableFromFiles</a>.
  <li>In the past, for EDDTableFromDapSequence, for OPeNDAP DRDS servers, in datasets.xml, we used 
    <kbd>&lt;sourceCanConstrainStringsRegex&gt;~=&lt;/sourceCanConstrainStringRegex&gt;</kbd>.
    But we now see that the DRDS regex support is more limited than ERDDAP's, so we recommend
    <kbd>&lt;sourceCanConstrainStringsRegex&gt;&lt;/sourceCanConstrainStringRegex&gt;</kbd>
    so that regex constraints are not passed to the source, but are instead handled by ERDDAP.
  <li>Revamped handling of sourceCanConstrain... in datasets.xml by 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromDapSequence"
    >EDDTableFromDapSequence</a> 
    and (internally) all EDDTable dataset types.  
    The new system is simpler and better reflects the variability of different data sources.
    You may need to modify the XML for your datasets in datasets.xml.
  </ul>
<li>There are several new features which are useful by themselves, 
  but when combined, also facilitate the creation of 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#grids"
  >grids/clusters/federations of ERDDAPs</a>.
  <ul>
  <li>New dataset types:
    <ul>
    <li><a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromErddap"
    >EDDGridFromErddap</a> 
      and 
      <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromErddap"
      >EDDTableFromErddap</a>
      which let one ERDDAP include a dataset 
      from another ERDDAP in a very simple and very efficient way.
    <li><a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromFiles"
    >EDDGridFromFiles</a> 
      (and its subclass, 
      <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDGridFromNcFiles"
      >EDDGridFromNcFiles</a> 
      which can read NetCDF .nc, 
      GRIB .grb, and HDF .hdf files).
    <li><a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#EDDTableFromNcFiles"
    >EDDTableFromNcFiles</a>
      which can read NetCDF .nc which have a table-like structure.
    </ul>
  <li>RunLoadDatasets and LoadDatasets were revamped so that ERDDAP is very responsive to reloading 
    datasets based on files in the 
      <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#flag">flag</a> 
      directory (often &lt;5 seconds if main loadDatasets is currently done).
  <li>New service to allow 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#setDatasetFlag">a URL to create a flag file</a> 
    for a given dataset, e.g.,
   <br>https://coastwatch.pfeg.noaa.gov/erddap/setDatasetFlag.txt?datasetID=rPmelTao&amp;flagKey=123456789
   <br>creates a flag file in the flag directory for rPmelTao (although the flagKey here is wrong). 
  <li>New <a href="https://coastwatch.pfeg.noaa.gov/erddap/subscriptions">subscription</a> 
        service so that any client can specify an action 
    which will be done when a specific dataset is created (when ERDDAP is restarted) and 
    whenever the dataset changes in any way.
    This system can be disabled via <kbd>&lt;subscriptionSystemActive&gt;</kbd>
    in your <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#setup.xml">setup.xml</a> file.
    The ERDDAP 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#dailyReport">Daily Report</a> 
    now lists all of the subscriptions and includes
    the URL needed to cancel each one, in case you feel the system is being abused.
    In datasets.xml, there is a new, optional 
      <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#subscriptionsEmailBlacklist"
      ><kbd>&lt;subscriptionsEmailBlacklist&gt;</kbd></a> tag so that administrators 
    can specify a comma-separated list of email addresses which are immediately blacklisted from the 
    subscription system.
  <li>New <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#onChange"
  ><kbd>&lt;onChange&gt;</kbd></a> 
        attribute in datasets.xml lets the ERDDAP administrator specify an action 
    which will be done when a specific dataset is created (when ERDDAP is restarted) and 
    whenever the dataset changes in any way.
  <li>Improvements to full text search: storing the search string for each dataset now uses 1/2 the memory.
    The search algorithm (Boyer-Moore-like) is now 3X faster.
  <li>Emails from ERDDAP now always prepend the subject and content with [erddapUrl],
    so that it will be clear which ERDDAP this came from (in case you administer multiple ERDDAPs).
  <li>More extensive statistics gathering for the 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#dailyReport">Daily Report</a> email.
  <li>New log file [bigParentDirectory]/emailLogYEAR-MM-DD.txt logs all emails sent by ERDDAP each day.
    This is especially useful if your server can't actually send emails -- you can at least read them 
    in the log.
  <li>ERDDAP now makes a [bigParentDirectory]/cache/(datasetID) directory for each dataset since 
    there may be lots of files cached.
  </ul>
<li>New <a href="https://coastwatch.pfeg.noaa.gov/erddap/information.html#subscriptions">RSS 2.01</a> 
  feed for each dataset (look for the orange RSS icons on lists of datasets, Data Access Forms,
  and Make A Graph web pages).
<li> EDDGrid .kml responses now use tiled images ("superoverlays" -- dynamically generated quadtree images).
  The initial image loads into GoogleEarth much faster than before.
  The resolution of the map increases as you zoom in, up to the full resolution of the dataset.
  Recommend: users should request .kml for one time point, 
  but the dataset's entire longitude,latitude range.
  Unfortunately, support for time ranges was removed (I hope it will come back).
<li>ERDDAP now adds 
  <a href="http://developer.yahoo.net/blog/archives/2007/05/high_performanc_2.html"
  >Expires and Cache-Control max-age headers<img 
      src="../images/external.png" alt=" (external link)" 
      title="This link to an external website does not constitute an endorsement."></a> 
  to all files requested from the 
  /images directory.
  This greatly reduces the number of static file requests sent to ERDDAP
  and thus greatly speeds up most ERDDAP page loads.
  Also, many JavaScript file references moved to the bottom of their HTML pages,
  which also speeds up many ERDDAP page loads.
  Thanks to the book "High Performance Web Sites" by Steve Souders and the ySlow addition to the 
  FireBug plugin in FireFox.
<li>ERDDAP switched from netcdf-java 2.2.22 to netcdf-java 4.0.
  Among other things, this allows EDDGridFromNcFiles to read HDF .hdf, as well as GRIB .grb and
  NetCDF .nc files.
<li>EDDGridFromDap and EDDGridFromNcFiles now also support DArray (as well as DGrid) dataVariables.
  If a dimension doesn't have a corresponding coordinate variables,
  ERDDAP creates an axis variable with the index values (e.g., 0, 1, 2, ..., 311, 312).
  So all other aspects of EDDGrid remain the same:
  <br>* It still serves all datasets as Grids, with an axis variable for each dimension.
  <br>* Queries can still request values from the axis variables.
  <br>Thanks to Charles Carleton, Thomas Im, Dorian Raymer, and others.
<li>The WMS OpenLayers pages now have a default longitude,latitude range that is a little larger than the
  dataset's range (not the exact range, so the context of small datasets is more obvious).
  The default range may now also be 0 to 360, which allows the full range of many datasets to be shown now.
  Thanks to Todd Spindler.
<li>New sliders on some Data Access Forms and Make A Graph web pages.
  They simplify (crude) specification of the desired data and offer good visual feedback.
<li>A new option for the <kbd>&lt;dataset&gt;</kbd> tags in datasets.xml: 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#active"
    >active="false"</a>.
<li>References to ERD's ERDDAP changed from coastwatch.pfel (still works via proxy)
  to coastwatch.pfeg (preferred).
<li>New support for 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#data_min"
    >data_min and data_max</a> variable metadata attributes.
<li>A partial solution to the 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#waitThenTryAgain"
    >WaitThenTryAgain / Partial Results Exception</a>:
  Now, some requests that previously failed when a data source change was detected
  will succeed because ERDDAP will reload the dataset and re-request the data automatically,
  all in the context of the original request.
<li>Bug fix: generateDatasetsXml was disabled in ERDDAP version 1.12.
  Thanks to Ellyn Montgomery for pointing this out.
<li>Small changes to error handling.
<li>Many improvements to avoid/deal with possible race conditions (i.e., possible problems arising 
  from the multi-threaded nature of ERDDAP) which caused small, infrequent problems.
<li>Now, if an error message is written on an image, the image will only stay in the cache for
  ~5-10 minutes (not 60). Thanks to Cara Wilson.
<li>The standard message when there is no data is now "Your query produced no matching results.", 
  which is shorter, more accurate, and matches OPeNDAP servers.
<li>EDDGrid no longer allows tied axis values.
<li>Small changes to .ver and .help requests.
<li>Many small changes and bug fixes.
  <br>&nbsp;
</ul>


<h2><a class="selfLink" id="changes1.12" href="#changes1.12" rel="bookmark">Changes</a>
in ERDDAP version 1.12 (released 2008-10-31)</h2>
<ul>
<li>EDDTableFromSOS once again works with NDBC SOS and works with the new NOS SOS.
<li>EDDTableFromBMDE now requires ERDDAP admin to specify dataVariables.
<li>EDDGrid no longer requires that lat and lon be evenly spaced for .transparentPng or .kml.
  Thanks to Todd Spindler.
<li>A few small changes.
  <br>&nbsp;
</ul>


<h2><a class="selfLink" id="changes1.10" href="#changes1.10" rel="bookmark">Changes</a> 
in ERDDAP version 1.10 (released 2008-10-14)</h2>
<ul>
<li>New "colorBar" metadata for data variables in datasets.xml defines the default color bar settings 
  for graphs and maps. See 
<a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#colorBar"
>more information</a>.
  This is important because it greatly improves the appearance of the default graphs and maps 
  produced by Make A Graph and because the default graphs and maps now have a consistent color
  bar even when the client changes the requested time or geographic range.
  Also, this was necessary for WMS.
<li> ERDDAP now serves most grid data via a WMS service. This is important because it shows that, 
  in addition to getting data from many types of data servers, ERDDAP can distribute data via 
  different protocols (DAP, WMS, ... more in future).  See the
<a href="https://coastwatch.pfeg.noaa.gov/erddap/wms/documentation.html">client documentation</a>.
  Or the
<a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#WMS"
>documentation for administrators</a>. 
  Or  
<a href="https://coastwatch.pfeg.noaa.gov/erddap/wms/index.html">try it out</a>. 
<li> New support for longitude values &gt;180 in .kml files.
<li> New cdm_data_type: Other .
<li> ERDDAP now supports "boolean" source dataType.  See
<a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#booleanData"
>more information</a>
  This will become useful for the future EDDTableFromDatabase.
<li> New EDDTableFromBMDE supports DiGIR/BMDE data sources.
<li> EDVGridAxis now allows descending sorted values. The pmelOscar datasets needed this.
<li> ERDDAP now returns HTTP errors (e.g., "404 for resource/page not found") in more situations, 
  instead of HTML pages with error messages.
<li> Lots of changes/additions to the ERDDAP documentation.
<li> Lots of small changes.
<li> Some bug fixes.

<li><strong>Things ERDDAP administrators should do to upgrade to this version:</strong>
<ul>
<li>In datasets.xml, for any EDDTableFromSOS datasets, change "observedProperty" metadata to 
  "sourceObservedProperty".
<li>The rules for an axisVariable or dataVariable's destinationName are now 
  <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#dataVariable"
  >stricter</a>. 
  You need to check that your variable names are valid.
  Either check them by hand, or run ERDDAP and look at the error messages in the report that is 
  emailed to the administrator.
<li>In datasets.xml, if you want a grid data variable to be accessible via WMS, you need to add 
  colorBar metadata. At least, for example,<kbd>
  <br> &nbsp; &lt;att name="colorBarMinimum" type="double"&gt;0&lt;/att&gt;
  <br> &nbsp; &lt;att name="colorBarMaximum" type="double"&gt;32&lt;/att&gt;</kbd>
  <br>See
<a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setupDatasetsXml.html#WMS"
>more information</a>.

<li>Add the following to your 
<a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#setup.xml">setup.xml</a>
file (but customize it with your information): <pre>

&lt;!-- drawLand specifies the default Make A Graph setting for 
whether the landmask should be drawn "over" (the default) or "under" 
surface data on maps. "over" is recommended for primarily 
oceanographic data (so that grid data over land is obscured by the 
landmask). "under" is recommended for all other data.
--&gt;
&lt;drawLand&gt;over&lt;/drawLand&gt;  

&lt;!-- Information about the ERDDAP administrator is used for the 
SOS and WMS servers. You MUST CHANGE these to describe your 
installation. 
--&gt;
&lt;adminInstitution&gt;NOAA Environmental Research 
Division&lt;/adminInstitution&gt;
&lt;adminIndividualName&gt;Your Name&lt;/adminIndividualName&gt;
&lt;adminPosition&gt;Webmaster&lt;/adminPosition&gt;
&lt;adminPhone&gt;your-phone-number&lt;/adminPhone&gt;
&lt;adminAddress&gt;99 Pacific St, Suite 255A&lt;/adminAddress&gt;
&lt;adminCity&gt;Monterey&lt;/adminCity&gt;
&lt;adminStateOrProvince&gt;CA&lt;/adminStateOrProvince&gt;
&lt;adminPostalCode&gt;93940&lt;/adminPostalCode&gt;
&lt;adminCountry&gt;USA&lt;/adminCountry&gt;
&lt;adminEmail&gt;yourName@yourSite&lt;/adminEmail&gt;

&lt;!-- Information about the ERDDAP administrator is used for ERDDAP's
SOS server. You MUST CHANGE these to describe your installation. 
--&gt;
&lt;sosTitle&gt;NOAA Environmental Research Division SOS&lt;/sosTitle&gt;
&lt;sosAbstract&gt;NOAA Environmental Research Division's ERDDAP makes 
  data from multiple sources available via the SOS 
  protocol.&lt;/sosAbstract&gt;
&lt;sosKeywords&gt;Weather, Ocean Currents, Temperature, 
  Salinity&lt;/sosKeywords&gt;
&lt;sosAccessConstraints&gt;NONE&lt;/sosAccessConstraints&gt;
&lt;sosFees&gt;NONE&lt;/sosFees&gt;

&lt;!-- Information about the ERDDAP administrator is used for 
ERDDAP's WMS server. You MUST CHANGE these to describe your 
installation. --&gt;
&lt;wmsTitle&gt;NOAA Environmental Research Division 
WMS&lt;/wmsTitle&gt;
&lt;wmsAbstract&gt;NOAA Environmental Research Division's ERDDAP makes
data from multiple sources available via the WMS 
protocol.&lt;/wmsAbstract&gt;
&lt;wmsKeywords&gt;Weather, Ocean Currents, Temperature, 
  Salinity&lt;/wmsKeywords&gt; 
&lt;wmsAccessConstraints&gt;NONE&lt;/wmsAccessConstraints&gt;
&lt;wmsFees&gt;NONE&lt;/wmsFees&gt;
&lt;!-- For the wms examples, pick one of your grid datasets that has 
longitude and latitude axes. The sample variable must be a variable 
in the sample grid dataset.  The bounding box values are 
minx,miny,maxx,maxy.
--&gt;
&lt;wmsSampleDatasetID&gt;erdBAssta5day&lt;/wmsSampleDatasetID&gt;
&lt;wmsSampleVariable&gt;sst&lt;/wmsSampleVariable&gt;
&lt;wmsSampleBBox&gt;0,-75,180,75&lt;/wmsSampleBBox&gt;

</pre>
  </ul>
</ul>


<h2><a class="selfLink" id="changes1.08" href="#changes1.08" rel="bookmark">Changes</a>
in ERDDAP version 1.08 (released 2008-07-13)</h2>
  <ul>
  <li> A new web service in ERDDAP, generateDatasetsXml, assists ERDDAP administrators by creating 
    a rough draft of the XML needed to describe a dataset in datasets.xml
  <li> Some changes/bug fixes related to allowing griddap to be seen by netcdf-java as an opendap server, 
    including: global metadata is now labeled "NC_GLOBAL" (instead of "GLOBAL").
  <li> The EDDGrid and EDDTable Data Access Forms now utilize query information in the URL.  
    So, for example, if a user goes from a Make A Graph form to a Data Access Form, 
    the constraints are now properly transferred.
  <li> tabledap's Make A Graph now allows constraints on String variables.
  <li> EDDTable's Make A Graph now allows NaN constraints. Thanks to Steve Hankin.
  <li> Bug fix: EDDTable saveAsImage didn't properly recognize the .colorbar min and max values. 
    Thanks to Steve Hankin
  <li> Many improvements to setupDatasetsXml. Thanks to Ellyn Montgomery.
  <li> Griddap requests now allow ()-style requests slightly outside of the actual axis range. 
    This is appropriate since ()-values are rounded to the nearest actual value.
    Thanks to Cindy Bessey
  <li> I made the FloatArray and DoubleArray test of isEvenlySpaced more sophisticated.  
    It will always be imperfect (because the test would need to be customized for each dataset), 
    but it should be better.  Thanks to Ellyn Montgomery.
  <li> I moved setup.html and setupDatasetsXml.html erddap's /download directory and hard coded all
    links to them.  Now, I can make changes and update the setup information immediately.
  <li>Many small changes. A few small bug fixes.
  <li><strong>Things ERDDAP administrators should do to upgrade to this version:</strong>
    <ul>
    <li>Move <kbd>&lt;theShortDescriptionHtml&gt;</kbd> from your messages.xml to your 
      <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#setup.xml">setup.xml</a> file.
      It specifies the text that appears in the middle of the left side of the ERDDAP home page. 
      Also, add <kbd>&lt;h1&gt;ERDDAP&lt;/h1&gt;</kbd> (or some other headline) to the top of it.
      <strong>Or,</strong> copy <kbd>&lt;theShortDescriptionHtml&gt;</kbd> in the new 
        <a href="https://coastwatch.pfeg.noaa.gov/erddap/download/setup.html#setup.xml">setup.xml</a> 
        file (from the new erddapContent.zip) into your setup.xml.
      <br>&nbsp;
    </ul>
  </ul>


<h2>Changes in ERDDAP version 1.06 (released 2008-06-20)</h2>
  <ul>
  <li>New support for IOOS DIF SOS data sources.
  <li>Many small changes. A few small bug fixes.
    <br>&nbsp;
  </ul>


<h2>Changes in ERDDAP version 1.04 (released 2008-06-10)</h2>
  <ul>
  <li>New Slide Sorter feature.
  <li>New Google Gadgets page and examples.
  <li>Bug fix in EDDGrid.saveAsNc for variable with scale and addOffset.
    <br>&nbsp;
  </ul>


<h2>Changes in ERDDAP version 1.02 (released 2008-05-26)</h2>
  <ul>
  <li>New EDDGridSideBySide allows for different axisVariables[0] sourceValues.
  <li>All of the currents and winds datasets were merged into EDDGridSideBySide datasets.
  <li>Images from image requests are now cached for 1 hour.
    <br>&nbsp;
  </ul>

<h2>Changes in ERDDAP version 1.00 (released 2008-05-06)</h2>
  <ul>
  <li>Make A Graph web pages and graphics commands in URLs.
  <li>Support for flag files to force reloading a dataset.
  <li>New dataset type: EDDTableFrom4DFiles (the first subclass of EDDTableFromFiles).
  </ul>



<!-- ******* -->
<br>&nbsp;
<hr>
<h2><a class="selfLink" id="contact" href="#contact" rel="bookmark">Contact</a></h2>
Questions, comments, suggestions?  Please send an email to 
  <kbd>bob dot simons at noaa dot gov</kbd>
and include the ERDDAP URL directly related to your question or comment.

<p><a class="selfLink" id="ERDDAPMailingList" href="#ERDDAPMailingList" rel="bookmark">Or,
you can join the ERDDAP Google Group / Mailing List</a> by visiting
<a class="N" rel="help"
href="https://groups.google.com/forum/#!forum/erddap">https://groups.google.com/forum/#!forum/erddap<img 
  src="../images/external.png" alt=" (external link)" 
  title="This link to an external website does not constitute an endorsement."></a> 
and clicking on "Apply for membership". 
Once you are a member, you can post your question there
or search to see if the question has already been asked and answered. 

<br>&nbsp;
<hr>
<p>ERDDAP, Version 2.00
<br><a href="https://coastwatch.pfeg.noaa.gov/erddap/legal.html">Disclaimers</a> | 
    <a href="https://coastwatch.pfeg.noaa.gov/erddap/legal.html#privacyPolicy">Privacy Policy</a>

</div>
</body>
</html>
